(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[504],{144:function(t,e,n){"use strict";n.d(e,{C4:function(){return b},EW:function(){return Mt},Gc:function(){return vt},IG:function(){return Ct},IJ:function(){return Bt},KR:function(){return Lt},Kh:function(){return yt},Pr:function(){return Xt},QW:function(){return Vt},R1:function(){return Nt},X2:function(){return u},bl:function(){return w},fE:function(){return Et},g8:function(){return xt},hZ:function(){return _},i9:function(){return Ot},jr:function(){return c},ju:function(){return kt},o5:function(){return h},u4:function(){return M},uY:function(){return a},ux:function(){return St},yC:function(){return o}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var s=n(4232);let i,r;class o{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!t&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=i;try{return i=this,t()}finally{i=e}}else 0}on(){i=this}off(){i=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function a(t){return new o(t)}function l(t,e=i){e&&e.active&&e.effects.push(t)}function h(){return i}function c(t){i&&i.cleanups.push(t)}class u{constructor(t,e,n,s){this.fn=t,this.trigger=e,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,l(this,s)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,b();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(d(e.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),w()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=g,e=r;try{return g=!0,r=this,this._runnings++,f(this),this.fn()}finally{p(this),this._runnings--,r=e,g=t}}stop(){this.active&&(f(this),p(this),this.onStop&&this.onStop(),this.active=!1)}}function d(t){return t.value}function f(t){t._trackId++,t._depsLength=0}function p(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)m(t.deps[e],t);t.deps.length=t._depsLength}}function m(t,e){const n=t.get(e);void 0!==n&&e._trackId!==n&&(t.delete(e),0===t.size&&t.cleanup())}let g=!0,y=0;const v=[];function b(){v.push(g),g=!1}function w(){const t=v.pop();g=void 0===t||t}function x(){y++}function A(){y--;while(!y&&k.length)k.shift()()}function E(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&m(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const k=[];function S(t,e,n){x();for(const s of t.keys()){let n;s._dirtyLevel<e&&(null!=n?n:n=t.get(s)===s._trackId)&&(s._shouldSchedule||(s._shouldSchedule=0===s._dirtyLevel),s._dirtyLevel=e),s._shouldSchedule&&(null!=n?n:n=t.get(s)===s._trackId)&&(s.trigger(),s._runnings&&!s.allowRecurse||2===s._dirtyLevel||(s._shouldSchedule=!1,s.scheduler&&k.push(s.scheduler)))}A()}const C=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},T=new WeakMap,R=Symbol(""),I=Symbol("");function M(t,e,n){if(g&&r){let e=T.get(t);e||T.set(t,e=new Map);let s=e.get(n);s||e.set(n,s=C((()=>e.delete(n)))),E(r,s,void 0)}}function _(t,e,n,i,r,o){const a=T.get(t);if(!a)return;let l=[];if("clear"===e)l=[...a.values()];else if("length"===n&&(0,s.cy)(t)){const t=Number(i);a.forEach(((e,n)=>{("length"===n||!(0,s.Bm)(n)&&n>=t)&&l.push(e)}))}else switch(void 0!==n&&l.push(a.get(n)),e){case"add":(0,s.cy)(t)?(0,s.yI)(n)&&l.push(a.get("length")):(l.push(a.get(R)),(0,s.CE)(t)&&l.push(a.get(I)));break;case"delete":(0,s.cy)(t)||(l.push(a.get(R)),(0,s.CE)(t)&&l.push(a.get(I)));break;case"set":(0,s.CE)(t)&&l.push(a.get(R));break}x();for(const s of l)s&&S(s,4,void 0);A()}function F(t,e){const n=T.get(t);return n&&n.get(e)}const O=(0,s.pD)("__proto__,__v_isRef,__isVue"),L=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(s.Bm)),B=P();function P(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=St(this);for(let e=0,i=this.length;e<i;e++)M(n,"get",e+"");const s=n[e](...t);return-1===s||!1===s?n[e](...t.map(St)):s}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){b(),x();const n=St(this)[e].apply(this,t);return A(),w(),n}})),t}function Y(t){(0,s.Bm)(t)||(t=String(t));const e=St(this);return M(e,"has",t),e.hasOwnProperty(t)}class N{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){const i=this._isReadonly,r=this._isShallow;if("__v_isReactive"===e)return!i;if("__v_isReadonly"===e)return i;if("__v_isShallow"===e)return r;if("__v_raw"===e)return n===(i?r?pt:ft:r?dt:ut).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=(0,s.cy)(t);if(!i){if(o&&(0,s.$3)(B,e))return Reflect.get(B,e,n);if("hasOwnProperty"===e)return Y}const a=Reflect.get(t,e,n);return((0,s.Bm)(e)?L.has(e):O(e))?a:(i||M(t,"get",e),r?a:Ot(a)?o&&(0,s.yI)(e)?a:a.value:(0,s.Gv)(a)?i?bt(a):yt(a):a)}}class D extends N{constructor(t=!1){super(!1,t)}set(t,e,n,i){let r=t[e];if(!this._isShallow){const e=At(r);if(Et(n)||At(n)||(r=St(r),n=St(n)),!(0,s.cy)(t)&&Ot(r)&&!Ot(n))return!e&&(r.value=n,!0)}const o=(0,s.cy)(t)&&(0,s.yI)(e)?Number(e)<t.length:(0,s.$3)(t,e),a=Reflect.set(t,e,n,i);return t===St(i)&&(o?(0,s.$H)(n,r)&&_(t,"set",e,n,r):_(t,"add",e,n)),a}deleteProperty(t,e){const n=(0,s.$3)(t,e),i=t[e],r=Reflect.deleteProperty(t,e);return r&&n&&_(t,"delete",e,void 0,i),r}has(t,e){const n=Reflect.has(t,e);return(0,s.Bm)(e)&&L.has(e)||M(t,"has",e),n}ownKeys(t){return M(t,"iterate",(0,s.cy)(t)?"length":R),Reflect.ownKeys(t)}}class X extends N{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const V=new D,U=new X,j=new D(!0),W=t=>t,q=t=>Reflect.getPrototypeOf(t);function z(t,e,n=!1,i=!1){t=t["__v_raw"];const r=St(t),o=St(e);n||((0,s.$H)(e,o)&&M(r,"get",e),M(r,"get",o));const{has:a}=q(r),l=i?W:n?Rt:Tt;return a.call(r,e)?l(t.get(e)):a.call(r,o)?l(t.get(o)):void(t!==r&&t.get(e))}function G(t,e=!1){const n=this["__v_raw"],i=St(n),r=St(t);return e||((0,s.$H)(t,r)&&M(i,"has",t),M(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function H(t,e=!1){return t=t["__v_raw"],!e&&M(St(t),"iterate",R),Reflect.get(t,"size",t)}function $(t,e=!1){e||Et(t)||At(t)||(t=St(t));const n=St(this),s=q(n),i=s.has.call(n,t);return i||(n.add(t),_(n,"add",t,t)),this}function Z(t,e,n=!1){n||Et(e)||At(e)||(e=St(e));const i=St(this),{has:r,get:o}=q(i);let a=r.call(i,t);a||(t=St(t),a=r.call(i,t));const l=o.call(i,t);return i.set(t,e),a?(0,s.$H)(e,l)&&_(i,"set",t,e,l):_(i,"add",t,e),this}function K(t){const e=St(this),{has:n,get:s}=q(e);let i=n.call(e,t);i||(t=St(t),i=n.call(e,t));const r=s?s.call(e,t):void 0,o=e.delete(t);return i&&_(e,"delete",t,void 0,r),o}function J(){const t=St(this),e=0!==t.size,n=void 0,s=t.clear();return e&&_(t,"clear",void 0,void 0,n),s}function Q(t,e){return function(n,s){const i=this,r=i["__v_raw"],o=St(r),a=e?W:t?Rt:Tt;return!t&&M(o,"iterate",R),r.forEach(((t,e)=>n.call(s,a(t),a(e),i)))}}function tt(t,e,n){return function(...i){const r=this["__v_raw"],o=St(r),a=(0,s.CE)(o),l="entries"===t||t===Symbol.iterator&&a,h="keys"===t&&a,c=r[t](...i),u=n?W:e?Rt:Tt;return!e&&M(o,"iterate",h?I:R),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:l?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function et(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function nt(){const t={get(t){return z(this,t)},get size(){return H(this)},has:G,add:$,set:Z,delete:K,clear:J,forEach:Q(!1,!1)},e={get(t){return z(this,t,!1,!0)},get size(){return H(this)},has:G,add(t){return $.call(this,t,!0)},set(t,e){return Z.call(this,t,e,!0)},delete:K,clear:J,forEach:Q(!1,!0)},n={get(t){return z(this,t,!0)},get size(){return H(this,!0)},has(t){return G.call(this,t,!0)},add:et("add"),set:et("set"),delete:et("delete"),clear:et("clear"),forEach:Q(!0,!1)},s={get(t){return z(this,t,!0,!0)},get size(){return H(this,!0)},has(t){return G.call(this,t,!0)},add:et("add"),set:et("set"),delete:et("delete"),clear:et("clear"),forEach:Q(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{t[i]=tt(i,!1,!1),n[i]=tt(i,!0,!1),e[i]=tt(i,!1,!0),s[i]=tt(i,!0,!0)})),[t,n,e,s]}const[st,it,rt,ot]=nt();function at(t,e){const n=e?t?ot:rt:t?it:st;return(e,i,r)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get((0,s.$3)(n,i)&&i in e?n:e,i,r)}const lt={get:at(!1,!1)},ht={get:at(!1,!0)},ct={get:at(!0,!1)};const ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap;function mt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:mt((0,s.Zf)(t))}function yt(t){return At(t)?t:wt(t,!1,V,lt,ut)}function vt(t){return wt(t,!1,j,ht,dt)}function bt(t){return wt(t,!0,U,ct,ft)}function wt(t,e,n,i,r){if(!(0,s.Gv)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=r.get(t);if(o)return o;const a=gt(t);if(0===a)return t;const l=new Proxy(t,2===a?i:n);return r.set(t,l),l}function xt(t){return At(t)?xt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function At(t){return!(!t||!t["__v_isReadonly"])}function Et(t){return!(!t||!t["__v_isShallow"])}function kt(t){return!!t&&!!t["__v_raw"]}function St(t){const e=t&&t["__v_raw"];return e?St(e):t}function Ct(t){return Object.isExtensible(t)&&(0,s.yQ)(t,"__v_skip",!0),t}const Tt=t=>(0,s.Gv)(t)?yt(t):t,Rt=t=>(0,s.Gv)(t)?bt(t):t;class It{constructor(t,e,n,s){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new u((()=>t(this._value)),(()=>Ft(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!s,this["__v_isReadonly"]=n}get value(){const t=St(this);return t._cacheable&&!t.effect.dirty||!(0,s.$H)(t._value,t._value=t.effect.run())||Ft(t,4),_t(t),t.effect._dirtyLevel>=2&&Ft(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Mt(t,e,n=!1){let i,r;const o=(0,s.Tn)(t);o?(i=t,r=s.tE):(i=t.get,r=t.set);const a=new It(i,r,o||!r,n);return a}function _t(t){var e;g&&r&&(t=St(t),E(r,null!=(e=t.dep)?e:t.dep=C((()=>t.dep=void 0),t instanceof It?t:void 0),void 0))}function Ft(t,e=4,n,s){t=St(t);const i=t.dep;i&&S(i,e,void 0)}function Ot(t){return!(!t||!0!==t.__v_isRef)}function Lt(t){return Pt(t,!1)}function Bt(t){return Pt(t,!0)}function Pt(t,e){return Ot(t)?t:new Yt(t,e)}class Yt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:St(t),this._value=e?t:Tt(t)}get value(){return _t(this),this._value}set value(t){const e=this.__v_isShallow||Et(t)||At(t);if(t=e?t:St(t),(0,s.$H)(t,this._rawValue)){const n=this._rawValue;this._rawValue=t,this._value=e?t:Tt(t),Ft(this,4,t,n)}}}function Nt(t){return Ot(t)?t.value:t}const Dt={get:(t,e,n)=>Nt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Ot(i)&&!Ot(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Xt(t){return xt(t)?t:new Proxy(t,Dt)}function Vt(t){const e=(0,s.cy)(t)?new Array(t.length):{};for(const n in t)e[n]=jt(t,n);return e}class Ut{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return F(St(this._object),this._key)}}function jt(t,e,n){const s=t[e];return Ot(s)?s:new Ut(t,e,n)}},6768:function(t,e,n){"use strict";n.d(e,{$u:function(){return dt},CE:function(){return wn},Df:function(){return Z},EW:function(){return as},FK:function(){return hn},Fv:function(){return Fn},Gt:function(){return Kt},Gy:function(){return D},Im:function(){return Re},K9:function(){return Oe},Lk:function(){return Cn},MZ:function(){return $},OW:function(){return z},PS:function(){return Qt},Q3:function(){return On},QP:function(){return V},Qi:function(){return F},RG:function(){return St},WQ:function(){return Jt},Wv:function(){return xn},bF:function(){return Tn},bo:function(){return B},dY:function(){return v},eW:function(){return _n},g2:function(){return wt},h:function(){return ls},jt:function(){return O},k6:function(){return L},nI:function(){return jn},pI:function(){return kt},pM:function(){return K},pR:function(){return W},qL:function(){return o},sV:function(){return ct},uX:function(){return mn},v6:function(){return Yn},wB:function(){return qe},xo:function(){return ft}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var s=n(144),i=n(4232);function r(t,e,n,s){try{return s?t(...s):t()}catch(i){a(i,e,n)}}function o(t,e,n,s){if((0,i.Tn)(t)){const o=r(t,e,n,s);return o&&(0,i.yL)(o)&&o.catch((t=>{a(t,e,n)})),o}if((0,i.cy)(t)){const i=[];for(let r=0;r<t.length;r++)i.push(o(t[r],e,n,s));return i}}function a(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;while(i){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,o,a))return;i=i.parent}const l=e.appContext.config.errorHandler;if(l)return(0,s.C4)(),r(l,null,10,[t,o,a]),void(0,s.bl)()}l(t,n,o,i)}function l(t,e,n,s=!0){console.error(t)}let h=!1,c=!1;const u=[];let d=0;const f=[];let p=null,m=0;const g=Promise.resolve();let y=null;function v(t){const e=y||g;return t?e.then(this?t.bind(this):t):e}function b(t){let e=d+1,n=u.length;while(e<n){const s=e+n>>>1,i=u[s],r=C(i);r<t||r===t&&i.pre?e=s+1:n=s}return e}function w(t){u.length&&u.includes(t,h&&t.allowRecurse?d+1:d)||(null==t.id?u.push(t):u.splice(b(t.id),0,t),x())}function x(){h||c||(c=!0,y=g.then(R))}function A(t){const e=u.indexOf(t);e>d&&u.splice(e,1)}function E(t){(0,i.cy)(t)?f.push(...t):p&&p.includes(t,t.allowRecurse?m+1:m)||f.push(t),x()}function k(t,e,n=(h?d+1:0)){for(0;n<u.length;n++){const e=u[n];if(e&&e.pre){if(t&&e.id!==t.uid)continue;0,u.splice(n,1),n--,e()}}}function S(t){if(f.length){const t=[...new Set(f)].sort(((t,e)=>C(t)-C(e)));if(f.length=0,p)return void p.push(...t);for(p=t,m=0;m<p.length;m++){const t=p[m];0,!1!==t.active&&t()}p=null,m=0}}const C=t=>null==t.id?1/0:t.id,T=(t,e)=>{const n=C(t)-C(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function R(t){c=!1,h=!0,u.sort(T);i.tE;try{for(d=0;d<u.length;d++){const t=u[d];t&&!1!==t.active&&r(t,t.i,t.i?15:14)}}finally{d=0,u.length=0,S(t),h=!1,y=null,(u.length||f.length)&&R(t)}}let I=null,M=null;function _(t){const e=I;return I=t,M=t&&t.type.__scopeId||null,e}function F(t){M=t}function O(){M=null}function L(t,e=I,n){if(!e)return t;if(t._n)return t;const s=(...n)=>{s._d&&vn(-1);const i=_(e);let r;try{r=t(...n)}finally{_(i),s._d&&vn(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function B(t,e){if(null===I)return t;const n=is(I),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[t,o,a,l=i.MZ]=e[r];t&&((0,i.Tn)(t)&&(t={mounted:t,updated:t}),t.deep&&$e(o),s.push({dir:t,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function P(t,e,n,i){const r=t.dirs,a=e&&e.dirs;for(let l=0;l<r.length;l++){const h=r[l];a&&(h.oldValue=a[l].value);let c=h.dir[i];c&&((0,s.C4)(),o(c,n,8,[t.el,h,t,e]),(0,s.bl)())}}const Y=Symbol("_leaveCb"),N=Symbol("_enterCb");function D(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ct((()=>{t.isMounted=!0})),ft((()=>{t.isUnmounting=!0})),t}const X=[Function,Array],V={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:X,onEnter:X,onAfterEnter:X,onEnterCancelled:X,onBeforeLeave:X,onLeave:X,onAfterLeave:X,onLeaveCancelled:X,onBeforeAppear:X,onAppear:X,onAfterAppear:X,onAppearCancelled:X},U=t=>{const e=t.subTree;return e.component?U(e.component):e},j={name:"BaseTransition",props:V,setup(t,{slots:e}){const n=jn(),i=D();return()=>{const r=e.default&&Z(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let t=!1;for(const e of r)if(e.type!==un){0,o=e,t=!0;break}}const a=(0,s.ux)(t),{mode:l}=a;if(i.isLeaving)return G(o);const h=H(o);if(!h)return G(o);let c=z(h,a,i,n,(t=>c=t));$(h,c);const u=n.subTree,d=u&&H(u);if(d&&d.type!==un&&!En(h,d)&&U(n).type!==un){const t=z(d,a,i,n);if($(d,t),"out-in"===l&&h.type!==un)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},G(o);"in-out"===l&&h.type!==un&&(t.delayLeave=(t,e,n)=>{const s=q(i,d);s[String(d.key)]=d,t[Y]=()=>{e(),t[Y]=void 0,delete c.delayedLeave},c.delayedLeave=n})}return o}}},W=j;function q(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function z(t,e,n,s,r){const{appear:a,mode:l,persisted:h=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:p,onLeave:m,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:v,onAppear:b,onAfterAppear:w,onAppearCancelled:x}=e,A=String(t.key),E=q(n,t),k=(t,e)=>{t&&o(t,s,9,e)},S=(t,e)=>{const n=e[1];k(t,e),(0,i.cy)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},C={mode:l,persisted:h,beforeEnter(e){let s=c;if(!n.isMounted){if(!a)return;s=v||c}e[Y]&&e[Y](!0);const i=E[A];i&&En(t,i)&&i.el[Y]&&i.el[Y](),k(s,[e])},enter(t){let e=u,s=d,i=f;if(!n.isMounted){if(!a)return;e=b||u,s=w||d,i=x||f}let r=!1;const o=t[N]=e=>{r||(r=!0,k(e?i:s,[t]),C.delayedLeave&&C.delayedLeave(),t[N]=void 0)};e?S(e,[t,o]):o()},leave(e,s){const i=String(t.key);if(e[N]&&e[N](!0),n.isUnmounting)return s();k(p,[e]);let r=!1;const o=e[Y]=n=>{r||(r=!0,s(),k(n?y:g,[e]),e[Y]=void 0,E[i]===t&&delete E[i])};E[i]=t,m?S(m,[e,o]):o()},clone(t){const i=z(t,e,n,s,r);return r&&r(i),i}};return C}function G(t){if(Q(t))return t=Mn(t),t.children=null,t}function H(t){if(!Q(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(16&e)return n[0];if(32&e&&(0,i.Tn)(n.default))return n.default()}}function $(t,e){6&t.shapeFlag&&t.component?$(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Z(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:r);o.type===hn?(128&o.patchFlag&&i++,s=s.concat(Z(o.children,e,a))):(e||o.type!==un)&&s.push(null!=a?Mn(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}
/*! #__NO_SIDE_EFFECTS__ */function K(t,e){return(0,i.Tn)(t)?(()=>(0,i.X$)({name:t.name},e,{setup:t}))():t}const J=t=>!!t.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const Q=t=>t.type.__isKeepAlive;RegExp,RegExp;function tt(t,e){return(0,i.cy)(t)?t.some((t=>tt(t,e))):(0,i.Kg)(t)?t.split(",").includes(e):!!(0,i.gd)(t)&&t.test(e)}function et(t,e){st(t,"a",e)}function nt(t,e){st(t,"da",e)}function st(t,e,n=Un){const s=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(at(e,s,n),n){let t=n.parent;while(t&&t.parent)Q(t.parent.vnode)&&it(s,e,n,t),t=t.parent}}function it(t,e,n,s){const r=at(e,t,s,!0);pt((()=>{(0,i.TF)(s[e],r)}),n)}function rt(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ot(t){return 128&t.shapeFlag?t.ssContent:t}function at(t,e,n=Un,i=!1){if(n){const r=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...i)=>{(0,s.C4)();const r=zn(n),a=o(e,n,t,i);return r(),(0,s.bl)(),a});return i?r.unshift(a):r.push(a),a}}const lt=t=>(e,n=Un)=>{Kn&&"sp"!==t||at(t,((...t)=>e(...t)),n)},ht=lt("bm"),ct=lt("m"),ut=lt("bu"),dt=lt("u"),ft=lt("bum"),pt=lt("um"),mt=lt("sp"),gt=lt("rtg"),yt=lt("rtc");function vt(t,e=Un){at("ec",t,e)}const bt="components";function wt(t,e){return At(bt,t,!0,e)||t}const xt=Symbol.for("v-ndc");function At(t,e,n=!0,s=!1){const r=I||Un;if(r){const n=r.type;if(t===bt){const t=rs(n,!1);if(t&&(t===e||t===(0,i.PT)(e)||t===(0,i.ZH)((0,i.PT)(e))))return n}const o=Et(r[t]||n[t],e)||Et(r.appContext[t],e);return!o&&s?n:o}}function Et(t,e){return t&&(t[e]||t[(0,i.PT)(e)]||t[(0,i.ZH)((0,i.PT)(e))])}function kt(t,e,n,s){let r;const o=n&&n[s];if((0,i.cy)(t)||(0,i.Kg)(t)){r=new Array(t.length);for(let n=0,s=t.length;n<s;n++)r[n]=e(t[n],n,void 0,o&&o[n])}else if("number"===typeof t){0,r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n+1,n,void 0,o&&o[n])}else if((0,i.Gv)(t))if(t[Symbol.iterator])r=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);r=new Array(n.length);for(let s=0,i=n.length;s<i;s++){const i=n[s];r[s]=e(t[i],i,s,o&&o[s])}}else r=[];return n&&(n[s]=r),r}function St(t,e,n={},s,i){if(I.isCE||I.parent&&J(I.parent)&&I.parent.isCE)return"default"!==e&&(n.name=e),Tn("slot",n,s&&s());let r=t[e];r&&r._c&&(r._d=!1),mn();const o=r&&Ct(r(n)),a=xn(hn,{key:(n.key||o&&o.key||`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function Ct(t){return t.some((t=>!An(t)||t.type!==un&&!(t.type===hn&&!Ct(t.children))))?t:null}const Tt=t=>t?Hn(t)?is(t):Tt(t.parent):null,Rt=(0,i.X$)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Tt(t.parent),$root:t=>Tt(t.root),$emit:t=>t.emit,$options:t=>Yt(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,w(t.update)}),$nextTick:t=>t.n||(t.n=v.bind(t.proxy)),$watch:t=>Ge.bind(t)}),It=(t,e)=>t!==i.MZ&&!t.__isScriptSetup&&(0,i.$3)(t,e),Mt={get({_:t},e){if("__v_skip"===e)return!0;const{ctx:n,setupState:r,data:o,props:a,accessCache:l,type:h,appContext:c}=t;let u;if("$"!==e[0]){const s=l[e];if(void 0!==s)switch(s){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return a[e]}else{if(It(r,e))return l[e]=1,r[e];if(o!==i.MZ&&(0,i.$3)(o,e))return l[e]=2,o[e];if((u=t.propsOptions[0])&&(0,i.$3)(u,e))return l[e]=3,a[e];if(n!==i.MZ&&(0,i.$3)(n,e))return l[e]=4,n[e];Ft&&(l[e]=0)}}const d=Rt[e];let f,p;return d?("$attrs"===e&&(0,s.u4)(t.attrs,"get",""),d(t)):(f=h.__cssModules)&&(f=f[e])?f:n!==i.MZ&&(0,i.$3)(n,e)?(l[e]=4,n[e]):(p=c.config.globalProperties,(0,i.$3)(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:s,setupState:r,ctx:o}=t;return It(r,e)?(r[e]=n,!0):s!==i.MZ&&(0,i.$3)(s,e)?(s[e]=n,!0):!(0,i.$3)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:o}},a){let l;return!!n[a]||t!==i.MZ&&(0,i.$3)(t,a)||It(e,a)||(l=o[0])&&(0,i.$3)(l,a)||(0,i.$3)(s,a)||(0,i.$3)(Rt,a)||(0,i.$3)(r.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,i.$3)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function _t(t){return(0,i.cy)(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let Ft=!0;function Ot(t){const e=Yt(t),n=t.proxy,r=t.ctx;Ft=!1,e.beforeCreate&&Bt(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:l,watch:h,provide:c,inject:u,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:y,deactivated:v,beforeDestroy:b,beforeUnmount:w,destroyed:x,unmounted:A,render:E,renderTracked:k,renderTriggered:S,errorCaptured:C,serverPrefetch:T,expose:R,inheritAttrs:I,components:M,directives:_,filters:F}=e,O=null;if(u&&Lt(u,r,O),l)for(const s in l){const t=l[s];(0,i.Tn)(t)&&(r[s]=t.bind(n))}if(o){0;const e=o.call(n,n);0,(0,i.Gv)(e)&&(t.data=(0,s.Kh)(e))}if(Ft=!0,a)for(const s in a){const t=a[s],e=(0,i.Tn)(t)?t.bind(n,n):(0,i.Tn)(t.get)?t.get.bind(n,n):i.tE;0;const o=!(0,i.Tn)(t)&&(0,i.Tn)(t.set)?t.set.bind(n):i.tE,l=as({get:e,set:o});Object.defineProperty(r,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(h)for(const s in h)Pt(h[s],r,n,s);if(c){const t=(0,i.Tn)(c)?c.call(n):c;Reflect.ownKeys(t).forEach((e=>{Kt(e,t[e])}))}function L(t,e){(0,i.cy)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(d&&Bt(d,t,"c"),L(ht,f),L(ct,p),L(ut,m),L(dt,g),L(et,y),L(nt,v),L(vt,C),L(yt,k),L(gt,S),L(ft,w),L(pt,A),L(mt,T),(0,i.cy)(R))if(R.length){const e=t.exposed||(t.exposed={});R.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});E&&t.render===i.tE&&(t.render=E),null!=I&&(t.inheritAttrs=I),M&&(t.components=M),_&&(t.directives=_)}function Lt(t,e,n=i.tE){(0,i.cy)(t)&&(t=Ut(t));for(const r in t){const n=t[r];let o;o=(0,i.Gv)(n)?"default"in n?Jt(n.from||r,n.default,!0):Jt(n.from||r):Jt(n),(0,s.i9)(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t}):e[r]=o}}function Bt(t,e,n){o((0,i.cy)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Pt(t,e,n,s){const r=s.includes(".")?He(n,s):()=>n[s];if((0,i.Kg)(t)){const n=e[t];(0,i.Tn)(n)&&qe(r,n)}else if((0,i.Tn)(t))qe(r,t.bind(n));else if((0,i.Gv)(t))if((0,i.cy)(t))t.forEach((t=>Pt(t,e,n,s)));else{const s=(0,i.Tn)(t.handler)?t.handler.bind(n):e[t.handler];(0,i.Tn)(s)&&qe(r,s,t)}else 0}function Yt(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,l=o.get(e);let h;return l?h=l:r.length||n||s?(h={},r.length&&r.forEach((t=>Nt(h,t,a,!0))),Nt(h,e,a)):h=e,(0,i.Gv)(e)&&o.set(e,h),h}function Nt(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Nt(t,r,n,!0),i&&i.forEach((e=>Nt(t,e,n,!0)));for(const o in e)if(s&&"expose"===o);else{const s=Dt[o]||n&&n[o];t[o]=s?s(t[o],e[o]):e[o]}return t}const Dt={data:Xt,props:qt,emits:qt,methods:Wt,computed:Wt,beforeCreate:jt,created:jt,beforeMount:jt,mounted:jt,beforeUpdate:jt,updated:jt,beforeDestroy:jt,beforeUnmount:jt,destroyed:jt,unmounted:jt,activated:jt,deactivated:jt,errorCaptured:jt,serverPrefetch:jt,components:Wt,directives:Wt,watch:zt,provide:Xt,inject:Vt};function Xt(t,e){return e?t?function(){return(0,i.X$)((0,i.Tn)(t)?t.call(this,this):t,(0,i.Tn)(e)?e.call(this,this):e)}:e:t}function Vt(t,e){return Wt(Ut(t),Ut(e))}function Ut(t){if((0,i.cy)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function jt(t,e){return t?[...new Set([].concat(t,e))]:e}function Wt(t,e){return t?(0,i.X$)(Object.create(null),t,e):e}function qt(t,e){return t?(0,i.cy)(t)&&(0,i.cy)(e)?[...new Set([...t,...e])]:(0,i.X$)(Object.create(null),_t(t),_t(null!=e?e:{})):e}function zt(t,e){if(!t)return e;if(!e)return t;const n=(0,i.X$)(Object.create(null),t);for(const s in e)n[s]=jt(t[s],e[s]);return n}function Gt(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ht=0;function $t(t,e){return function(n,s=null){(0,i.Tn)(n)||(n=(0,i.X$)({},n)),null==s||(0,i.Gv)(s)||(s=null);const r=Gt(),o=new WeakSet;let a=!1;const l=r.app={_uid:Ht++,_component:n,_props:s,_container:null,_context:r,_instance:null,version:hs,get config(){return r.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,i.Tn)(t.install)?(o.add(t),t.install(l,...e)):(0,i.Tn)(t)&&(o.add(t),t(l,...e))),l},mixin(t){return r.mixins.includes(t)||r.mixins.push(t),l},component(t,e){return e?(r.components[t]=e,l):r.components[t]},directive(t,e){return e?(r.directives[t]=e,l):r.directives[t]},mount(i,o,h){if(!a){0;const c=Tn(n,s);return c.appContext=r,!0===h?h="svg":!1===h&&(h=void 0),o&&e?e(c,i):t(c,i,h),a=!0,l._container=i,i.__vue_app__=l,is(c.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return r.provides[t]=e,l},runWithContext(t){const e=Zt;Zt=l;try{return t()}finally{Zt=e}}};return l}}let Zt=null;function Kt(t,e){if(Un){let n=Un.provides;const s=Un.parent&&Un.parent.provides;s===n&&(n=Un.provides=Object.create(s)),n[t]=e}else 0}function Jt(t,e,n=!1){const s=Un||I;if(s||Zt){const r=Zt?Zt._context.provides:s?null==s.parent?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&(0,i.Tn)(e)?e.call(s&&s.proxy):e}else 0}function Qt(){return!!(Un||I||Zt)}const te={},ee=()=>Object.create(te),ne=t=>Object.getPrototypeOf(t)===te;function se(t,e,n,i=!1){const r={},o=ee();t.propsDefaults=Object.create(null),re(t,e,r,o);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);n?t.props=i?r:(0,s.Gc)(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function ie(t,e,n,r){const{props:o,attrs:a,vnode:{patchFlag:l}}=t,h=(0,s.ux)(o),[c]=t.propsOptions;let u=!1;if(!(r||l>0)||16&l){let s;re(t,e,o,a)&&(u=!0);for(const r in h)e&&((0,i.$3)(e,r)||(s=(0,i.Tg)(r))!==r&&(0,i.$3)(e,s))||(c?!n||void 0===n[r]&&void 0===n[s]||(o[r]=oe(c,h,r,void 0,t,!0)):delete o[r]);if(a!==h)for(const t in a)e&&(0,i.$3)(e,t)||(delete a[t],u=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let s=0;s<n.length;s++){let r=n[s];if(Qe(t.emitsOptions,r))continue;const l=e[r];if(c)if((0,i.$3)(a,r))l!==a[r]&&(a[r]=l,u=!0);else{const e=(0,i.PT)(r);o[e]=oe(c,h,e,l,t,!1)}else l!==a[r]&&(a[r]=l,u=!0)}}u&&(0,s.hZ)(t.attrs,"set","")}function re(t,e,n,r){const[o,a]=t.propsOptions;let l,h=!1;if(e)for(let s in e){if((0,i.SU)(s))continue;const c=e[s];let u;o&&(0,i.$3)(o,u=(0,i.PT)(s))?a&&a.includes(u)?(l||(l={}))[u]=c:n[u]=c:Qe(t.emitsOptions,s)||s in r&&c===r[s]||(r[s]=c,h=!0)}if(a){const e=(0,s.ux)(n),r=l||i.MZ;for(let s=0;s<a.length;s++){const l=a[s];n[l]=oe(o,e,l,r[l],t,!(0,i.$3)(r,l))}}return h}function oe(t,e,n,s,r,o){const a=t[n];if(null!=a){const t=(0,i.$3)(a,"default");if(t&&void 0===s){const t=a.default;if(a.type!==Function&&!a.skipFactory&&(0,i.Tn)(t)){const{propsDefaults:i}=r;if(n in i)s=i[n];else{const o=zn(r);s=i[n]=t.call(null,e),o()}}else s=t}a[0]&&(o&&!t?s=!1:!a[1]||""!==s&&s!==(0,i.Tg)(n)||(s=!0))}return s}const ae=new WeakMap;function le(t,e,n=!1){const s=n?ae:e.propsCache,r=s.get(t);if(r)return r;const o=t.props,a={},l=[];let h=!1;if(!(0,i.Tn)(t)){const s=t=>{h=!0;const[n,s]=le(t,e,!0);(0,i.X$)(a,n),s&&l.push(...s)};!n&&e.mixins.length&&e.mixins.forEach(s),t.extends&&s(t.extends),t.mixins&&t.mixins.forEach(s)}if(!o&&!h)return(0,i.Gv)(t)&&s.set(t,i.Oj),i.Oj;if((0,i.cy)(o))for(let u=0;u<o.length;u++){0;const t=(0,i.PT)(o[u]);he(t)&&(a[t]=i.MZ)}else if(o){0;for(const t in o){const e=(0,i.PT)(t);if(he(e)){const n=o[t],s=a[e]=(0,i.cy)(n)||(0,i.Tn)(n)?{type:n}:(0,i.X$)({},n),r=s.type;let h=!1,c=!0;if((0,i.cy)(r))for(let t=0;t<r.length;++t){const e=r[t],n=(0,i.Tn)(e)&&e.name;if("Boolean"===n){h=!0;break}"String"===n&&(c=!1)}else h=(0,i.Tn)(r)&&"Boolean"===r.name;s[0]=h,s[1]=c,(h||(0,i.$3)(s,"default"))&&l.push(e)}}}const c=[a,l];return(0,i.Gv)(t)&&s.set(t,c),c}function he(t){return"$"!==t[0]&&!(0,i.SU)(t)}const ce=t=>"_"===t[0]||"$stable"===t,ue=t=>(0,i.cy)(t)?t.map(Ln):[Ln(t)],de=(t,e,n)=>{if(e._n)return e;const s=L(((...t)=>ue(e(...t))),n);return s._c=!1,s},fe=(t,e,n)=>{const s=t._ctx;for(const r in t){if(ce(r))continue;const n=t[r];if((0,i.Tn)(n))e[r]=de(r,n,s);else if(null!=n){0;const t=ue(n);e[r]=()=>t}}},pe=(t,e)=>{const n=ue(e);t.slots.default=()=>n},me=(t,e,n)=>{for(const s in e)(n||"_"!==s)&&(t[s]=e[s])},ge=(t,e,n)=>{const s=t.slots=ee();if(32&t.vnode.shapeFlag){const t=e._;t?(me(s,e,n),n&&(0,i.yQ)(s,"_",t,!0)):fe(e,s)}else e&&pe(t,e)},ye=(t,e,n)=>{const{vnode:s,slots:r}=t;let o=!0,a=i.MZ;if(32&s.shapeFlag){const t=e._;t?n&&1===t?o=!1:me(r,e,n):(o=!e.$stable,fe(e,r)),a=e}else e&&(pe(t,e),a={default:1});if(o)for(const i in r)ce(i)||null!=a[i]||delete r[i]};function ve(t,e,n,o,a=!1){if((0,i.cy)(t))return void t.forEach(((t,s)=>ve(t,e&&((0,i.cy)(e)?e[s]:e),n,o,a)));if(J(o)&&!a)return;const l=4&o.shapeFlag?is(o.component):o.el,h=a?null:l,{i:c,r:u}=t;const d=e&&e.r,f=c.refs===i.MZ?c.refs={}:c.refs,p=c.setupState;if(null!=d&&d!==u&&((0,i.Kg)(d)?(f[d]=null,(0,i.$3)(p,d)&&(p[d]=null)):(0,s.i9)(d)&&(d.value=null)),(0,i.Tn)(u))r(u,c,12,[h,f]);else{const e=(0,i.Kg)(u),r=(0,s.i9)(u);if(e||r){const s=()=>{if(t.f){const n=e?(0,i.$3)(p,u)?p[u]:f[u]:u.value;a?(0,i.cy)(n)&&(0,i.TF)(n,l):(0,i.cy)(n)?n.includes(l)||n.push(l):e?(f[u]=[l],(0,i.$3)(p,u)&&(p[u]=f[u])):(u.value=[l],t.k&&(f[t.k]=u.value))}else e?(f[u]=h,(0,i.$3)(p,u)&&(p[u]=h)):r&&(u.value=h,t.k&&(f[t.k]=h))};h?(s.id=-1,Fe(s,n)):s()}else 0}}const be=Symbol("_vte"),we=t=>t.__isTeleport,xe=t=>t&&(t.disabled||""===t.disabled),Ae=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,Ee=t=>"function"===typeof MathMLElement&&t instanceof MathMLElement,ke=(t,e)=>{const n=t&&t.to;if((0,i.Kg)(n)){if(e){const t=e(n);return t}return null}return n},Se={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,h){const{mc:c,pc:u,pbc:d,o:{insert:f,querySelector:p,createText:m,createComment:g}}=h,y=xe(e.props);let{shapeFlag:v,children:b,dynamicChildren:w}=e;if(null==t){const t=e.el=m(""),h=e.anchor=m("");f(t,n,s),f(h,n,s);const u=e.target=ke(e.props,p),d=Me(u,e,m,f);u&&("svg"===o||Ae(u)?o="svg":("mathml"===o||Ee(u))&&(o="mathml"));const g=(t,e)=>{16&v&&c(b,t,e,i,r,o,a,l)};y?g(n,h):u&&g(u,d)}else{e.el=t.el,e.targetStart=t.targetStart;const s=e.anchor=t.anchor,c=e.target=t.target,f=e.targetAnchor=t.targetAnchor,m=xe(t.props),g=m?n:c,v=m?s:f;if("svg"===o||Ae(c)?o="svg":("mathml"===o||Ee(c))&&(o="mathml"),w?(d(t.dynamicChildren,w,g,i,r,o,a),Ne(t,e,!0)):l||u(t,e,g,v,i,r,o,a,!1),y)m?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ce(e,n,s,h,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=ke(e.props,p);t&&Ce(e,t,null,h,0)}else m&&Ce(e,c,f,h,1)}Ie(e)},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:h,targetAnchor:c,target:u,props:d}=t;if(u&&(i(h),i(c)),r&&i(l),16&o){const t=r||!xe(d);for(let i=0;i<a.length;i++){const r=a[i];s(r,e,n,t,!!r.dynamicChildren)}}},move:Ce,hydrate:Te};function Ce(t,e,n,{o:{insert:s},m:i},r=2){0===r&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:h,props:c}=t,u=2===r;if(u&&s(o,e,n),(!u||xe(c))&&16&l)for(let d=0;d<h.length;d++)i(h[d],e,n,2);u&&s(a,e,n)}function Te(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:h,createText:c}},u){const d=e.target=ke(e.props,l);if(d){const l=d._lpa||d.firstChild;if(16&e.shapeFlag)if(xe(e.props))e.anchor=u(o(t),e,a(t),n,s,i,r),e.targetStart=l,e.targetAnchor=l&&o(l);else{e.anchor=o(t);let a=l;while(a){if(a&&8===a.nodeType)if("teleport start anchor"===a.data)e.targetStart=a;else if("teleport anchor"===a.data){e.targetAnchor=a,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}a=o(a)}e.targetAnchor||Me(d,e,c,h),u(l&&o(l),e,d,n,s,i,r)}Ie(e)}return e.anchor&&o(e.anchor)}const Re=Se;function Ie(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;while(n&&n!==t.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function Me(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[be]=r,t&&(s(i,t),s(r,t)),r}function _e(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,i.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Fe=ln;function Oe(t){return Le(t)}function Le(t,e){_e();const n=(0,i.We)();n.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:l,createText:h,createComment:c,setText:u,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=i.tE,insertStaticContent:g}=t,y=(t,e,n,s=null,i=null,r=null,o=void 0,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!En(t,e)&&(s=Z(t),q(t,i,r,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:h,ref:c,shapeFlag:u}=e;switch(h){case cn:v(t,e,n,s);break;case un:b(t,e,n,s);break;case dn:null==t&&x(e,n,s,o);break;case hn:L(t,e,n,s,i,r,o,a,l);break;default:1&u?T(t,e,n,s,i,r,o,a,l):6&u?B(t,e,n,s,i,r,o,a,l):(64&u||128&u)&&h.process(t,e,n,s,i,r,o,a,l,et)}null!=c&&i&&ve(c,t&&t.ref,r,e||t,!e)},v=(t,e,n,s)=>{if(null==t)r(e.el=h(e.children),n,s);else{const n=e.el=t.el;e.children!==t.children&&u(n,e.children)}},b=(t,e,n,s)=>{null==t?r(e.el=c(e.children||""),n,s):e.el=t.el},x=(t,e,n,s)=>{[t.el,t.anchor]=g(t.children,e,n,s,t.el,t.anchor)},E=({el:t,anchor:e},n,s)=>{let i;while(t&&t!==e)i=p(t),r(t,n,s),t=i;r(e,n,s)},C=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=p(t),o(t),t=n;o(e)},T=(t,e,n,s,i,r,o,a,l)=>{"svg"===e.type?o="svg":"math"===e.type&&(o="mathml"),null==t?R(e,n,s,i,r,o,a,l):_(t,e,i,r,o,a,l)},R=(t,e,n,s,o,h,c,u)=>{let f,p;const{props:m,shapeFlag:g,transition:y,dirs:v}=t;if(f=t.el=l(t.type,h,m&&m.is,m),8&g?d(f,t.children):16&g&&M(t.children,f,null,s,o,Be(t,h),c,u),v&&P(t,null,s,"created"),I(f,t,t.scopeId,c,s),m){for(const t in m)"value"===t||(0,i.SU)(t)||a(f,t,null,m[t],h,s);"value"in m&&a(f,"value",null,m.value,h),(p=m.onVnodeBeforeMount)&&Nn(p,s,t)}v&&P(t,null,s,"beforeMount");const b=Ye(o,y);b&&y.beforeEnter(f),r(f,e,n),((p=m&&m.onVnodeMounted)||b||v)&&Fe((()=>{p&&Nn(p,s,t),b&&y.enter(f),v&&P(t,null,s,"mounted")}),o)},I=(t,e,n,s,i)=>{if(n&&m(t,n),s)for(let r=0;r<s.length;r++)m(t,s[r]);if(i){let n=i.subTree;if(e===n){const e=i.vnode;I(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},M=(t,e,n,s,i,r,o,a,l=0)=>{for(let h=l;h<t.length;h++){const l=t[h]=a?Bn(t[h]):Ln(t[h]);y(null,l,e,n,s,i,r,o,a)}},_=(t,e,n,s,r,o,l)=>{const h=e.el=t.el;let{patchFlag:c,dynamicChildren:u,dirs:f}=e;c|=16&t.patchFlag;const p=t.props||i.MZ,m=e.props||i.MZ;let g;if(n&&Pe(n,!1),(g=m.onVnodeBeforeUpdate)&&Nn(g,n,e,t),f&&P(e,t,n,"beforeUpdate"),n&&Pe(n,!0),(p.innerHTML&&null==m.innerHTML||p.textContent&&null==m.textContent)&&d(h,""),u?F(t.dynamicChildren,u,h,n,s,Be(e,r),o):l||V(t,e,h,null,n,s,Be(e,r),o,!1),c>0){if(16&c)O(h,p,m,n,r);else if(2&c&&p.class!==m.class&&a(h,"class",null,m.class,r),4&c&&a(h,"style",p.style,m.style,r),8&c){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const s=t[e],i=p[s],o=m[s];o===i&&"value"!==s||a(h,s,i,o,r,n)}}1&c&&t.children!==e.children&&d(h,e.children)}else l||null!=u||O(h,p,m,n,r);((g=m.onVnodeUpdated)||f)&&Fe((()=>{g&&Nn(g,n,e,t),f&&P(e,t,n,"updated")}),s)},F=(t,e,n,s,i,r,o)=>{for(let a=0;a<e.length;a++){const l=t[a],h=e[a],c=l.el&&(l.type===hn||!En(l,h)||70&l.shapeFlag)?f(l.el):n;y(l,h,c,null,s,i,r,o,!0)}},O=(t,e,n,s,r)=>{if(e!==n){if(e!==i.MZ)for(const o in e)(0,i.SU)(o)||o in n||a(t,o,e[o],null,r,s);for(const o in n){if((0,i.SU)(o))continue;const l=n[o],h=e[o];l!==h&&"value"!==o&&a(t,o,h,l,r,s)}"value"in n&&a(t,"value",e.value,n.value,r)}},L=(t,e,n,s,i,o,a,l,c)=>{const u=e.el=t?t.el:h(""),d=e.anchor=t?t.anchor:h("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=e;m&&(l=l?l.concat(m):m),null==t?(r(u,n,s),r(d,n,s),M(e.children||[],n,d,i,o,a,l,c)):f>0&&64&f&&p&&t.dynamicChildren?(F(t.dynamicChildren,p,n,i,o,a,l),(null!=e.key||i&&e===i.subTree)&&Ne(t,e,!0)):V(t,e,n,d,i,o,a,l,c)},B=(t,e,n,s,i,r,o,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,s,o,l):Y(e,n,s,i,r,o,l):N(t,e,l)},Y=(t,e,n,s,i,r,o)=>{const a=t.component=Vn(t,s,i);if(Q(t)&&(a.ctx.renderer=et),Jn(a,!1,o),a.asyncDep){if(i&&i.registerDep(a,D,o),!t.el){const t=a.subTree=Tn(un);b(null,t,e,n)}}else D(a,t,e,n,i,r,o)},N=(t,e,n)=>{const s=e.component=t.component;if(sn(t,e,n)){if(s.asyncDep&&!s.asyncResolved)return void X(s,e,n);s.next=e,A(s.update),s.effect.dirty=!0,s.update()}else e.el=t.el,s.vnode=e},D=(t,e,n,r,o,a,l)=>{const h=()=>{if(t.isMounted){let{next:e,bu:n,u:s,parent:r,vnode:c}=t;{const n=Xe(t);if(n)return e&&(e.el=c.el,X(t,e,l)),void n.asyncDep.then((()=>{t.isUnmounted||h()}))}let u,d=e;0,Pe(t,!1),e?(e.el=c.el,X(t,e,l)):e=c,n&&(0,i.DY)(n),(u=e.props&&e.props.onVnodeBeforeUpdate)&&Nn(u,r,e,c),Pe(t,!0);const p=tn(t);0;const m=t.subTree;t.subTree=p,y(m,p,f(m.el),Z(m),t,o,a),e.el=p.el,null===d&&on(t,p.el),s&&Fe(s,o),(u=e.props&&e.props.onVnodeUpdated)&&Fe((()=>Nn(u,r,e,c)),o)}else{let s;const{el:l,props:h}=e,{bm:c,m:u,parent:d}=t,f=J(e);if(Pe(t,!1),c&&(0,i.DY)(c),!f&&(s=h&&h.onVnodeBeforeMount)&&Nn(s,d,e),Pe(t,!0),l&&st){const n=()=>{t.subTree=tn(t),st(l,t.subTree,t,o,null)};f?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const s=t.subTree=tn(t);0,y(null,s,n,r,t,o,a),e.el=s.el}if(u&&Fe(u,o),!f&&(s=h&&h.onVnodeMounted)){const t=e;Fe((()=>Nn(s,d,t)),o)}(256&e.shapeFlag||d&&J(d.vnode)&&256&d.vnode.shapeFlag)&&t.a&&Fe(t.a,o),t.isMounted=!0,e=n=r=null}},c=t.effect=new s.X2(h,i.tE,(()=>w(u)),t.scope),u=t.update=()=>{c.dirty&&c.run()};u.i=t,u.id=t.uid,Pe(t,!0),u()},X=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,ie(t,e.props,i,n),ye(t,e.children,n),(0,s.C4)(),k(t),(0,s.bl)()},V=(t,e,n,s,i,r,o,a,l=!1)=>{const h=t&&t.children,c=t?t.shapeFlag:0,u=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void j(h,u,n,s,i,r,o,a,l);if(256&f)return void U(h,u,n,s,i,r,o,a,l)}8&p?(16&c&&$(h,i,r),u!==h&&d(n,u)):16&c?16&p?j(h,u,n,s,i,r,o,a,l):$(h,i,r,!0):(8&c&&d(n,""),16&p&&M(u,n,s,i,r,o,a,l))},U=(t,e,n,s,r,o,a,l,h)=>{t=t||i.Oj,e=e||i.Oj;const c=t.length,u=e.length,d=Math.min(c,u);let f;for(f=0;f<d;f++){const s=e[f]=h?Bn(e[f]):Ln(e[f]);y(t[f],s,n,null,r,o,a,l,h)}c>u?$(t,r,o,!0,!1,d):M(e,n,s,r,o,a,l,h,d)},j=(t,e,n,s,r,o,a,l,h)=>{let c=0;const u=e.length;let d=t.length-1,f=u-1;while(c<=d&&c<=f){const s=t[c],i=e[c]=h?Bn(e[c]):Ln(e[c]);if(!En(s,i))break;y(s,i,n,null,r,o,a,l,h),c++}while(c<=d&&c<=f){const s=t[d],i=e[f]=h?Bn(e[f]):Ln(e[f]);if(!En(s,i))break;y(s,i,n,null,r,o,a,l,h),d--,f--}if(c>d){if(c<=f){const t=f+1,i=t<u?e[t].el:s;while(c<=f)y(null,e[c]=h?Bn(e[c]):Ln(e[c]),n,i,r,o,a,l,h),c++}}else if(c>f)while(c<=d)q(t[c],r,o,!0),c++;else{const p=c,m=c,g=new Map;for(c=m;c<=f;c++){const t=e[c]=h?Bn(e[c]):Ln(e[c]);null!=t.key&&g.set(t.key,c)}let v,b=0;const w=f-m+1;let x=!1,A=0;const E=new Array(w);for(c=0;c<w;c++)E[c]=0;for(c=p;c<=d;c++){const s=t[c];if(b>=w){q(s,r,o,!0);continue}let i;if(null!=s.key)i=g.get(s.key);else for(v=m;v<=f;v++)if(0===E[v-m]&&En(s,e[v])){i=v;break}void 0===i?q(s,r,o,!0):(E[i-m]=c+1,i>=A?A=i:x=!0,y(s,e[i],n,null,r,o,a,l,h),b++)}const k=x?De(E):i.Oj;for(v=k.length-1,c=w-1;c>=0;c--){const t=m+c,i=e[t],d=t+1<u?e[t+1].el:s;0===E[c]?y(null,i,n,d,r,o,a,l,h):x&&(v<0||c!==k[v]?W(i,n,d,2):v--)}}},W=(t,e,n,s,i=null)=>{const{el:o,type:a,transition:l,children:h,shapeFlag:c}=t;if(6&c)return void W(t.component.subTree,e,n,s);if(128&c)return void t.suspense.move(e,n,s);if(64&c)return void a.move(t,e,n,et);if(a===hn){r(o,e,n);for(let t=0;t<h.length;t++)W(h[t],e,n,s);return void r(t.anchor,e,n)}if(a===dn)return void E(t,e,n);const u=2!==s&&1&c&&l;if(u)if(0===s)l.beforeEnter(o),r(o,e,n),Fe((()=>l.enter(o)),i);else{const{leave:t,delayLeave:s,afterLeave:i}=l,a=()=>r(o,e,n),h=()=>{t(o,(()=>{a(),i&&i()}))};s?s(o,a,h):h()}else r(o,e,n)},q=(t,e,n,s=!1,i=!1)=>{const{type:r,props:o,ref:a,children:l,dynamicChildren:h,shapeFlag:c,patchFlag:u,dirs:d,cacheIndex:f}=t;if(-2===u&&(i=!1),null!=a&&ve(a,null,n,t,!0),null!=f&&(e.renderCache[f]=void 0),256&c)return void e.ctx.deactivate(t);const p=1&c&&d,m=!J(t);let g;if(m&&(g=o&&o.onVnodeBeforeUnmount)&&Nn(g,e,t),6&c)H(t.component,n,s);else{if(128&c)return void t.suspense.unmount(n,s);p&&P(t,null,e,"beforeUnmount"),64&c?t.type.remove(t,e,n,et,s):h&&!h.hasOnce&&(r!==hn||u>0&&64&u)?$(h,e,n,!1,!0):(r===hn&&384&u||!i&&16&c)&&$(l,e,n),s&&z(t)}(m&&(g=o&&o.onVnodeUnmounted)||p)&&Fe((()=>{g&&Nn(g,e,t),p&&P(t,null,e,"unmounted")}),n)},z=t=>{const{type:e,el:n,anchor:s,transition:i}=t;if(e===hn)return void G(n,s);if(e===dn)return void C(t);const r=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:s}=i,o=()=>e(n,r);s?s(t.el,r,o):o()}else r()},G=(t,e)=>{let n;while(t!==e)n=p(t),o(t),t=n;o(e)},H=(t,e,n)=>{const{bum:s,scope:r,update:o,subTree:a,um:l,m:h,a:c}=t;Ve(h),Ve(c),s&&(0,i.DY)(s),r.stop(),o&&(o.active=!1,q(a,t,e,n)),l&&Fe(l,e),Fe((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},$=(t,e,n,s=!1,i=!1,r=0)=>{for(let o=r;o<t.length;o++)q(t[o],e,n,s,i)},Z=t=>{if(6&t.shapeFlag)return Z(t.component.subTree);if(128&t.shapeFlag)return t.suspense.next();const e=p(t.anchor||t.el),n=e&&e[be];return n?p(n):e};let K=!1;const tt=(t,e,n)=>{null==t?e._vnode&&q(e._vnode,null,null,!0):y(e._vnode||null,t,e,null,null,null,n),e._vnode=t,K||(K=!0,k(),S(),K=!1)},et={p:y,um:q,m:W,r:z,mt:Y,mc:M,pc:V,pbc:F,n:Z,o:t};let nt,st;return e&&([nt,st]=e(et)),{render:tt,hydrate:nt,createApp:$t(tt,nt)}}function Be({type:t,props:e},n){return"svg"===n&&"foreignObject"===t||"mathml"===n&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Pe({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ye(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ne(t,e,n=!1){const s=t.children,r=e.children;if((0,i.cy)(s)&&(0,i.cy)(r))for(let i=0;i<s.length;i++){const t=s[i];let e=r[i];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=r[i]=Bn(r[i]),e.el=t.el),n||-2===e.patchFlag||Ne(t,e)),e.type===cn&&(e.el=t.el)}}function De(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const l=t[s];if(0!==l){if(i=n[n.length-1],t[i]<l){e[s]=i,n.push(s);continue}r=0,o=n.length-1;while(r<o)a=r+o>>1,t[n[a]]<l?r=a+1:o=a;l<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}r=n.length,o=n[r-1];while(r-- >0)n[r]=o,o=e[o];return n}function Xe(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Xe(e)}function Ve(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const Ue=Symbol.for("v-scx"),je=()=>{{const t=Jt(Ue);return t}};const We={};function qe(t,e,n){return ze(t,e,n)}function ze(t,e,{immediate:n,deep:a,flush:l,once:h,onTrack:c,onTrigger:u}=i.MZ){if(e&&h){const t=e;e=(...e)=>{t(...e),C()}}const d=Un,f=t=>!0===a?t:$e(t,!1===a?1:void 0);let p,m,g=!1,y=!1;if((0,s.i9)(t)?(p=()=>t.value,g=(0,s.fE)(t)):(0,s.g8)(t)?(p=()=>f(t),g=!0):(0,i.cy)(t)?(y=!0,g=t.some((t=>(0,s.g8)(t)||(0,s.fE)(t))),p=()=>t.map((t=>(0,s.i9)(t)?t.value:(0,s.g8)(t)?f(t):(0,i.Tn)(t)?r(t,d,2):void 0))):p=(0,i.Tn)(t)?e?()=>r(t,d,2):()=>(m&&m(),o(t,d,3,[b])):i.tE,e&&a){const t=p;p=()=>$e(t())}let v,b=t=>{m=k.onStop=()=>{r(t,d,4),m=k.onStop=void 0}};if(Kn){if(b=i.tE,e?n&&o(e,d,3,[p(),y?[]:void 0,b]):p(),"sync"!==l)return i.tE;{const t=je();v=t.__watcherHandles||(t.__watcherHandles=[])}}let x=y?new Array(t.length).fill(We):We;const A=()=>{if(k.active&&k.dirty)if(e){const t=k.run();(a||g||(y?t.some(((t,e)=>(0,i.$H)(t,x[e]))):(0,i.$H)(t,x)))&&(m&&m(),o(e,d,3,[t,x===We?void 0:y&&x[0]===We?[]:x,b]),x=t)}else k.run()};let E;A.allowRecurse=!!e,"sync"===l?E=A:"post"===l?E=()=>Fe(A,d&&d.suspense):(A.pre=!0,d&&(A.id=d.uid),E=()=>w(A));const k=new s.X2(p,i.tE,E),S=(0,s.o5)(),C=()=>{k.stop(),S&&(0,i.TF)(S.effects,k)};return e?n?A():x=k.run():"post"===l?Fe(k.run.bind(k),d&&d.suspense):k.run(),v&&v.push(C),C}function Ge(t,e,n){const s=this.proxy,r=(0,i.Kg)(t)?t.includes(".")?He(s,t):()=>s[t]:t.bind(s,s);let o;(0,i.Tn)(e)?o=e:(o=e.handler,n=e);const a=zn(this),l=ze(r,o.bind(s),n);return a(),l}function He(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function $e(t,e=1/0,n){if(e<=0||!(0,i.Gv)(t)||t["__v_skip"])return t;if(n=n||new Set,n.has(t))return t;if(n.add(t),e--,(0,s.i9)(t))$e(t.value,e,n);else if((0,i.cy)(t))for(let s=0;s<t.length;s++)$e(t[s],e,n);else if((0,i.vM)(t)||(0,i.CE)(t))t.forEach((t=>{$e(t,e,n)}));else if((0,i.Qd)(t)){for(const s in t)$e(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&$e(t[s],e,n)}return t}const Ze=(t,e)=>"modelValue"===e||"model-value"===e?t.modelModifiers:t[`${e}Modifiers`]||t[`${(0,i.PT)(e)}Modifiers`]||t[`${(0,i.Tg)(e)}Modifiers`];function Ke(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||i.MZ;let r=n;const a=e.startsWith("update:"),l=a&&Ze(s,e.slice(7));let h;l&&(l.trim&&(r=n.map((t=>(0,i.Kg)(t)?t.trim():t))),l.number&&(r=n.map(i.bB)));let c=s[h=(0,i.rU)(e)]||s[h=(0,i.rU)((0,i.PT)(e))];!c&&a&&(c=s[h=(0,i.rU)((0,i.Tg)(e))]),c&&o(c,t,6,r);const u=s[h+"Once"];if(u){if(t.emitted){if(t.emitted[h])return}else t.emitted={};t.emitted[h]=!0,o(u,t,6,r)}}function Je(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(void 0!==r)return r;const o=t.emits;let a={},l=!1;if(!(0,i.Tn)(t)){const s=t=>{const n=Je(t,e,!0);n&&(l=!0,(0,i.X$)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(s),t.extends&&s(t.extends),t.mixins&&t.mixins.forEach(s)}return o||l?((0,i.cy)(o)?o.forEach((t=>a[t]=null)):(0,i.X$)(a,o),(0,i.Gv)(t)&&s.set(t,a),a):((0,i.Gv)(t)&&s.set(t,null),null)}function Qe(t,e){return!(!t||!(0,i.Mp)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,i.$3)(t,e[0].toLowerCase()+e.slice(1))||(0,i.$3)(t,(0,i.Tg)(e))||(0,i.$3)(t,e))}function tn(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:l,attrs:h,emit:c,render:u,renderCache:d,props:f,data:p,setupState:m,ctx:g,inheritAttrs:y}=t,v=_(t);let b,w;try{if(4&n.shapeFlag){const t=r||s,e=t;b=Ln(u.call(e,t,d,f,m,p,g)),w=h}else{const t=e;0,b=Ln(t.length>1?t(f,{attrs:h,slots:l,emit:c}):t(f,null)),w=e.props?h:en(h)}}catch(A){fn.length=0,a(A,t,1),b=Tn(un)}let x=b;if(w&&!1!==y){const t=Object.keys(w),{shapeFlag:e}=x;t.length&&7&e&&(o&&t.some(i.CP)&&(w=nn(w,o)),x=Mn(x,w,!1,!0))}return n.dirs&&(x=Mn(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),b=x,_(v),b}const en=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,i.Mp)(n))&&((e||(e={}))[n]=t[n]);return e},nn=(t,e)=>{const n={};for(const s in t)(0,i.CP)(s)&&s.slice(9)in e||(n[s]=t[s]);return n};function sn(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||s!==o&&(s?!o||rn(s,o,h):!!o);if(1024&l)return!0;if(16&l)return s?rn(s,o,h):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==s[n]&&!Qe(h,n))return!0}}return!1}function rn(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Qe(n,r))return!0}return!1}function on({vnode:t,parent:e},n){while(e){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s!==t)break;(t=e.vnode).el=n,e=e.parent}}const an=t=>t.__isSuspense;function ln(t,e){e&&e.pendingBranch?(0,i.cy)(t)?e.effects.push(...t):e.effects.push(t):E(t)}const hn=Symbol.for("v-fgt"),cn=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),dn=Symbol.for("v-stc"),fn=[];let pn=null;function mn(t=!1){fn.push(pn=t?null:[])}function gn(){fn.pop(),pn=fn[fn.length-1]||null}let yn=1;function vn(t){yn+=t,t<0&&pn&&(pn.hasOnce=!0)}function bn(t){return t.dynamicChildren=yn>0?pn||i.Oj:null,gn(),yn>0&&pn&&pn.push(t),t}function wn(t,e,n,s,i,r){return bn(Cn(t,e,n,s,i,r,!0))}function xn(t,e,n,s,i){return bn(Tn(t,e,n,s,i,!0))}function An(t){return!!t&&!0===t.__v_isVNode}function En(t,e){return t.type===e.type&&t.key===e.key}const kn=({key:t})=>null!=t?t:null,Sn=({ref:t,ref_key:e,ref_for:n})=>("number"===typeof t&&(t=""+t),null!=t?(0,i.Kg)(t)||(0,s.i9)(t)||(0,i.Tn)(t)?{i:I,r:t,k:e,f:!!n}:t:null);function Cn(t,e=null,n=null,s=0,r=null,o=(t===hn?0:1),a=!1,l=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kn(e),ref:e&&Sn(e),scopeId:M,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:I};return l?(Pn(h,n),128&o&&t.normalize(h)):n&&(h.shapeFlag|=(0,i.Kg)(n)?8:16),yn>0&&!a&&pn&&(h.patchFlag>0||6&o)&&32!==h.patchFlag&&pn.push(h),h}const Tn=Rn;function Rn(t,e=null,n=null,r=0,o=null,a=!1){if(t&&t!==xt||(t=un),An(t)){const s=Mn(t,e,!0);return n&&Pn(s,n),yn>0&&!a&&pn&&(6&s.shapeFlag?pn[pn.indexOf(t)]=s:pn.push(s)),s.patchFlag=-2,s}if(os(t)&&(t=t.__vccOpts),e){e=In(e);let{class:t,style:n}=e;t&&!(0,i.Kg)(t)&&(e.class=(0,i.C4)(t)),(0,i.Gv)(n)&&((0,s.ju)(n)&&!(0,i.cy)(n)&&(n=(0,i.X$)({},n)),e.style=(0,i.Tr)(n))}const l=(0,i.Kg)(t)?1:an(t)?128:we(t)?64:(0,i.Gv)(t)?4:(0,i.Tn)(t)?2:0;return Cn(t,e,n,r,o,l,a,!0)}function In(t){return t?(0,s.ju)(t)||ne(t)?(0,i.X$)({},t):t:null}function Mn(t,e,n=!1,s=!1){const{props:r,ref:o,patchFlag:a,children:l,transition:h}=t,c=e?Yn(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&kn(c),ref:e&&e.ref?n&&o?(0,i.cy)(o)?o.concat(Sn(e)):[o,Sn(e)]:Sn(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==hn?-1===a?16:16|a:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:h,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Mn(t.ssContent),ssFallback:t.ssFallback&&Mn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return h&&s&&$(u,h.clone(u)),u}function _n(t=" ",e=0){return Tn(cn,null,t,e)}function Fn(t,e){const n=Tn(dn,null,t);return n.staticCount=e,n}function On(t="",e=!1){return e?(mn(),xn(un,null,t)):Tn(un,null,t)}function Ln(t){return null==t||"boolean"===typeof t?Tn(un):(0,i.cy)(t)?Tn(hn,null,t.slice()):"object"===typeof t?Bn(t):Tn(cn,null,String(t))}function Bn(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:Mn(t)}function Pn(t,e){let n=0;const{shapeFlag:s}=t;if(null==e)e=null;else if((0,i.cy)(e))n=16;else if("object"===typeof e){if(65&s){const n=e.default;return void(n&&(n._c&&(n._d=!1),Pn(t,n()),n._c&&(n._d=!0)))}{n=32;const s=e._;s||ne(e)?3===s&&I&&(1===I.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=I}}else(0,i.Tn)(e)?(e={default:e,_ctx:I},n=32):(e=String(e),64&s?(n=16,e=[_n(e)]):n=8);t.children=e,t.shapeFlag|=n}function Yn(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s)if("class"===t)e.class!==s.class&&(e.class=(0,i.C4)([e.class,s.class]));else if("style"===t)e.style=(0,i.Tr)([e.style,s.style]);else if((0,i.Mp)(t)){const n=e[t],r=s[t];!r||n===r||(0,i.cy)(n)&&n.includes(r)||(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=s[t])}return e}function Nn(t,e,n,s=null){o(t,e,7,[n,s])}const Dn=Gt();let Xn=0;function Vn(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||Dn,a={uid:Xn++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new s.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:le(r,o),emitsOptions:Je(r,o),emit:null,emitted:null,propsDefaults:i.MZ,inheritAttrs:r.inheritAttrs,ctx:i.MZ,data:i.MZ,props:i.MZ,attrs:i.MZ,slots:i.MZ,refs:i.MZ,setupState:i.MZ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=Ke.bind(null,a),t.ce&&t.ce(a),a}let Un=null;const jn=()=>Un||I;let Wn,qn;{const t=(0,i.We)(),e=(e,n)=>{let s;return(s=t[e])||(s=t[e]=[]),s.push(n),t=>{s.length>1?s.forEach((e=>e(t))):s[0](t)}};Wn=e("__VUE_INSTANCE_SETTERS__",(t=>Un=t)),qn=e("__VUE_SSR_SETTERS__",(t=>Kn=t))}const zn=t=>{const e=Un;return Wn(t),t.scope.on(),()=>{t.scope.off(),Wn(e)}},Gn=()=>{Un&&Un.scope.off(),Wn(null)};function Hn(t){return 4&t.vnode.shapeFlag}let $n,Zn,Kn=!1;function Jn(t,e=!1,n=!1){e&&qn(e);const{props:s,children:i}=t.vnode,r=Hn(t);se(t,s,r,e),ge(t,i,n);const o=r?Qn(t,e):void 0;return e&&qn(!1),o}function Qn(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Mt);const{setup:o}=n;if(o){const n=t.setupContext=o.length>1?ss(t):null,l=zn(t);(0,s.C4)();const h=r(o,t,0,[t.props,n]);if((0,s.bl)(),l(),(0,i.yL)(h)){if(h.then(Gn,Gn),e)return h.then((n=>{ts(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=h}else ts(t,h,e)}else es(t,e)}function ts(t,e,n){(0,i.Tn)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,i.Gv)(e)&&(t.setupState=(0,s.Pr)(e)),es(t,n)}function es(t,e,n){const r=t.type;if(!t.render){if(!e&&$n&&!r.render){const e=r.template||Yt(t).template;if(e){0;const{isCustomElement:n,compilerOptions:s}=t.appContext.config,{delimiters:o,compilerOptions:a}=r,l=(0,i.X$)((0,i.X$)({isCustomElement:n,delimiters:o},s),a);r.render=$n(e,l)}}t.render=r.render||i.tE,Zn&&Zn(t)}{const e=zn(t);(0,s.C4)();try{Ot(t)}finally{(0,s.bl)(),e()}}}const ns={get(t,e){return(0,s.u4)(t,"get",""),t[e]}};function ss(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,ns),slots:t.slots,emit:t.emit,expose:e}}function is(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy((0,s.Pr)((0,s.IG)(t.exposed)),{get(e,n){return n in e?e[n]:n in Rt?Rt[n](t):void 0},has(t,e){return e in t||e in Rt}})):t.proxy}function rs(t,e=!0){return(0,i.Tn)(t)?t.displayName||t.name:t.name||e&&t.__name}function os(t){return(0,i.Tn)(t)&&"__vccOpts"in t}const as=(t,e)=>{const n=(0,s.EW)(t,e,Kn);return n};function ls(t,e,n){const s=arguments.length;return 2===s?(0,i.Gv)(e)&&!(0,i.cy)(e)?An(e)?Tn(t,null,[e]):Tn(t,e):Tn(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):3===s&&An(n)&&(n=[n]),Tn(t,e,n))}const hs="3.4.38"},5130:function(t,e,n){"use strict";n.d(e,{D$:function(){return bt},Ef:function(){return Et},F:function(){return dt},aG:function(){return L},eB:function(){return p}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var s=n(6768),i=n(4232),r=n(144);
/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const o="http://www.w3.org/2000/svg",a="http://www.w3.org/1998/Math/MathML",l="undefined"!==typeof document?document:null,h=l&&l.createElement("template"),c={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i="svg"===e?l.createElementNS(o,t):"mathml"===e?l.createElementNS(a,t):n?l.createElement(t,{is:n}):l.createElement(t);return"select"===t&&s&&null!=s.multiple&&i.setAttribute("multiple",s.multiple),i},createText:t=>l.createTextNode(t),createComment:t=>l.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>l.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling)){while(1)if(e.insertBefore(i.cloneNode(!0),n),i===r||!(i=i.nextSibling))break}else{h.innerHTML="svg"===s?`<svg>${t}</svg>`:"mathml"===s?`<math>${t}</math>`:t;const i=h.content;if("svg"===s||"mathml"===s){const t=i.firstChild;while(t.firstChild)i.appendChild(t.firstChild);i.removeChild(t)}e.insertBefore(i,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},u="transition",d="animation",f=Symbol("_vtc"),p=(t,{slots:e})=>(0,s.h)(s.pR,b(t),e);p.displayName="Transition";const m={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},g=p.props=(0,i.X$)({},s.QP,m),y=(t,e=[])=>{(0,i.cy)(t)?t.forEach((t=>t(...e))):t&&t(...e)},v=t=>!!t&&((0,i.cy)(t)?t.some((t=>t.length>1)):t.length>1);function b(t){const e={};for(const i in t)i in m||(e[i]=t[i]);if(!1===t.css)return e;const{name:n="v",type:s,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:h=o,appearActiveClass:c=a,appearToClass:u=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=w(r),b=g&&g[0],x=g&&g[1],{onBeforeEnter:S,onEnter:T,onEnterCancelled:R,onLeave:I,onLeaveCancelled:_,onBeforeAppear:F=S,onAppear:O=T,onAppearCancelled:L=R}=e,B=(t,e,n)=>{E(t,e?u:l),E(t,e?c:a),n&&n()},P=(t,e)=>{t._isLeaving=!1,E(t,d),E(t,p),E(t,f),e&&e()},Y=t=>(e,n)=>{const i=t?O:T,r=()=>B(e,t,n);y(i,[e,r]),k((()=>{E(e,t?h:o),A(e,t?u:l),v(i)||C(e,s,b,r)}))};return(0,i.X$)(e,{onBeforeEnter(t){y(S,[t]),A(t,o),A(t,a)},onBeforeAppear(t){y(F,[t]),A(t,h),A(t,c)},onEnter:Y(!1),onAppear:Y(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>P(t,e);A(t,d),A(t,f),M(),k((()=>{t._isLeaving&&(E(t,d),A(t,p),v(I)||C(t,s,x,n))})),y(I,[t,n])},onEnterCancelled(t){B(t,!1),y(R,[t])},onAppearCancelled(t){B(t,!0),y(L,[t])},onLeaveCancelled(t){P(t),y(_,[t])}})}function w(t){if(null==t)return null;if((0,i.Gv)(t))return[x(t.enter),x(t.leave)];{const e=x(t);return[e,e]}}function x(t){const e=(0,i.Ro)(t);return e}function A(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[f]||(t[f]=new Set)).add(e)}function E(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const n=t[f];n&&(n.delete(e),n.size||(t[f]=void 0))}function k(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let S=0;function C(t,e,n,s){const i=t._endId=++S,r=()=>{i===t._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=T(t,e);if(!o)return s();const h=o+"end";let c=0;const u=()=>{t.removeEventListener(h,d),r()},d=e=>{e.target===t&&++c>=l&&u()};setTimeout((()=>{c<l&&u()}),a+1),t.addEventListener(h,d)}function T(t,e){const n=window.getComputedStyle(t),s=t=>(n[t]||"").split(", "),i=s(`${u}Delay`),r=s(`${u}Duration`),o=R(i,r),a=s(`${d}Delay`),l=s(`${d}Duration`),h=R(a,l);let c=null,f=0,p=0;e===u?o>0&&(c=u,f=o,p=r.length):e===d?h>0&&(c=d,f=h,p=l.length):(f=Math.max(o,h),c=f>0?o>h?u:d:null,p=c?c===u?r.length:l.length:0);const m=c===u&&/\b(transform|all)(,|$)/.test(s(`${u}Property`).toString());return{type:c,timeout:f,propCount:p,hasTransform:m}}function R(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>I(e)+I(t[n]))))}function I(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}function M(){return document.body.offsetHeight}function _(t,e,n){const s=t[f];s&&(e=(e?[e,...s]:[...s]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const F=Symbol("_vod"),O=Symbol("_vsh"),L={beforeMount(t,{value:e},{transition:n}){t[F]="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):B(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!==!n&&(s?e?(s.beforeEnter(t),B(t,!0),s.enter(t)):s.leave(t,(()=>{B(t,!1)})):B(t,e))},beforeUnmount(t,{value:e}){B(t,e)}};function B(t,e){t.style.display=e?t[F]:"none",t[O]=!e}const P=Symbol("");const Y=/(^|;)\s*display\s*:/;function N(t,e,n){const s=t.style,r=(0,i.Kg)(n);let o=!1;if(n&&!r){if(e)if((0,i.Kg)(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==n[e]&&X(s,e,"")}else for(const t in e)null==n[t]&&X(s,t,"");for(const t in n)"display"===t&&(o=!0),X(s,t,n[t])}else if(r){if(e!==n){const t=s[P];t&&(n+=";"+t),s.cssText=n,o=Y.test(n)}}else e&&t.removeAttribute("style");F in t&&(t[F]=o?s.display:"",t[O]&&(s.display="none"))}const D=/\s*!important$/;function X(t,e,n){if((0,i.cy)(n))n.forEach((n=>X(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=j(t,e);D.test(n)?t.setProperty((0,i.Tg)(s),n.replace(D,""),"important"):t[s]=n}}const V=["Webkit","Moz","ms"],U={};function j(t,e){const n=U[e];if(n)return n;let s=(0,i.PT)(e);if("filter"!==s&&s in t)return U[e]=s;s=(0,i.ZH)(s);for(let i=0;i<V.length;i++){const n=V[i]+s;if(n in t)return U[e]=n}return e}const W="http://www.w3.org/1999/xlink";function q(t,e,n,s,r,o=(0,i.J$)(e)){s&&e.startsWith("xlink:")?null==n?t.removeAttributeNS(W,e.slice(6,e.length)):t.setAttributeNS(W,e,n):null==n||o&&!(0,i.Y2)(n)?t.removeAttribute(e):t.setAttribute(e,o?"":(0,i.Bm)(n)?String(n):n)}function z(t,e,n,s){if("innerHTML"===e||"textContent"===e){if(null==n)return;return void(t[e]=n)}const r=t.tagName;if("value"===e&&"PROGRESS"!==r&&!r.includes("-")){const s="OPTION"===r?t.getAttribute("value")||"":t.value,i=null==n?"":String(n);return s===i&&"_value"in t||(t.value=i),null==n&&t.removeAttribute(e),void(t._value=n)}let o=!1;if(""===n||null==n){const s=typeof t[e];"boolean"===s?n=(0,i.Y2)(n):null==n&&"string"===s?(n="",o=!0):"number"===s&&(n=0,o=!0)}try{t[e]=n}catch(a){0}o&&t.removeAttribute(e)}function G(t,e,n,s){t.addEventListener(e,n,s)}function H(t,e,n,s){t.removeEventListener(e,n,s)}const $=Symbol("_vei");function Z(t,e,n,s,i=null){const r=t[$]||(t[$]={}),o=r[e];if(s&&o)o.value=s;else{const[n,a]=J(e);if(s){const o=r[e]=nt(s,i);G(t,n,o,a)}else o&&(H(t,n,o,a),r[e]=void 0)}}const K=/(?:Once|Passive|Capture)$/;function J(t){let e;if(K.test(t)){let n;e={};while(n=t.match(K))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):(0,i.Tg)(t.slice(2));return[n,e]}let Q=0;const tt=Promise.resolve(),et=()=>Q||(tt.then((()=>Q=0)),Q=Date.now());function nt(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();(0,s.qL)(st(t,n.value),e,5,[t])};return n.value=t,n.attached=et(),n}function st(t,e){if((0,i.cy)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const it=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,rt=(t,e,n,s,r,o)=>{const a="svg"===r;"class"===e?_(t,s,a):"style"===e?N(t,n,s):(0,i.Mp)(e)?(0,i.CP)(e)||Z(t,e,n,s,o):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):ot(t,e,s,a))?(z(t,e,s),t.tagName.includes("-")||"value"!==e&&"checked"!==e&&"selected"!==e||q(t,e,s,a,o,"value"!==e)):("true-value"===e?t._trueValue=s:"false-value"===e&&(t._falseValue=s),q(t,e,s,a))};function ot(t,e,n,s){if(s)return"innerHTML"===e||"textContent"===e||!!(e in t&&it(e)&&(0,i.Tn)(n));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}return(!it(e)||!(0,i.Kg)(n))&&e in t}
/*! #__NO_SIDE_EFFECTS__ */
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const at=new WeakMap,lt=new WeakMap,ht=Symbol("_moveCb"),ct=Symbol("_enterCb"),ut={name:"TransitionGroup",props:(0,i.X$)({},g,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=(0,s.nI)(),i=(0,s.Gy)();let o,a;return(0,s.$u)((()=>{if(!o.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!gt(o[0].el,n.vnode.el,e))return;o.forEach(ft),o.forEach(pt);const s=o.filter(mt);M(),s.forEach((t=>{const n=t.el,s=n.style;A(n,e),s.transform=s.webkitTransform=s.transitionDuration="";const i=n[ht]=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",i),n[ht]=null,E(n,e))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,r.ux)(t),h=b(l);let c=l.tag||s.FK;if(o=[],a)for(let t=0;t<a.length;t++){const e=a[t];e.el&&e.el instanceof Element&&(o.push(e),(0,s.MZ)(e,(0,s.OW)(e,h,i,n)),at.set(e,e.el.getBoundingClientRect()))}a=e.default?(0,s.Df)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,s.MZ)(e,(0,s.OW)(e,h,i,n))}return(0,s.bF)(c,null,a)}}};ut.props;const dt=ut;function ft(t){const e=t.el;e[ht]&&e[ht](),e[ct]&&e[ct]()}function pt(t){lt.set(t,t.el.getBoundingClientRect())}function mt(t){const e=at.get(t),n=lt.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${s}px,${i}px)`,e.transitionDuration="0s",t}}function gt(t,e,n){const s=t.cloneNode(),i=t[f];i&&i.forEach((t=>{t.split(/\s+/).forEach((t=>t&&s.classList.remove(t)))})),n.split(/\s+/).forEach((t=>t&&s.classList.add(t))),s.style.display="none";const r=1===e.nodeType?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=T(s);return r.removeChild(s),o}Symbol("_assign");const yt=["ctrl","shift","alt","meta"],vt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>yt.some((n=>t[`${n}Key`]&&!e.includes(n)))},bt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(n,...s)=>{for(let t=0;t<e.length;t++){const s=vt[e[t]];if(s&&s(n,e))return}return t(n,...s)})},wt=(0,i.X$)({patchProp:rt},c);let xt;function At(){return xt||(xt=(0,s.K9)(wt))}const Et=(...t)=>{const e=At().createApp(...t);const{mount:n}=e;return e.mount=t=>{const s=St(t);if(!s)return;const r=e._component;(0,i.Tn)(r)||r.render||r.template||(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,kt(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function kt(t){return t instanceof SVGElement?"svg":"function"===typeof MathMLElement&&t instanceof MathMLElement?"mathml":void 0}function St(t){if((0,i.Kg)(t)){const e=document.querySelector(t);return e}return t}},4232:function(t,e,n){"use strict";n.d(e,{$3:function(){return f},$H:function(){return Y},BH:function(){return q},BX:function(){return nt},Bm:function(){return x},C4:function(){return K},CE:function(){return m},CP:function(){return h},DY:function(){return N},Gv:function(){return A},J$:function(){return Q},Kg:function(){return w},MZ:function(){return i},Mp:function(){return l},NO:function(){return a},Oj:function(){return r},PT:function(){return F},Qd:function(){return T},Ro:function(){return V},SU:function(){return I},TF:function(){return u},Tg:function(){return L},Tn:function(){return b},Tr:function(){return z},We:function(){return j},X$:function(){return c},Y2:function(){return tt},ZH:function(){return B},Zf:function(){return C},bB:function(){return X},cy:function(){return p},gd:function(){return v},pD:function(){return s},rU:function(){return P},tE:function(){return o},u3:function(){return st},vM:function(){return g},v_:function(){return rt},yI:function(){return R},yL:function(){return E},yQ:function(){return D}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);
/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function s(t,e){const n=new Set(t.split(","));return e?t=>n.has(t.toLowerCase()):t=>n.has(t)}const i={},r=[],o=()=>{},a=()=>!1,l=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),h=t=>t.startsWith("onUpdate:"),c=Object.assign,u=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},d=Object.prototype.hasOwnProperty,f=(t,e)=>d.call(t,e),p=Array.isArray,m=t=>"[object Map]"===S(t),g=t=>"[object Set]"===S(t),y=t=>"[object Date]"===S(t),v=t=>"[object RegExp]"===S(t),b=t=>"function"===typeof t,w=t=>"string"===typeof t,x=t=>"symbol"===typeof t,A=t=>null!==t&&"object"===typeof t,E=t=>(A(t)||b(t))&&b(t.then)&&b(t.catch),k=Object.prototype.toString,S=t=>k.call(t),C=t=>S(t).slice(8,-1),T=t=>"[object Object]"===S(t),R=t=>w(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,I=s(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M=t=>{const e=Object.create(null);return n=>{const s=e[n];return s||(e[n]=t(n))}},_=/-(\w)/g,F=M((t=>t.replace(_,((t,e)=>e?e.toUpperCase():"")))),O=/\B([A-Z])/g,L=M((t=>t.replace(O,"-$1").toLowerCase())),B=M((t=>t.charAt(0).toUpperCase()+t.slice(1))),P=M((t=>{const e=t?`on${B(t)}`:"";return e})),Y=(t,e)=>!Object.is(t,e),N=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},D=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},X=t=>{const e=parseFloat(t);return isNaN(e)?t:e},V=t=>{const e=w(t)?Number(t):NaN;return isNaN(e)?t:e};let U;const j=()=>U||(U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const W="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",q=s(W);function z(t){if(p(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=w(s)?Z(s):z(s);if(i)for(const t in i)e[t]=i[t]}return e}if(w(t)||A(t))return t}const G=/;(?![^(]*\))/g,H=/:([^]+)/,$=/\/\*[^]*?\*\//g;function Z(t){const e={};return t.replace($,"").split(G).forEach((t=>{if(t){const n=t.split(H);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function K(t){let e="";if(w(t))e=t;else if(p(t))for(let n=0;n<t.length;n++){const s=K(t[n]);s&&(e+=s+" ")}else if(A(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const J="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Q=s(J);function tt(t){return!!t||""===t}function et(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=nt(t[s],e[s]);return n}function nt(t,e){if(t===e)return!0;let n=y(t),s=y(e);if(n||s)return!(!n||!s)&&t.getTime()===e.getTime();if(n=x(t),s=x(e),n||s)return t===e;if(n=p(t),s=p(e),n||s)return!(!n||!s)&&et(t,e);if(n=A(t),s=A(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const n in t){const s=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(s&&!i||!s&&i||!nt(t[n],e[n]))return!1}}return String(t)===String(e)}function st(t,e){return t.findIndex((t=>nt(t,e)))}const it=t=>!(!t||!0!==t.__v_isRef),rt=t=>w(t)?t:null==t?"":p(t)||A(t)&&(t.toString===k||!b(t.toString))?it(t)?rt(t.value):JSON.stringify(t,ot,2):String(t),ot=(t,e)=>it(e)?ot(t,e.value):m(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n],s)=>(t[at(e,s)+" =>"]=n,t)),{})}:g(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>at(t)))}:x(e)?at(e):!A(e)||p(e)||T(e)?e:String(e),at=(t,e="")=>{var n;return x(t)?`Symbol(${null!=(n=t.description)?n:e})`:t}},6664:function(t,e,n){"use strict";var s=n(8433),i={"text/plain":"Text","text/html":"Url",default:"Text"},r="Copy to clipboard: #{key}, Enter";function o(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function a(t,e){var n,a,l,h,c,u,d=!1;e||(e={}),n=e.debug||!1;try{l=s(),h=document.createRange(),c=document.getSelection(),u=document.createElement("span"),u.textContent=t,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(s){if(s.stopPropagation(),e.format)if(s.preventDefault(),"undefined"===typeof s.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=i[e.format]||i["default"];window.clipboardData.setData(r,t)}else s.clipboardData.clearData(),s.clipboardData.setData(e.format,t);e.onCopy&&(s.preventDefault(),e.onCopy(s.clipboardData))})),document.body.appendChild(u),h.selectNodeContents(u),c.addRange(h);var f=document.execCommand("copy");if(!f)throw new Error("copy command was unsuccessful");d=!0}catch(p){n&&console.error("unable to copy using execCommand: ",p),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),d=!0}catch(p){n&&console.error("unable to copy using clipboardData: ",p),n&&console.error("falling back to prompt"),a=o("message"in e?e.message:r),window.prompt(a,t)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(h):c.removeAllRanges()),u&&document.body.removeChild(u),l()}return d}t.exports=a},8433:function(t,e,n){n(4114),t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],s=0;s<t.rangeCount;s++)n.push(t.getRangeAt(s));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach((function(e){t.addRange(e)})),e&&e.focus()}}},1241:function(t,e){"use strict";e.A=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n}},9306:function(t,e,n){"use strict";var s=n(4901),i=n(6823),r=TypeError;t.exports=function(t){if(s(t))return t;throw new r(i(t)+" is not a function")}},3506:function(t,e,n){"use strict";var s=n(3925),i=String,r=TypeError;t.exports=function(t){if(s(t))return t;throw new r("Can't set "+i(t)+" as a prototype")}},7080:function(t,e,n){"use strict";var s=n(4402).has;t.exports=function(t){return s(t),t}},679:function(t,e,n){"use strict";var s=n(1625),i=TypeError;t.exports=function(t,e){if(s(e,t))return t;throw new i("Incorrect invocation")}},8551:function(t,e,n){"use strict";var s=n(34),i=String,r=TypeError;t.exports=function(t){if(s(t))return t;throw new r(i(t)+" is not an object")}},7811:function(t){"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(t,e,n){"use strict";var s=n(4576),i=n(6706),r=n(2195),o=s.ArrayBuffer,a=s.TypeError;t.exports=o&&i(o.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==r(t))throw new a("ArrayBuffer expected");return t.byteLength}},3238:function(t,e,n){"use strict";var s=n(4576),i=n(7476),r=n(7394),o=s.ArrayBuffer,a=o&&o.prototype,l=a&&i(a.slice);t.exports=function(t){if(0!==r(t))return!1;if(!l)return!1;try{return l(t,0,0),!1}catch(e){return!0}}},5169:function(t,e,n){"use strict";var s=n(3238),i=TypeError;t.exports=function(t){if(s(t))throw new i("ArrayBuffer is detached");return t}},5636:function(t,e,n){"use strict";var s=n(4576),i=n(9504),r=n(6706),o=n(7696),a=n(5169),l=n(7394),h=n(4483),c=n(1548),u=s.structuredClone,d=s.ArrayBuffer,f=s.DataView,p=Math.min,m=d.prototype,g=f.prototype,y=i(m.slice),v=r(m,"resizable","get"),b=r(m,"maxByteLength","get"),w=i(g.getInt8),x=i(g.setInt8);t.exports=(c||h)&&function(t,e,n){var s,i=l(t),r=void 0===e?i:o(e),m=!v||!v(t);if(a(t),c&&(t=u(t,{transfer:[t]}),i===r&&(n||m)))return t;if(i>=r&&(!n||m))s=y(t,0,r);else{var g=n&&!m&&b?{maxByteLength:b(t)}:void 0;s=new d(r,g);for(var A=new f(t),E=new f(s),k=p(r,i),S=0;S<k;S++)x(E,S,w(A,S))}return c||h(t),s}},4644:function(t,e,n){"use strict";var s,i,r,o=n(7811),a=n(3724),l=n(4576),h=n(4901),c=n(34),u=n(9297),d=n(6955),f=n(6823),p=n(6699),m=n(6840),g=n(2106),y=n(1625),v=n(2787),b=n(2967),w=n(8227),x=n(3392),A=n(1181),E=A.enforce,k=A.get,S=l.Int8Array,C=S&&S.prototype,T=l.Uint8ClampedArray,R=T&&T.prototype,I=S&&v(S),M=C&&v(C),_=Object.prototype,F=l.TypeError,O=w("toStringTag"),L=x("TYPED_ARRAY_TAG"),B="TypedArrayConstructor",P=o&&!!b&&"Opera"!==d(l.opera),Y=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},X=function(t){if(!c(t))return!1;var e=d(t);return"DataView"===e||u(N,e)||u(D,e)},V=function(t){var e=v(t);if(c(e)){var n=k(e);return n&&u(n,B)?n[B]:V(e)}},U=function(t){if(!c(t))return!1;var e=d(t);return u(N,e)||u(D,e)},j=function(t){if(U(t))return t;throw new F("Target is not a typed array")},W=function(t){if(h(t)&&(!b||y(I,t)))return t;throw new F(f(t)+" is not a typed array constructor")},q=function(t,e,n,s){if(a){if(n)for(var i in N){var r=l[i];if(r&&u(r.prototype,t))try{delete r.prototype[t]}catch(o){try{r.prototype[t]=e}catch(h){}}}M[t]&&!n||m(M,t,n?e:P&&C[t]||e,s)}},z=function(t,e,n){var s,i;if(a){if(b){if(n)for(s in N)if(i=l[s],i&&u(i,t))try{delete i[t]}catch(r){}if(I[t]&&!n)return;try{return m(I,t,n?e:P&&I[t]||e)}catch(r){}}for(s in N)i=l[s],!i||i[t]&&!n||m(i,t,e)}};for(s in N)i=l[s],r=i&&i.prototype,r?E(r)[B]=i:P=!1;for(s in D)i=l[s],r=i&&i.prototype,r&&(E(r)[B]=i);if((!P||!h(I)||I===Function.prototype)&&(I=function(){throw new F("Incorrect invocation")},P))for(s in N)l[s]&&b(l[s],I);if((!P||!M||M===_)&&(M=I.prototype,P))for(s in N)l[s]&&b(l[s].prototype,M);if(P&&v(R)!==M&&b(R,M),a&&!u(M,O))for(s in Y=!0,g(M,O,{configurable:!0,get:function(){return c(this)?this[L]:void 0}}),N)l[s]&&p(l[s],L,s);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:Y&&L,aTypedArray:j,aTypedArrayConstructor:W,exportTypedArrayMethod:q,exportTypedArrayStaticMethod:z,getTypedArrayConstructor:V,isView:X,isTypedArray:U,TypedArray:I,TypedArrayPrototype:M}},5370:function(t,e,n){"use strict";var s=n(6198);t.exports=function(t,e,n){var i=0,r=arguments.length>2?n:s(e),o=new t(r);while(r>i)o[i]=e[i++];return o}},9617:function(t,e,n){"use strict";var s=n(5397),i=n(5610),r=n(6198),o=function(t){return function(e,n,o){var a=s(e),l=r(a);if(0===l)return!t&&-1;var h,c=i(o,l);if(t&&n!==n){while(l>c)if(h=a[c++],h!==h)return!0}else for(;l>c;c++)if((t||c in a)&&a[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},4527:function(t,e,n){"use strict";var s=n(3724),i=n(4376),r=TypeError,o=Object.getOwnPropertyDescriptor,a=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!o(t,"length").writable)throw new r("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7628:function(t,e,n){"use strict";var s=n(6198);t.exports=function(t,e){for(var n=s(t),i=new e(n),r=0;r<n;r++)i[r]=t[n-r-1];return i}},9928:function(t,e,n){"use strict";var s=n(6198),i=n(1291),r=RangeError;t.exports=function(t,e,n,o){var a=s(t),l=i(n),h=l<0?a+l:l;if(h>=a||h<0)throw new r("Incorrect index");for(var c=new e(a),u=0;u<a;u++)c[u]=u===h?o:t[u];return c}},2195:function(t,e,n){"use strict";var s=n(9504),i=s({}.toString),r=s("".slice);t.exports=function(t){return r(i(t),8,-1)}},6955:function(t,e,n){"use strict";var s=n(2140),i=n(4901),r=n(2195),o=n(8227),a=o("toStringTag"),l=Object,h="Arguments"===r(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=s?r:function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=l(t),a))?n:h?r(e):"Object"===(s=r(e))&&i(e.callee)?"Arguments":s}},7740:function(t,e,n){"use strict";var s=n(9297),i=n(5031),r=n(7347),o=n(4913);t.exports=function(t,e,n){for(var a=i(e),l=o.f,h=r.f,c=0;c<a.length;c++){var u=a[c];s(t,u)||n&&s(n,u)||l(t,u,h(e,u))}}},2211:function(t,e,n){"use strict";var s=n(9039);t.exports=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},6699:function(t,e,n){"use strict";var s=n(3724),i=n(4913),r=n(6980);t.exports=s?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2106:function(t,e,n){"use strict";var s=n(283),i=n(4913);t.exports=function(t,e,n){return n.get&&s(n.get,e,{getter:!0}),n.set&&s(n.set,e,{setter:!0}),i.f(t,e,n)}},6840:function(t,e,n){"use strict";var s=n(4901),i=n(4913),r=n(283),o=n(9433);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,h=void 0!==a.name?a.name:e;if(s(n)&&r(n,h,a),a.global)l?t[e]=n:o(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(c){}l?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},9433:function(t,e,n){"use strict";var s=n(4576),i=Object.defineProperty;t.exports=function(t,e){try{i(s,t,{value:e,configurable:!0,writable:!0})}catch(n){s[t]=e}return e}},3724:function(t,e,n){"use strict";var s=n(9039);t.exports=!s((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(t,e,n){"use strict";var s,i,r,o,a=n(4576),l=n(9429),h=n(1548),c=a.structuredClone,u=a.ArrayBuffer,d=a.MessageChannel,f=!1;if(h)f=function(t){c(t,{transfer:[t]})};else if(u)try{d||(s=l("worker_threads"),s&&(d=s.MessageChannel)),d&&(i=new d,r=new u(2),o=function(t){i.port1.postMessage(null,[t])},2===r.byteLength&&(o(r),0===r.byteLength&&(f=o)))}catch(p){}t.exports=f},4055:function(t,e,n){"use strict";var s=n(4576),i=n(34),r=s.document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},6837:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},5002:function(t){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:function(t,e,n){"use strict";var s=n(4215);t.exports="NODE"===s},2839:function(t,e,n){"use strict";var s=n(4576),i=s.navigator,r=i&&i.userAgent;t.exports=r?String(r):""},9519:function(t,e,n){"use strict";var s,i,r=n(4576),o=n(2839),a=r.process,l=r.Deno,h=a&&a.versions||l&&l.version,c=h&&h.v8;c&&(s=c.split("."),i=s[0]>0&&s[0]<4?1:+(s[0]+s[1])),!i&&o&&(s=o.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=o.match(/Chrome\/(\d+)/),s&&(i=+s[1]))),t.exports=i},4215:function(t,e,n){"use strict";var s=n(4576),i=n(2839),r=n(2195),o=function(t){return i.slice(0,t.length)===t};t.exports=function(){return o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":s.Bun&&"string"==typeof Bun.version?"BUN":s.Deno&&"object"==typeof Deno.version?"DENO":"process"===r(s.process)?"NODE":s.window&&s.document?"BROWSER":"REST"}()},8574:function(t,e,n){"use strict";var s=n(9504),i=Error,r=s("".replace),o=function(t){return String(new i(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);t.exports=function(t,e){if(l&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=r(t,a,"");return t}},6518:function(t,e,n){"use strict";var s=n(4576),i=n(7347).f,r=n(6699),o=n(6840),a=n(9433),l=n(7740),h=n(2796);t.exports=function(t,e){var n,c,u,d,f,p,m=t.target,g=t.global,y=t.stat;if(c=g?s:y?s[m]||a(m,{}):s[m]&&s[m].prototype,c)for(u in e){if(f=e[u],t.dontCallGetSet?(p=i(c,u),d=p&&p.value):d=c[u],n=h(g?u:m+(y?".":"#")+u,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(t.sham||d&&d.sham)&&r(f,"sham",!0),o(c,u,f,t)}}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},616:function(t,e,n){"use strict";var s=n(9039);t.exports=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,n){"use strict";var s=n(616),i=Function.prototype.call;t.exports=s?i.bind(i):function(){return i.apply(i,arguments)}},350:function(t,e,n){"use strict";var s=n(3724),i=n(9297),r=Function.prototype,o=s&&Object.getOwnPropertyDescriptor,a=i(r,"name"),l=a&&"something"===function(){}.name,h=a&&(!s||s&&o(r,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:h}},6706:function(t,e,n){"use strict";var s=n(9504),i=n(9306);t.exports=function(t,e,n){try{return s(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(r){}}},7476:function(t,e,n){"use strict";var s=n(2195),i=n(9504);t.exports=function(t){if("Function"===s(t))return i(t)}},9504:function(t,e,n){"use strict";var s=n(616),i=Function.prototype,r=i.call,o=s&&i.bind.bind(r,r);t.exports=s?o:function(t){return function(){return r.apply(t,arguments)}}},9429:function(t,e,n){"use strict";var s=n(4576),i=n(6193);t.exports=function(t){if(i){try{return s.process.getBuiltinModule(t)}catch(e){}try{return Function('return require("'+t+'")')()}catch(e){}}}},7751:function(t,e,n){"use strict";var s=n(4576),i=n(4901),r=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?r(s[t]):s[t]&&s[t][e]}},1767:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},5966:function(t,e,n){"use strict";var s=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:s(n)}},3789:function(t,e,n){"use strict";var s=n(9306),i=n(8551),r=n(9565),o=n(1291),a=n(1767),l="Invalid size",h=RangeError,c=TypeError,u=Math.max,d=function(t,e){this.set=t,this.size=u(e,0),this.has=s(t.has),this.keys=s(t.keys)};d.prototype={getIterator:function(){return a(i(r(this.keys,this.set)))},includes:function(t){return r(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!==e)throw new c(l);var n=o(e);if(n<0)throw new h(l);return new d(t,n)}},4576:function(t,e,n){"use strict";var s=function(t){return t&&t.Math===Math&&t};t.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof n.g&&n.g)||s("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){"use strict";var s=n(9504),i=n(8981),r=s({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(i(t),e)}},421:function(t){"use strict";t.exports={}},5917:function(t,e,n){"use strict";var s=n(3724),i=n(9039),r=n(4055);t.exports=!s&&!i((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){"use strict";var s=n(9504),i=n(9039),r=n(2195),o=Object,a=s("".split);t.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===r(t)?a(t,""):o(t)}:o},3167:function(t,e,n){"use strict";var s=n(4901),i=n(34),r=n(2967);t.exports=function(t,e,n){var o,a;return r&&s(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},3706:function(t,e,n){"use strict";var s=n(9504),i=n(4901),r=n(7629),o=s(Function.toString);i(r.inspectSource)||(r.inspectSource=function(t){return o(t)}),t.exports=r.inspectSource},1181:function(t,e,n){"use strict";var s,i,r,o=n(8622),a=n(4576),l=n(34),h=n(6699),c=n(9297),u=n(7629),d=n(6119),f=n(421),p="Object already initialized",m=a.TypeError,g=a.WeakMap,y=function(t){return r(t)?i(t):s(t,{})},v=function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}};if(o||u.state){var b=u.state||(u.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,s=function(t,e){if(b.has(t))throw new m(p);return e.facade=t,b.set(t,e),e},i=function(t){return b.get(t)||{}},r=function(t){return b.has(t)}}else{var w=d("state");f[w]=!0,s=function(t,e){if(c(t,w))throw new m(p);return e.facade=t,h(t,w,e),e},i=function(t){return c(t,w)?t[w]:{}},r=function(t){return c(t,w)}}t.exports={set:s,get:i,has:r,enforce:y,getterFor:v}},4376:function(t,e,n){"use strict";var s=n(2195);t.exports=Array.isArray||function(t){return"Array"===s(t)}},1108:function(t,e,n){"use strict";var s=n(6955);t.exports=function(t){var e=s(t);return"BigInt64Array"===e||"BigUint64Array"===e}},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,n){"use strict";var s=n(9039),i=n(4901),r=/#|\.prototype\./,o=function(t,e){var n=l[a(t)];return n===c||n!==h&&(i(e)?s(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},l=o.data={},h=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},34:function(t,e,n){"use strict";var s=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:s(t)}},3925:function(t,e,n){"use strict";var s=n(34);t.exports=function(t){return s(t)||null===t}},6395:function(t){"use strict";t.exports=!1},757:function(t,e,n){"use strict";var s=n(7751),i=n(4901),r=n(1625),o=n(7040),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=s("Symbol");return i(e)&&r(e.prototype,a(t))}},507:function(t,e,n){"use strict";var s=n(9565);t.exports=function(t,e,n){var i,r,o=n?t:t.iterator,a=t.next;while(!(i=s(a,o)).done)if(r=e(i.value),void 0!==r)return r}},9539:function(t,e,n){"use strict";var s=n(9565),i=n(8551),r=n(5966);t.exports=function(t,e,n){var o,a;i(t);try{if(o=r(t,"return"),!o){if("throw"===e)throw n;return n}o=s(o,t)}catch(l){a=!0,o=l}if("throw"===e)throw n;if(a)throw o;return i(o),n}},6198:function(t,e,n){"use strict";var s=n(8014);t.exports=function(t){return s(t.length)}},283:function(t,e,n){"use strict";var s=n(9504),i=n(9039),r=n(4901),o=n(9297),a=n(3724),l=n(350).CONFIGURABLE,h=n(3706),c=n(1181),u=c.enforce,d=c.get,f=String,p=Object.defineProperty,m=s("".slice),g=s("".replace),y=s([].join),v=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===m(f(e),0,7)&&(e="["+g(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||l&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),v&&n&&o(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var s=u(t);return o(s,"source")||(s.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return r(this)&&d(this).source||h(this)}),"toString")},741:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var s=+t;return(s>0?n:e)(s)}},2603:function(t,e,n){"use strict";var s=n(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:s(t)}},4913:function(t,e,n){"use strict";var s=n(3724),i=n(5917),r=n(8686),o=n(8551),a=n(6969),l=TypeError,h=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u="enumerable",d="configurable",f="writable";e.f=s?r?function(t,e,n){if(o(t),e=a(e),o(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var s=c(t,e);s&&s[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:s[d],enumerable:u in n?n[u]:s[u],writable:!1})}return h(t,e,n)}:h:function(t,e,n){if(o(t),e=a(e),o(n),i)try{return h(t,e,n)}catch(s){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){"use strict";var s=n(3724),i=n(9565),r=n(8773),o=n(6980),a=n(5397),l=n(6969),h=n(9297),c=n(5917),u=Object.getOwnPropertyDescriptor;e.f=s?u:function(t,e){if(t=a(t),e=l(e),c)try{return u(t,e)}catch(n){}if(h(t,e))return o(!i(r.f,t,e),t[e])}},8480:function(t,e,n){"use strict";var s=n(1828),i=n(8727),r=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,r)}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},2787:function(t,e,n){"use strict";var s=n(9297),i=n(4901),r=n(8981),o=n(6119),a=n(2211),l=o("IE_PROTO"),h=Object,c=h.prototype;t.exports=a?h.getPrototypeOf:function(t){var e=r(t);if(s(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof h?c:null}},1625:function(t,e,n){"use strict";var s=n(9504);t.exports=s({}.isPrototypeOf)},1828:function(t,e,n){"use strict";var s=n(9504),i=n(9297),r=n(5397),o=n(9617).indexOf,a=n(421),l=s([].push);t.exports=function(t,e){var n,s=r(t),h=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&l(c,n);while(e.length>h)i(s,n=e[h++])&&(~o(c,n)||l(c,n));return c}},8773:function(t,e){"use strict";var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,i=s&&!n.call({1:2},1);e.f=i?function(t){var e=s(this,t);return!!e&&e.enumerable}:n},2967:function(t,e,n){"use strict";var s=n(6706),i=n(34),r=n(7750),o=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=s(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(a){}return function(n,s){return r(n),o(s),i(n)?(e?t(n,s):n.__proto__=s,n):n}}():void 0)},4270:function(t,e,n){"use strict";var s=n(9565),i=n(4901),r=n(34),o=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!r(a=s(n,t)))return a;if(i(n=t.valueOf)&&!r(a=s(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!r(a=s(n,t)))return a;throw new o("Can't convert object to primitive value")}},5031:function(t,e,n){"use strict";var s=n(7751),i=n(9504),r=n(8480),o=n(3717),a=n(8551),l=i([].concat);t.exports=s("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?l(e,n(t)):e}},7979:function(t,e,n){"use strict";var s=n(8551);t.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},7750:function(t,e,n){"use strict";var s=n(4117),i=TypeError;t.exports=function(t){if(s(t))throw new i("Can't call method on "+t);return t}},9286:function(t,e,n){"use strict";var s=n(4402),i=n(8469),r=s.Set,o=s.add;t.exports=function(t){var e=new r;return i(t,(function(t){o(e,t)})),e}},3440:function(t,e,n){"use strict";var s=n(7080),i=n(4402),r=n(9286),o=n(5170),a=n(3789),l=n(8469),h=n(507),c=i.has,u=i.remove;t.exports=function(t){var e=s(this),n=a(t),i=r(e);return o(e)<=n.size?l(e,(function(t){n.includes(t)&&u(i,t)})):h(n.getIterator(),(function(t){c(e,t)&&u(i,t)})),i}},4402:function(t,e,n){"use strict";var s=n(9504),i=Set.prototype;t.exports={Set:Set,add:s(i.add),has:s(i.has),remove:s(i["delete"]),proto:i}},8750:function(t,e,n){"use strict";var s=n(7080),i=n(4402),r=n(5170),o=n(3789),a=n(8469),l=n(507),h=i.Set,c=i.add,u=i.has;t.exports=function(t){var e=s(this),n=o(t),i=new h;return r(e)>n.size?l(n.getIterator(),(function(t){u(e,t)&&c(i,t)})):a(e,(function(t){n.includes(t)&&c(i,t)})),i}},4449:function(t,e,n){"use strict";var s=n(7080),i=n(4402).has,r=n(5170),o=n(3789),a=n(8469),l=n(507),h=n(9539);t.exports=function(t){var e=s(this),n=o(t);if(r(e)<=n.size)return!1!==a(e,(function(t){if(n.includes(t))return!1}),!0);var c=n.getIterator();return!1!==l(c,(function(t){if(i(e,t))return h(c,"normal",!1)}))}},3838:function(t,e,n){"use strict";var s=n(7080),i=n(5170),r=n(8469),o=n(3789);t.exports=function(t){var e=s(this),n=o(t);return!(i(e)>n.size)&&!1!==r(e,(function(t){if(!n.includes(t))return!1}),!0)}},8527:function(t,e,n){"use strict";var s=n(7080),i=n(4402).has,r=n(5170),o=n(3789),a=n(507),l=n(9539);t.exports=function(t){var e=s(this),n=o(t);if(r(e)<n.size)return!1;var h=n.getIterator();return!1!==a(h,(function(t){if(!i(e,t))return l(h,"normal",!1)}))}},8469:function(t,e,n){"use strict";var s=n(9504),i=n(507),r=n(4402),o=r.Set,a=r.proto,l=s(a.forEach),h=s(a.keys),c=h(new o).next;t.exports=function(t,e,n){return n?i({iterator:h(t),next:c},e):l(t,e)}},4916:function(t,e,n){"use strict";var s=n(7751),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=s("Set");try{(new e)[t](i(0));try{return(new e)[t](i(-1)),!1}catch(n){return!0}}catch(r){return!1}}},5170:function(t,e,n){"use strict";var s=n(6706),i=n(4402);t.exports=s(i.proto,"size","get")||function(t){return t.size}},3650:function(t,e,n){"use strict";var s=n(7080),i=n(4402),r=n(9286),o=n(3789),a=n(507),l=i.add,h=i.has,c=i.remove;t.exports=function(t){var e=s(this),n=o(t).getIterator(),i=r(e);return a(n,(function(t){h(e,t)?c(i,t):l(i,t)})),i}},4204:function(t,e,n){"use strict";var s=n(7080),i=n(4402).add,r=n(9286),o=n(3789),a=n(507);t.exports=function(t){var e=s(this),n=o(t).getIterator(),l=r(e);return a(n,(function(t){i(l,t)})),l}},6119:function(t,e,n){"use strict";var s=n(5745),i=n(3392),r=s("keys");t.exports=function(t){return r[t]||(r[t]=i(t))}},7629:function(t,e,n){"use strict";var s=n(6395),i=n(4576),r=n(9433),o="__core-js_shared__",a=t.exports=i[o]||r(o,{});(a.versions||(a.versions=[])).push({version:"3.38.1",mode:s?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){"use strict";var s=n(7629);t.exports=function(t,e){return s[t]||(s[t]=e||{})}},1548:function(t,e,n){"use strict";var s=n(4576),i=n(9039),r=n(9519),o=n(4215),a=s.structuredClone;t.exports=!!a&&!i((function(){if("DENO"===o&&r>92||"NODE"===o&&r>94||"BROWSER"===o&&r>97)return!1;var t=new ArrayBuffer(8),e=a(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},4495:function(t,e,n){"use strict";var s=n(9519),i=n(9039),r=n(4576),o=r.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&s&&s<41}))},5610:function(t,e,n){"use strict";var s=n(1291),i=Math.max,r=Math.min;t.exports=function(t,e){var n=s(t);return n<0?i(n+e,0):r(n,e)}},5854:function(t,e,n){"use strict";var s=n(2777),i=TypeError;t.exports=function(t){var e=s(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},7696:function(t,e,n){"use strict";var s=n(1291),i=n(8014),r=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=s(t),n=i(e);if(e!==n)throw new r("Wrong length or index");return n}},5397:function(t,e,n){"use strict";var s=n(7055),i=n(7750);t.exports=function(t){return s(i(t))}},1291:function(t,e,n){"use strict";var s=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:s(e)}},8014:function(t,e,n){"use strict";var s=n(1291),i=Math.min;t.exports=function(t){var e=s(t);return e>0?i(e,9007199254740991):0}},8981:function(t,e,n){"use strict";var s=n(7750),i=Object;t.exports=function(t){return i(s(t))}},2777:function(t,e,n){"use strict";var s=n(9565),i=n(34),r=n(757),o=n(5966),a=n(4270),l=n(8227),h=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!i(t)||r(t))return t;var n,l=o(t,c);if(l){if(void 0===e&&(e="default"),n=s(l,t,e),!i(n)||r(n))return n;throw new h("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:function(t,e,n){"use strict";var s=n(2777),i=n(757);t.exports=function(t){var e=s(t,"string");return i(e)?e:e+""}},2140:function(t,e,n){"use strict";var s=n(8227),i=s("toStringTag"),r={};r[i]="z",t.exports="[object z]"===String(r)},655:function(t,e,n){"use strict";var s=n(6955),i=String;t.exports=function(t){if("Symbol"===s(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3392:function(t,e,n){"use strict";var s=n(9504),i=0,r=Math.random(),o=s(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++i+r,36)}},7040:function(t,e,n){"use strict";var s=n(4495);t.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){"use strict";var s=n(3724),i=n(9039);t.exports=s&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},431:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},8622:function(t,e,n){"use strict";var s=n(4576),i=n(4901),r=s.WeakMap;t.exports=i(r)&&/native code/.test(String(r))},8227:function(t,e,n){"use strict";var s=n(4576),i=n(5745),r=n(9297),o=n(3392),a=n(4495),l=n(7040),h=s.Symbol,c=i("wks"),u=l?h["for"]||h:h&&h.withoutSetter||o;t.exports=function(t){return r(c,t)||(c[t]=a&&r(h,t)?h[t]:u("Symbol."+t)),c[t]}},6573:function(t,e,n){"use strict";var s=n(3724),i=n(2106),r=n(3238),o=ArrayBuffer.prototype;s&&!("detached"in o)&&i(o,"detached",{configurable:!0,get:function(){return r(this)}})},7936:function(t,e,n){"use strict";var s=n(6518),i=n(5636);i&&s({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(t,e,n){"use strict";var s=n(6518),i=n(5636);i&&s({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(t,e,n){"use strict";var s=n(6518),i=n(8981),r=n(6198),o=n(4527),a=n(6837),l=n(9039),h=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},u=h||!c();s({target:"Array",proto:!0,arity:1,forced:u},{push:function(t){var e=i(this),n=r(e),s=arguments.length;a(n+s);for(var l=0;l<s;l++)e[n]=arguments[l],n++;return o(e,n),n}})},9479:function(t,e,n){"use strict";var s=n(4576),i=n(3724),r=n(2106),o=n(7979),a=n(9039),l=s.RegExp,h=l.prototype,c=i&&a((function(){var t=!0;try{l(".","d")}catch(c){t=!1}var e={},n="",s=t?"dgimsy":"gimsy",i=function(t,s){Object.defineProperty(e,t,{get:function(){return n+=s,!0}})},r={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in t&&(r.hasIndices="d"),r)i(o,r[o]);var a=Object.getOwnPropertyDescriptor(h,"flags").get.call(e);return a!==s||n!==s}));c&&r(h,"flags",{configurable:!0,get:o})},7642:function(t,e,n){"use strict";var s=n(6518),i=n(3440),r=n(4916);s({target:"Set",proto:!0,real:!0,forced:!r("difference")},{difference:i})},8004:function(t,e,n){"use strict";var s=n(6518),i=n(9039),r=n(8750),o=n(4916),a=!o("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));s({target:"Set",proto:!0,real:!0,forced:a},{intersection:r})},3853:function(t,e,n){"use strict";var s=n(6518),i=n(4449),r=n(4916);s({target:"Set",proto:!0,real:!0,forced:!r("isDisjointFrom")},{isDisjointFrom:i})},5876:function(t,e,n){"use strict";var s=n(6518),i=n(3838),r=n(4916);s({target:"Set",proto:!0,real:!0,forced:!r("isSubsetOf")},{isSubsetOf:i})},2475:function(t,e,n){"use strict";var s=n(6518),i=n(8527),r=n(4916);s({target:"Set",proto:!0,real:!0,forced:!r("isSupersetOf")},{isSupersetOf:i})},5024:function(t,e,n){"use strict";var s=n(6518),i=n(3650),r=n(4916);s({target:"Set",proto:!0,real:!0,forced:!r("symmetricDifference")},{symmetricDifference:i})},1698:function(t,e,n){"use strict";var s=n(6518),i=n(4204),r=n(4916);s({target:"Set",proto:!0,real:!0,forced:!r("union")},{union:i})},7467:function(t,e,n){"use strict";var s=n(7628),i=n(4644),r=i.aTypedArray,o=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;o("toReversed",(function(){return s(r(this),a(this))}))},4732:function(t,e,n){"use strict";var s=n(4644),i=n(9504),r=n(9306),o=n(5370),a=s.aTypedArray,l=s.getTypedArrayConstructor,h=s.exportTypedArrayMethod,c=i(s.TypedArrayPrototype.sort);h("toSorted",(function(t){void 0!==t&&r(t);var e=a(this),n=o(l(e),e);return c(n,t)}))},9577:function(t,e,n){"use strict";var s=n(9928),i=n(4644),r=n(1108),o=n(1291),a=n(5854),l=i.aTypedArray,h=i.getTypedArrayConstructor,c=i.exportTypedArrayMethod,u=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();c("with",{with:function(t,e){var n=l(this),i=o(t),c=r(n)?a(e):+e;return s(n,h(n),i,c)}}["with"],!u)},4979:function(t,e,n){"use strict";var s=n(6518),i=n(4576),r=n(7751),o=n(6980),a=n(4913).f,l=n(9297),h=n(679),c=n(3167),u=n(2603),d=n(5002),f=n(8574),p=n(3724),m=n(6395),g="DOMException",y=r("Error"),v=r(g),b=function(){h(this,w);var t=arguments.length,e=u(t<1?void 0:arguments[0]),n=u(t<2?void 0:arguments[1],"Error"),s=new v(e,n),i=new y(e);return i.name=g,a(s,"stack",o(1,f(i.stack,1))),c(s,this,b),s},w=b.prototype=v.prototype,x="stack"in new y(g),A="stack"in new v(1,2),E=v&&p&&Object.getOwnPropertyDescriptor(i,g),k=!!E&&!(E.writable&&E.configurable),S=x&&!k&&!A;s({global:!0,constructor:!0,forced:m||S},{DOMException:S?b:v});var C=r(g),T=C.prototype;if(T.constructor!==C)for(var R in m||a(T,"constructor",o(1,C)),d)if(l(d,R)){var I=d[R],M=I.s;l(C,M)||a(C,M,o(6,I.c))}},4603:function(t,e,n){"use strict";var s=n(6840),i=n(9504),r=n(655),o=n(431),a=URLSearchParams,l=a.prototype,h=i(l.append),c=i(l["delete"]),u=i(l.forEach),d=i([].push),f=new a("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&s(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return c(this,t);var s=[];u(this,(function(t,e){d(s,{key:e,value:t})})),o(e,1);var i,a=r(t),l=r(n),f=0,p=0,m=!1,g=s.length;while(f<g)i=s[f++],m||i.key===a?(m=!0,c(this,i.key)):p++;while(p<g)i=s[p++],i.key===a&&i.value===l||h(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7566:function(t,e,n){"use strict";var s=n(6840),i=n(9504),r=n(655),o=n(431),a=URLSearchParams,l=a.prototype,h=i(l.getAll),c=i(l.has),u=new a("a=1");!u.has("a",2)&&u.has("a",void 0)||s(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return c(this,t);var s=h(this,t);o(e,1);var i=r(n),a=0;while(a<s.length)if(s[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(t,e,n){"use strict";var s=n(3724),i=n(9504),r=n(2106),o=URLSearchParams.prototype,a=i(o.forEach);s&&!("size"in o)&&r(o,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})},1114:function(t,e,n){"use strict";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function i(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function r(t){var e=i(t,"string");return"symbol"==s(e)?e:e+""}function o(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{A:function(){return o}})},8936:function(t,e,n){"use strict";n.d(e,{dK:function(){return hs}});var s,i,r,o=n(1114);n(4114),n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);class a{constructor(){(0,o.A)(this,"entries",{}),(0,o.A)(this,"size",0)}add(t){let e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)}addAll(t){let e=this.size;for(var n=0,s=t.length;n<s;n++)this.add(t[n]);return e!=this.size}contains(t){return this.entries[t]}clear(){this.entries={},this.size=0}}class l{constructor(t=0,e=0,n=0,s=0){(0,o.A)(this,"r",void 0),(0,o.A)(this,"g",void 0),(0,o.A)(this,"b",void 0),(0,o.A)(this,"a",void 0),this.r=t,this.g=e,this.b=n,this.a=s}set(t,e,n,s){return this.r=t,this.g=e,this.b=n,this.a=s,this.clamp()}setFromColor(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}setFromString(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this}add(t,e,n,s){return this.r+=t,this.g+=e,this.b+=n,this.a+=s,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255}static rgb888ToColor(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255}toRgb888(){const t=t=>("0"+(255*t).toString(16)).slice(-2);return Number("0x"+t(this.r)+t(this.g)+t(this.b))}static fromString(t){return(new l).setFromString(t)}}s=l,(0,o.A)(l,"WHITE",new s(1,1,1,1)),(0,o.A)(l,"RED",new s(1,0,0,1)),(0,o.A)(l,"GREEN",new s(0,1,0,1)),(0,o.A)(l,"BLUE",new s(0,0,1,1)),(0,o.A)(l,"MAGENTA",new s(1,0,1,1));class h{static clamp(t,e,n){return t<e?e:t>n?n:t}static cosDeg(t){return Math.cos(t*h.degRad)}static sinDeg(t){return Math.sin(t*h.degRad)}static atan2Deg(t,e){return Math.atan2(t,e)*h.degRad}static signum(t){return t>0?1:t<0?-1:0}static toInt(t){return t>0?Math.floor(t):Math.ceil(t)}static cbrt(t){let e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}static randomTriangular(t,e){return h.randomTriangularWith(t,e,.5*(t+e))}static randomTriangularWith(t,e,n){let s=Math.random(),i=e-t;return s<=(n-t)/i?t+Math.sqrt(s*i*(n-t)):e-Math.sqrt((1-s)*i*(e-n))}static isPowerOfTwo(t){return t&&0===(t&t-1)}}i=h,(0,o.A)(h,"PI",3.1415927),(0,o.A)(h,"PI2",2*i.PI),(0,o.A)(h,"invPI2",1/i.PI2),(0,o.A)(h,"radiansToDegrees",180/i.PI),(0,o.A)(h,"radDeg",i.radiansToDegrees),(0,o.A)(h,"degreesToRadians",i.PI/180),(0,o.A)(h,"degRad",i.degreesToRadians);class c{static arrayCopy(t,e,n,s,i){for(let r=e,o=s;r<e+i;r++,o++)n[o]=t[r]}static arrayFill(t,e,n,s){for(let i=e;i<n;i++)t[i]=s}static setArraySize(t,e,n=0){let s=t.length;if(s==e)return t;if(t.length=e,s<e)for(let i=s;i<e;i++)t[i]=n;return t}static ensureArrayCapacity(t,e,n=0){return t.length>=e?t:c.setArraySize(t,e,n)}static newArray(t,e){let n=new Array(t);for(let s=0;s<t;s++)n[s]=e;return n}static newFloatArray(t){if(c.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static newShortArray(t){if(c.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static toFloatArray(t){return c.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}static toSinglePrecision(t){return c.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}static webkit602BugfixHelper(t,e){}static contains(t,e,n=!0){for(var s=0;s<t.length;s++)if(t[s]==e)return!0;return!1}static enumValue(t,e){return t[e[0].toUpperCase()+e.slice(1)]}}(0,o.A)(c,"SUPPORTS_TYPED_ARRAYS","undefined"!==typeof Float32Array);class u{constructor(t){(0,o.A)(this,"items",new Array),(0,o.A)(this,"instantiator",void 0),this.instantiator=t}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(t){t.reset&&t.reset(),this.items.push(t)}freeAll(t){for(let e=0;e<t.length;e++)this.free(t[e])}clear(){this.items.length=0}}class d{constructor(t=0,e=0){(0,o.A)(this,"x",void 0),(0,o.A)(this,"y",void 0),this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}length(){let t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}normalize(){let t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}}class f{constructor(){(0,o.A)(this,"maxDelta",.064),(0,o.A)(this,"framesPerSecond",0),(0,o.A)(this,"delta",0),(0,o.A)(this,"totalTime",0),(0,o.A)(this,"lastTime",Date.now()/1e3),(0,o.A)(this,"frameCount",0),(0,o.A)(this,"frameTime",0)}update(){let t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}class p{constructor(t){if((0,o.A)(this,"name",void 0),!t)throw new Error("name cannot be null.");this.name=t}}class m extends p{constructor(t){super(t),(0,o.A)(this,"id",m.nextID++),(0,o.A)(this,"bones",null),(0,o.A)(this,"vertices",[]),(0,o.A)(this,"worldVerticesLength",0),(0,o.A)(this,"timelineAttachment",this)}computeWorldVertices(t,e,n,s,i,r){n=i+(n>>1)*r;let o=t.bone.skeleton,a=t.deform,l=this.vertices,h=this.bones;if(!h){a.length>0&&(l=a);let o=t.bone,h=o.worldX,c=o.worldY,u=o.a,d=o.b,f=o.c,p=o.d;for(let t=e,a=i;a<n;t+=2,a+=r){let e=l[t],n=l[t+1];s[a]=e*u+n*d+h,s[a+1]=e*f+n*p+c}return}let c=0,u=0;for(let f=0;f<e;f+=2){let t=h[c];c+=t+1,u+=t}let d=o.bones;if(0==a.length)for(let f=i,p=3*u;f<n;f+=r){let t=0,e=0,n=h[c++];for(n+=c;c<n;c++,p+=3){let n=d[h[c]],s=l[p],i=l[p+1],r=l[p+2];t+=(s*n.a+i*n.b+n.worldX)*r,e+=(s*n.c+i*n.d+n.worldY)*r}s[f]=t,s[f+1]=e}else{let t=a;for(let e=i,o=3*u,a=u<<1;e<n;e+=r){let n=0,i=0,r=h[c++];for(r+=c;c<r;c++,o+=3,a+=2){let e=d[h[c]],s=l[o]+t[a],r=l[o+1]+t[a+1],u=l[o+2];n+=(s*e.a+r*e.b+e.worldX)*u,i+=(s*e.c+r*e.d+e.worldY)*u}s[e]=n,s[e+1]=i}}}copyTo(t){this.bones?(t.bones=new Array(this.bones.length),c.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=c.newFloatArray(this.vertices.length),c.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment}}(0,o.A)(m,"nextID",0);class g{constructor(t){(0,o.A)(this,"id",g.nextID()),(0,o.A)(this,"regions",void 0),(0,o.A)(this,"start",0),(0,o.A)(this,"digits",0),(0,o.A)(this,"setupIndex",0),this.regions=new Array(t)}copy(){let t=new g(this.regions.length);return c.arrayCopy(this.regions,0,t.regions,0,this.regions.length),t.start=this.start,t.digits=this.digits,t.setupIndex=this.setupIndex,t}apply(t,e){let n=t.sequenceIndex;-1==n&&(n=this.setupIndex),n>=this.regions.length&&(n=this.regions.length-1);let s=this.regions[n];e.region!=s&&(e.region=s,e.updateRegion())}getPath(t,e){let n=t,s=(this.start+e).toString();for(let i=this.digits-s.length;i>0;i--)n+="0";return n+=s,n}static nextID(){return g._nextID++}}(0,o.A)(g,"_nextID",0),function(t){t[t["hold"]=0]="hold",t[t["once"]=1]="once",t[t["loop"]=2]="loop",t[t["pingpong"]=3]="pingpong",t[t["onceReverse"]=4]="onceReverse",t[t["loopReverse"]=5]="loopReverse",t[t["pingpongReverse"]=6]="pingpongReverse"}(r||(r={}));const y=[r.hold,r.once,r.loop,r.pingpong,r.onceReverse,r.loopReverse,r.pingpongReverse];class v{constructor(t,e,n){if((0,o.A)(this,"name",void 0),(0,o.A)(this,"timelines",[]),(0,o.A)(this,"timelineIds",new a),(0,o.A)(this,"duration",void 0),!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=n}setTimelines(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds.clear();for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())}hasTimeline(t){for(let e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1}apply(t,e,n,s,i,r,o,a){if(!t)throw new Error("skeleton cannot be null.");s&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));let l=this.timelines;for(let h=0,c=l.length;h<c;h++)l[h].apply(t,e,n,i,r,o,a)}}var b,w;(function(t){t[t["setup"]=0]="setup",t[t["first"]=1]="first",t[t["replace"]=2]="replace",t[t["add"]=3]="add"})(b||(b={})),function(t){t[t["mixIn"]=0]="mixIn",t[t["mixOut"]=1]="mixOut"}(w||(w={}));const x={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,inherit:7,rgb:8,alpha:9,rgb2:10,attachment:11,deform:12,event:13,drawOrder:14,ikConstraint:15,transformConstraint:16,pathConstraintPosition:17,pathConstraintSpacing:18,pathConstraintMix:19,physicsConstraintInertia:20,physicsConstraintStrength:21,physicsConstraintDamping:22,physicsConstraintMass:23,physicsConstraintWind:24,physicsConstraintGravity:25,physicsConstraintMix:26,physicsConstraintReset:27,sequence:28};class A{constructor(t,e){(0,o.A)(this,"propertyIds",void 0),(0,o.A)(this,"frames",void 0),this.propertyIds=e,this.frames=c.newFloatArray(t*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(t,e){let n=t.length;for(let s=1;s<n;s++)if(t[s]>e)return s-1;return n-1}static search(t,e,n){let s=t.length;for(let i=n;i<s;i+=n)if(t[i]>e)return i-n;return s-n}}class E extends A{constructor(t,e,n){super(t,n),(0,o.A)(this,"curves",void 0),this.curves=c.newFloatArray(t+18*e),this.curves[t-1]=1}setLinear(t){this.curves[t]=0}setStepped(t){this.curves[t]=1}shrink(t){let e=this.getFrameCount()+18*t;if(this.curves.length>e){let t=c.newFloatArray(e);c.arrayCopy(this.curves,0,t,0,e),this.curves=t}}setBezier(t,e,n,s,i,r,o,a,l,h,c){let u=this.curves,d=this.getFrameCount()+18*t;0==n&&(u[e]=2+d);let f=.03*(s-2*r+a),p=.03*(i-2*o+l),m=.006*(3*(r-a)-s+h),g=.006*(3*(o-l)-i+c),y=2*f+m,v=2*p+g,b=.3*(r-s)+f+.16666667*m,w=.3*(o-i)+p+.16666667*g,x=s+b,A=i+w;for(let E=d+18;d<E;d+=2)u[d]=x,u[d+1]=A,b+=y,w+=v,y+=m,v+=g,x+=b,A+=w}getBezierValue(t,e,n,s){let i=this.curves;if(i[s]>t){let r=this.frames[e],o=this.frames[e+n];return o+(t-r)/(i[s]-r)*(i[s+1]-o)}let r=s+18;for(s+=2;s<r;s+=2)if(i[s]>=t){let e=i[s-2],n=i[s-1];return n+(t-e)/(i[s]-e)*(i[s+1]-n)}e+=this.getFrameEntries();let o=i[r-2],a=i[r-1];return a+(t-o)/(this.frames[e]-o)*(this.frames[e+n]-a)}}class k extends E{constructor(t,e,n){super(t,e,[n])}getFrameEntries(){return 2}setFrame(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+1]=n}getCurveValue(t){let e=this.frames,n=e.length-2;for(let i=2;i<=n;i+=2)if(e[i]>t){n=i-2;break}let s=this.curves[n>>1];switch(s){case 0:let s=e[n],i=e[n+1];return i+(t-s)/(e[n+2]-s)*(e[n+2+1]-i);case 1:return e[n+1]}return this.getBezierValue(t,n,1,s-2)}getRelativeValue(t,e,n,s,i){if(t<this.frames[0]){switch(n){case b.setup:return i;case b.first:return s+(i-s)*e}return s}let r=this.getCurveValue(t);switch(n){case b.setup:return i+r*e;case b.first:case b.replace:r+=i-s}return s+r*e}getAbsoluteValue(t,e,n,s,i){if(t<this.frames[0]){switch(n){case b.setup:return i;case b.first:return s+(i-s)*e}return s}let r=this.getCurveValue(t);return n==b.setup?i+(r-i)*e:s+(r-s)*e}getAbsoluteValue2(t,e,n,s,i,r){if(t<this.frames[0]){switch(n){case b.setup:return i;case b.first:return s+(i-s)*e}return s}return n==b.setup?i+(r-i)*e:s+(r-s)*e}getScaleValue(t,e,n,s,i,r){const o=this.frames;if(t<o[0]){switch(n){case b.setup:return r;case b.first:return i+(r-i)*e}return i}let a=this.getCurveValue(t)*r;if(1==e)return n==b.add?i+a-r:a;if(s==w.mixOut)switch(n){case b.setup:return r+(Math.abs(a)*h.signum(r)-r)*e;case b.first:case b.replace:return i+(Math.abs(a)*h.signum(i)-i)*e}else{let t=0;switch(n){case b.setup:return t=Math.abs(r)*h.signum(a),t+(a-t)*e;case b.first:case b.replace:return t=Math.abs(i)*h.signum(a),t+(a-t)*e}}return i+(a-r)*e}}class S extends E{constructor(t,e,n,s){super(t,e,[n,s])}getFrameEntries(){return 3}setFrame(t,e,n,s){t*=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=s}}class C extends k{constructor(t,e,n){super(t,e,x.rotate+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];a.active&&(a.rotation=this.getRelativeValue(n,i,r,a.rotation,a.data.rotation))}}class T extends S{constructor(t,e,n){super(t,e,x.x+"|"+n,x.y+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];if(!a.active)return;let l=this.frames;if(n<l[0]){switch(r){case b.setup:return a.x=a.data.x,void(a.y=a.data.y);case b.first:a.x+=(a.data.x-a.x)*i,a.y+=(a.data.y-a.y)*i}return}let h=0,c=0,u=A.search(l,n,3),d=this.curves[u/3];switch(d){case 0:let t=l[u];h=l[u+1],c=l[u+2];let e=(n-t)/(l[u+3]-t);h+=(l[u+3+1]-h)*e,c+=(l[u+3+2]-c)*e;break;case 1:h=l[u+1],c=l[u+2];break;default:h=this.getBezierValue(n,u,1,d-2),c=this.getBezierValue(n,u,2,d+18-2)}switch(r){case b.setup:a.x=a.data.x+h*i,a.y=a.data.y+c*i;break;case b.first:case b.replace:a.x+=(a.data.x+h-a.x)*i,a.y+=(a.data.y+c-a.y)*i;break;case b.add:a.x+=h*i,a.y+=c*i}}}class R extends k{constructor(t,e,n){super(t,e,x.x+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];a.active&&(a.x=this.getRelativeValue(n,i,r,a.x,a.data.x))}}class I extends k{constructor(t,e,n){super(t,e,x.y+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];a.active&&(a.y=this.getRelativeValue(n,i,r,a.y,a.data.y))}}class M extends S{constructor(t,e,n){super(t,e,x.scaleX+"|"+n,x.scaleY+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];if(!a.active)return;let l,c,u=this.frames;if(n<u[0]){switch(r){case b.setup:return a.scaleX=a.data.scaleX,void(a.scaleY=a.data.scaleY);case b.first:a.scaleX+=(a.data.scaleX-a.scaleX)*i,a.scaleY+=(a.data.scaleY-a.scaleY)*i}return}let d=A.search(u,n,3),f=this.curves[d/3];switch(f){case 0:let t=u[d];l=u[d+1],c=u[d+2];let e=(n-t)/(u[d+3]-t);l+=(u[d+3+1]-l)*e,c+=(u[d+3+2]-c)*e;break;case 1:l=u[d+1],c=u[d+2];break;default:l=this.getBezierValue(n,d,1,f-2),c=this.getBezierValue(n,d,2,f+18-2)}if(l*=a.data.scaleX,c*=a.data.scaleY,1==i)r==b.add?(a.scaleX+=l-a.data.scaleX,a.scaleY+=c-a.data.scaleY):(a.scaleX=l,a.scaleY=c);else{let t=0,e=0;if(o==w.mixOut)switch(r){case b.setup:t=a.data.scaleX,e=a.data.scaleY,a.scaleX=t+(Math.abs(l)*h.signum(t)-t)*i,a.scaleY=e+(Math.abs(c)*h.signum(e)-e)*i;break;case b.first:case b.replace:t=a.scaleX,e=a.scaleY,a.scaleX=t+(Math.abs(l)*h.signum(t)-t)*i,a.scaleY=e+(Math.abs(c)*h.signum(e)-e)*i;break;case b.add:a.scaleX+=(l-a.data.scaleX)*i,a.scaleY+=(c-a.data.scaleY)*i}else switch(r){case b.setup:t=Math.abs(a.data.scaleX)*h.signum(l),e=Math.abs(a.data.scaleY)*h.signum(c),a.scaleX=t+(l-t)*i,a.scaleY=e+(c-e)*i;break;case b.first:case b.replace:t=Math.abs(a.scaleX)*h.signum(l),e=Math.abs(a.scaleY)*h.signum(c),a.scaleX=t+(l-t)*i,a.scaleY=e+(c-e)*i;break;case b.add:a.scaleX+=(l-a.data.scaleX)*i,a.scaleY+=(c-a.data.scaleY)*i}}}}class _ extends k{constructor(t,e,n){super(t,e,x.scaleX+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];a.active&&(a.scaleX=this.getScaleValue(n,i,r,o,a.scaleX,a.data.scaleX))}}class F extends k{constructor(t,e,n){super(t,e,x.scaleY+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];a.active&&(a.scaleY=this.getScaleValue(n,i,r,o,a.scaleY,a.data.scaleY))}}class O extends S{constructor(t,e,n){super(t,e,x.shearX+"|"+n,x.shearY+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];if(!a.active)return;let l=this.frames;if(n<l[0]){switch(r){case b.setup:return a.shearX=a.data.shearX,void(a.shearY=a.data.shearY);case b.first:a.shearX+=(a.data.shearX-a.shearX)*i,a.shearY+=(a.data.shearY-a.shearY)*i}return}let h=0,c=0,u=A.search(l,n,3),d=this.curves[u/3];switch(d){case 0:let t=l[u];h=l[u+1],c=l[u+2];let e=(n-t)/(l[u+3]-t);h+=(l[u+3+1]-h)*e,c+=(l[u+3+2]-c)*e;break;case 1:h=l[u+1],c=l[u+2];break;default:h=this.getBezierValue(n,u,1,d-2),c=this.getBezierValue(n,u,2,d+18-2)}switch(r){case b.setup:a.shearX=a.data.shearX+h*i,a.shearY=a.data.shearY+c*i;break;case b.first:case b.replace:a.shearX+=(a.data.shearX+h-a.shearX)*i,a.shearY+=(a.data.shearY+c-a.shearY)*i;break;case b.add:a.shearX+=h*i,a.shearY+=c*i}}}class L extends k{constructor(t,e,n){super(t,e,x.shearX+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];a.active&&(a.shearX=this.getRelativeValue(n,i,r,a.shearX,a.data.shearX))}}class B extends k{constructor(t,e,n){super(t,e,x.shearY+"|"+n),(0,o.A)(this,"boneIndex",0),this.boneIndex=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];a.active&&(a.shearY=this.getRelativeValue(n,i,r,a.shearY,a.data.shearY))}}class P extends A{constructor(t,e){super(t,[x.inherit+"|"+e]),(0,o.A)(this,"boneIndex",0),this.boneIndex=e}getFrameEntries(){return 2}setFrame(t,e,n){t*=2,this.frames[t]=e,this.frames[t+1]=n}apply(t,e,n,s,i,r,o){let a=t.bones[this.boneIndex];if(!a.active)return;if(o==w.mixOut)return void(r==b.setup&&(a.inherit=a.data.inherit));let l=this.frames;n<l[0]?r!=b.setup&&r!=b.first||(a.inherit=a.data.inherit):a.inherit=this.frames[A.search(l,n,2)+1]}}class Y extends E{constructor(t,e,n){super(t,e,[x.rgb+"|"+n,x.alpha+"|"+n]),(0,o.A)(this,"slotIndex",0),this.slotIndex=n}getFrameEntries(){return 5}setFrame(t,e,n,s,i,r){t*=5,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=s,this.frames[t+3]=i,this.frames[t+4]=r}apply(t,e,n,s,i,r,o){let a=t.slots[this.slotIndex];if(!a.bone.active)return;let l=this.frames,h=a.color;if(n<l[0]){let t=a.data.color;switch(r){case b.setup:return void h.setFromColor(t);case b.first:h.add((t.r-h.r)*i,(t.g-h.g)*i,(t.b-h.b)*i,(t.a-h.a)*i)}return}let c=0,u=0,d=0,f=0,p=A.search(l,n,5),m=this.curves[p/5];switch(m){case 0:let t=l[p];c=l[p+1],u=l[p+2],d=l[p+3],f=l[p+4];let e=(n-t)/(l[p+5]-t);c+=(l[p+5+1]-c)*e,u+=(l[p+5+2]-u)*e,d+=(l[p+5+3]-d)*e,f+=(l[p+5+4]-f)*e;break;case 1:c=l[p+1],u=l[p+2],d=l[p+3],f=l[p+4];break;default:c=this.getBezierValue(n,p,1,m-2),u=this.getBezierValue(n,p,2,m+18-2),d=this.getBezierValue(n,p,3,m+36-2),f=this.getBezierValue(n,p,4,m+54-2)}1==i?h.set(c,u,d,f):(r==b.setup&&h.setFromColor(a.data.color),h.add((c-h.r)*i,(u-h.g)*i,(d-h.b)*i,(f-h.a)*i))}}class N extends E{constructor(t,e,n){super(t,e,[x.rgb+"|"+n]),(0,o.A)(this,"slotIndex",0),this.slotIndex=n}getFrameEntries(){return 4}setFrame(t,e,n,s,i){t<<=2,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=s,this.frames[t+3]=i}apply(t,e,n,s,i,r,o){let a=t.slots[this.slotIndex];if(!a.bone.active)return;let l=this.frames,h=a.color;if(n<l[0]){let t=a.data.color;switch(r){case b.setup:return h.r=t.r,h.g=t.g,void(h.b=t.b);case b.first:h.r+=(t.r-h.r)*i,h.g+=(t.g-h.g)*i,h.b+=(t.b-h.b)*i}return}let c=0,u=0,d=0,f=A.search(l,n,4),p=this.curves[f>>2];switch(p){case 0:let t=l[f];c=l[f+1],u=l[f+2],d=l[f+3];let e=(n-t)/(l[f+4]-t);c+=(l[f+4+1]-c)*e,u+=(l[f+4+2]-u)*e,d+=(l[f+4+3]-d)*e;break;case 1:c=l[f+1],u=l[f+2],d=l[f+3];break;default:c=this.getBezierValue(n,f,1,p-2),u=this.getBezierValue(n,f,2,p+18-2),d=this.getBezierValue(n,f,3,p+36-2)}if(1==i)h.r=c,h.g=u,h.b=d;else{if(r==b.setup){let t=a.data.color;h.r=t.r,h.g=t.g,h.b=t.b}h.r+=(c-h.r)*i,h.g+=(u-h.g)*i,h.b+=(d-h.b)*i}}}class D extends k{constructor(t,e,n){super(t,e,x.alpha+"|"+n),(0,o.A)(this,"slotIndex",0),this.slotIndex=n}apply(t,e,n,s,i,r,o){let a=t.slots[this.slotIndex];if(!a.bone.active)return;let l=a.color;if(n<this.frames[0]){let t=a.data.color;switch(r){case b.setup:return void(l.a=t.a);case b.first:l.a+=(t.a-l.a)*i}return}let h=this.getCurveValue(n);1==i?l.a=h:(r==b.setup&&(l.a=a.data.color.a),l.a+=(h-l.a)*i)}}class X extends E{constructor(t,e,n){super(t,e,[x.rgb+"|"+n,x.alpha+"|"+n,x.rgb2+"|"+n]),(0,o.A)(this,"slotIndex",0),this.slotIndex=n}getFrameEntries(){return 8}setFrame(t,e,n,s,i,r,o,a,l){t<<=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=s,this.frames[t+3]=i,this.frames[t+4]=r,this.frames[t+5]=o,this.frames[t+6]=a,this.frames[t+7]=l}apply(t,e,n,s,i,r,o){let a=t.slots[this.slotIndex];if(!a.bone.active)return;let l=this.frames,h=a.color,c=a.darkColor;if(n<l[0]){let t=a.data.color,e=a.data.darkColor;switch(r){case b.setup:return h.setFromColor(t),c.r=e.r,c.g=e.g,void(c.b=e.b);case b.first:h.add((t.r-h.r)*i,(t.g-h.g)*i,(t.b-h.b)*i,(t.a-h.a)*i),c.r+=(e.r-c.r)*i,c.g+=(e.g-c.g)*i,c.b+=(e.b-c.b)*i}return}let u=0,d=0,f=0,p=0,m=0,g=0,y=0,v=A.search(l,n,8),w=this.curves[v>>3];switch(w){case 0:let t=l[v];u=l[v+1],d=l[v+2],f=l[v+3],p=l[v+4],m=l[v+5],g=l[v+6],y=l[v+7];let e=(n-t)/(l[v+8]-t);u+=(l[v+8+1]-u)*e,d+=(l[v+8+2]-d)*e,f+=(l[v+8+3]-f)*e,p+=(l[v+8+4]-p)*e,m+=(l[v+8+5]-m)*e,g+=(l[v+8+6]-g)*e,y+=(l[v+8+7]-y)*e;break;case 1:u=l[v+1],d=l[v+2],f=l[v+3],p=l[v+4],m=l[v+5],g=l[v+6],y=l[v+7];break;default:u=this.getBezierValue(n,v,1,w-2),d=this.getBezierValue(n,v,2,w+18-2),f=this.getBezierValue(n,v,3,w+36-2),p=this.getBezierValue(n,v,4,w+54-2),m=this.getBezierValue(n,v,5,w+72-2),g=this.getBezierValue(n,v,6,w+90-2),y=this.getBezierValue(n,v,7,w+108-2)}if(1==i)h.set(u,d,f,p),c.r=m,c.g=g,c.b=y;else{if(r==b.setup){h.setFromColor(a.data.color);let t=a.data.darkColor;c.r=t.r,c.g=t.g,c.b=t.b}h.add((u-h.r)*i,(d-h.g)*i,(f-h.b)*i,(p-h.a)*i),c.r+=(m-c.r)*i,c.g+=(g-c.g)*i,c.b+=(y-c.b)*i}}}class V extends E{constructor(t,e,n){super(t,e,[x.rgb+"|"+n,x.rgb2+"|"+n]),(0,o.A)(this,"slotIndex",0),this.slotIndex=n}getFrameEntries(){return 7}setFrame(t,e,n,s,i,r,o,a){t*=7,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=s,this.frames[t+3]=i,this.frames[t+4]=r,this.frames[t+5]=o,this.frames[t+6]=a}apply(t,e,n,s,i,r,o){let a=t.slots[this.slotIndex];if(!a.bone.active)return;let l=this.frames,h=a.color,c=a.darkColor;if(n<l[0]){let t=a.data.color,e=a.data.darkColor;switch(r){case b.setup:return h.r=t.r,h.g=t.g,h.b=t.b,c.r=e.r,c.g=e.g,void(c.b=e.b);case b.first:h.r+=(t.r-h.r)*i,h.g+=(t.g-h.g)*i,h.b+=(t.b-h.b)*i,c.r+=(e.r-c.r)*i,c.g+=(e.g-c.g)*i,c.b+=(e.b-c.b)*i}return}let u=0,d=0,f=0,p=0,m=0,g=0,y=A.search(l,n,7),v=this.curves[y/7];switch(v){case 0:let t=l[y];u=l[y+1],d=l[y+2],f=l[y+3],p=l[y+4],m=l[y+5],g=l[y+6];let e=(n-t)/(l[y+7]-t);u+=(l[y+7+1]-u)*e,d+=(l[y+7+2]-d)*e,f+=(l[y+7+3]-f)*e,p+=(l[y+7+4]-p)*e,m+=(l[y+7+5]-m)*e,g+=(l[y+7+6]-g)*e;break;case 1:u=l[y+1],d=l[y+2],f=l[y+3],p=l[y+4],m=l[y+5],g=l[y+6];break;default:u=this.getBezierValue(n,y,1,v-2),d=this.getBezierValue(n,y,2,v+18-2),f=this.getBezierValue(n,y,3,v+36-2),p=this.getBezierValue(n,y,4,v+54-2),m=this.getBezierValue(n,y,5,v+72-2),g=this.getBezierValue(n,y,6,v+90-2)}if(1==i)h.r=u,h.g=d,h.b=f,c.r=p,c.g=m,c.b=g;else{if(r==b.setup){let t=a.data.color,e=a.data.darkColor;h.r=t.r,h.g=t.g,h.b=t.b,c.r=e.r,c.g=e.g,c.b=e.b}h.r+=(u-h.r)*i,h.g+=(d-h.g)*i,h.b+=(f-h.b)*i,c.r+=(p-c.r)*i,c.g+=(m-c.g)*i,c.b+=(g-c.b)*i}}}class U extends A{constructor(t,e){super(t,[x.attachment+"|"+e]),(0,o.A)(this,"slotIndex",0),(0,o.A)(this,"attachmentNames",void 0),this.slotIndex=e,this.attachmentNames=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n}apply(t,e,n,s,i,r,o){let a=t.slots[this.slotIndex];a.bone.active&&(o!=w.mixOut?n<this.frames[0]?r!=b.setup&&r!=b.first||this.setAttachment(t,a,a.data.attachmentName):this.setAttachment(t,a,this.attachmentNames[A.search1(this.frames,n)]):r==b.setup&&this.setAttachment(t,a,a.data.attachmentName))}setAttachment(t,e,n){e.setAttachment(n?t.getAttachment(this.slotIndex,n):null)}}class j extends E{constructor(t,e,n,s){super(t,e,[x.deform+"|"+n+"|"+s.id]),(0,o.A)(this,"slotIndex",0),(0,o.A)(this,"attachment",void 0),(0,o.A)(this,"vertices",void 0),this.slotIndex=n,this.attachment=s,this.vertices=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,n){this.frames[t]=e,this.vertices[t]=n}setBezier(t,e,n,s,i,r,o,a,l,h,c){let u=this.curves,d=this.getFrameCount()+18*t;0==n&&(u[e]=2+d);let f=.03*(s-2*r+a),p=.03*l-.06*o,m=.006*(3*(r-a)-s+h),g=.018*(o-l+.33333333),y=2*f+m,v=2*p+g,b=.3*(r-s)+f+.16666667*m,w=.3*o+p+.16666667*g,x=s+b,A=w;for(let E=d+18;d<E;d+=2)u[d]=x,u[d+1]=A,b+=y,w+=v,y+=m,v+=g,x+=b,A+=w}getCurvePercent(t,e){let n=this.curves,s=n[e];switch(s){case 0:let n=this.frames[e];return(t-n)/(this.frames[e+this.getFrameEntries()]-n);case 1:return 0}if(s-=2,n[s]>t){let i=this.frames[e];return n[s+1]*(t-i)/(n[s]-i)}let i=s+18;for(s+=2;s<i;s+=2)if(n[s]>=t){let e=n[s-2],i=n[s-1];return i+(t-e)/(n[s]-e)*(n[s+1]-i)}let r=n[i-2],o=n[i-1];return o+(1-o)*(t-r)/(this.frames[e+this.getFrameEntries()]-r)}apply(t,e,n,s,i,r,o){let a=t.slots[this.slotIndex];if(!a.bone.active)return;let l=a.getAttachment();if(!l)return;if(!(l instanceof m)||l.timelineAttachment!=this.attachment)return;let h=a.deform;0==h.length&&(r=b.setup);let u=this.vertices,d=u[0].length,f=this.frames;if(n<f[0]){switch(r){case b.setup:return void(h.length=0);case b.first:if(1==i)return void(h.length=0);h.length=d;let t=l;if(t.bones){i=1-i;for(p=0;p<d;p++)h[p]*=i}else{let e=t.vertices;for(var p=0;p<d;p++)h[p]+=(e[p]-h[p])*i}}return}if(h.length=d,n>=f[f.length-1]){let t=u[f.length-1];if(1==i)if(r==b.add){let e=l;if(e.bones)for(let n=0;n<d;n++)h[n]+=t[n];else{let n=e.vertices;for(let e=0;e<d;e++)h[e]+=t[e]-n[e]}}else c.arrayCopy(t,0,h,0,d);else switch(r){case b.setup:{let e=l;if(e.bones)for(let n=0;n<d;n++)h[n]=t[n]*i;else{let n=e.vertices;for(let e=0;e<d;e++){let s=n[e];h[e]=s+(t[e]-s)*i}}break}case b.first:case b.replace:for(let n=0;n<d;n++)h[n]+=(t[n]-h[n])*i;break;case b.add:let e=l;if(e.bones)for(let n=0;n<d;n++)h[n]+=t[n]*i;else{let n=e.vertices;for(let e=0;e<d;e++)h[e]+=(t[e]-n[e])*i}}return}let g=A.search1(f,n),y=this.getCurvePercent(n,g),v=u[g],w=u[g+1];if(1==i)if(r==b.add){let t=l;if(t.bones)for(let e=0;e<d;e++){let t=v[e];h[e]+=t+(w[e]-t)*y}else{let e=t.vertices;for(let t=0;t<d;t++){let n=v[t];h[t]+=n+(w[t]-n)*y-e[t]}}}else for(let c=0;c<d;c++){let t=v[c];h[c]=t+(w[c]-t)*y}else switch(r){case b.setup:{let t=l;if(t.bones)for(let e=0;e<d;e++){let t=v[e];h[e]=(t+(w[e]-t)*y)*i}else{let e=t.vertices;for(let t=0;t<d;t++){let n=v[t],s=e[t];h[t]=s+(n+(w[t]-n)*y-s)*i}}break}case b.first:case b.replace:for(let e=0;e<d;e++){let t=v[e];h[e]+=(t+(w[e]-t)*y-h[e])*i}break;case b.add:let t=l;if(t.bones)for(let e=0;e<d;e++){let t=v[e];h[e]+=(t+(w[e]-t)*y)*i}else{let e=t.vertices;for(let t=0;t<d;t++){let n=v[t];h[t]+=(n+(w[t]-n)*y-e[t])*i}}}}}class W extends A{constructor(t){super(t,W.propertyIds),(0,o.A)(this,"events",void 0),this.events=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e.time,this.events[t]=e}apply(t,e,n,s,i,r,o){if(!s)return;let a=this.frames,l=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,s,i,r,o),e=-1;else if(e>=a[l-1])return;if(n<a[0])return;let h=0;if(e<a[0])h=0;else{h=A.search1(a,e)+1;let t=a[h];while(h>0){if(a[h-1]!=t)break;h--}}for(;h<l&&n>=a[h];h++)s.push(this.events[h])}}(0,o.A)(W,"propertyIds",[""+x.event]);class q extends A{constructor(t){super(t,q.propertyIds),(0,o.A)(this,"drawOrders",void 0),this.drawOrders=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,n){this.frames[t]=e,this.drawOrders[t]=n}apply(t,e,n,s,i,r,o){if(o==w.mixOut)return void(r==b.setup&&c.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));if(n<this.frames[0])return void(r!=b.setup&&r!=b.first||c.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length));let a=A.search1(this.frames,n),l=this.drawOrders[a];if(l){let e=t.drawOrder,n=t.slots;for(let t=0,s=l.length;t<s;t++)e[t]=n[l[t]]}else c.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}(0,o.A)(q,"propertyIds",[""+x.drawOrder]);class z extends E{constructor(t,e,n){super(t,e,[x.ikConstraint+"|"+n]),(0,o.A)(this,"constraintIndex",0),this.constraintIndex=n}getFrameEntries(){return 6}setFrame(t,e,n,s,i,r,o){t*=6,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=s,this.frames[t+3]=i,this.frames[t+4]=r?1:0,this.frames[t+5]=o?1:0}apply(t,e,n,s,i,r,o){let a=t.ikConstraints[this.constraintIndex];if(!a.active)return;let l=this.frames;if(n<l[0]){switch(r){case b.setup:return a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,void(a.stretch=a.data.stretch);case b.first:a.mix+=(a.data.mix-a.mix)*i,a.softness+=(a.data.softness-a.softness)*i,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}return}let h=0,c=0,u=A.search(l,n,6),d=this.curves[u/6];switch(d){case 0:let t=l[u];h=l[u+1],c=l[u+2];let e=(n-t)/(l[u+6]-t);h+=(l[u+6+1]-h)*e,c+=(l[u+6+2]-c)*e;break;case 1:h=l[u+1],c=l[u+2];break;default:h=this.getBezierValue(n,u,1,d-2),c=this.getBezierValue(n,u,2,d+18-2)}r==b.setup?(a.mix=a.data.mix+(h-a.data.mix)*i,a.softness=a.data.softness+(c-a.data.softness)*i,o==w.mixOut?(a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch):(a.bendDirection=l[u+3],a.compress=0!=l[u+4],a.stretch=0!=l[u+5])):(a.mix+=(h-a.mix)*i,a.softness+=(c-a.softness)*i,o==w.mixIn&&(a.bendDirection=l[u+3],a.compress=0!=l[u+4],a.stretch=0!=l[u+5]))}}class G extends E{constructor(t,e,n){super(t,e,[x.transformConstraint+"|"+n]),(0,o.A)(this,"constraintIndex",0),this.constraintIndex=n}getFrameEntries(){return 7}setFrame(t,e,n,s,i,r,o,a){let l=this.frames;t*=7,l[t]=e,l[t+1]=n,l[t+2]=s,l[t+3]=i,l[t+4]=r,l[t+5]=o,l[t+6]=a}apply(t,e,n,s,i,r,o){let a=t.transformConstraints[this.constraintIndex];if(!a.active)return;let l,h,c,u,d,f,p=this.frames;if(n<p[0]){let t=a.data;switch(r){case b.setup:return a.mixRotate=t.mixRotate,a.mixX=t.mixX,a.mixY=t.mixY,a.mixScaleX=t.mixScaleX,a.mixScaleY=t.mixScaleY,void(a.mixShearY=t.mixShearY);case b.first:a.mixRotate+=(t.mixRotate-a.mixRotate)*i,a.mixX+=(t.mixX-a.mixX)*i,a.mixY+=(t.mixY-a.mixY)*i,a.mixScaleX+=(t.mixScaleX-a.mixScaleX)*i,a.mixScaleY+=(t.mixScaleY-a.mixScaleY)*i,a.mixShearY+=(t.mixShearY-a.mixShearY)*i}return}let m=A.search(p,n,7),g=this.curves[m/7];switch(g){case 0:let t=p[m];l=p[m+1],h=p[m+2],c=p[m+3],u=p[m+4],d=p[m+5],f=p[m+6];let e=(n-t)/(p[m+7]-t);l+=(p[m+7+1]-l)*e,h+=(p[m+7+2]-h)*e,c+=(p[m+7+3]-c)*e,u+=(p[m+7+4]-u)*e,d+=(p[m+7+5]-d)*e,f+=(p[m+7+6]-f)*e;break;case 1:l=p[m+1],h=p[m+2],c=p[m+3],u=p[m+4],d=p[m+5],f=p[m+6];break;default:l=this.getBezierValue(n,m,1,g-2),h=this.getBezierValue(n,m,2,g+18-2),c=this.getBezierValue(n,m,3,g+36-2),u=this.getBezierValue(n,m,4,g+54-2),d=this.getBezierValue(n,m,5,g+72-2),f=this.getBezierValue(n,m,6,g+90-2)}if(r==b.setup){let t=a.data;a.mixRotate=t.mixRotate+(l-t.mixRotate)*i,a.mixX=t.mixX+(h-t.mixX)*i,a.mixY=t.mixY+(c-t.mixY)*i,a.mixScaleX=t.mixScaleX+(u-t.mixScaleX)*i,a.mixScaleY=t.mixScaleY+(d-t.mixScaleY)*i,a.mixShearY=t.mixShearY+(f-t.mixShearY)*i}else a.mixRotate+=(l-a.mixRotate)*i,a.mixX+=(h-a.mixX)*i,a.mixY+=(c-a.mixY)*i,a.mixScaleX+=(u-a.mixScaleX)*i,a.mixScaleY+=(d-a.mixScaleY)*i,a.mixShearY+=(f-a.mixShearY)*i}}class H extends k{constructor(t,e,n){super(t,e,x.pathConstraintPosition+"|"+n),(0,o.A)(this,"constraintIndex",0),this.constraintIndex=n}apply(t,e,n,s,i,r,o){let a=t.pathConstraints[this.constraintIndex];a.active&&(a.position=this.getAbsoluteValue(n,i,r,a.position,a.data.position))}}class $ extends k{constructor(t,e,n){super(t,e,x.pathConstraintSpacing+"|"+n),(0,o.A)(this,"constraintIndex",0),this.constraintIndex=n}apply(t,e,n,s,i,r,o){let a=t.pathConstraints[this.constraintIndex];a.active&&(a.spacing=this.getAbsoluteValue(n,i,r,a.spacing,a.data.spacing))}}class Z extends E{constructor(t,e,n){super(t,e,[x.pathConstraintMix+"|"+n]),(0,o.A)(this,"constraintIndex",0),this.constraintIndex=n}getFrameEntries(){return 4}setFrame(t,e,n,s,i){let r=this.frames;t<<=2,r[t]=e,r[t+1]=n,r[t+2]=s,r[t+3]=i}apply(t,e,n,s,i,r,o){let a=t.pathConstraints[this.constraintIndex];if(!a.active)return;let l,h,c,u=this.frames;if(n<u[0]){switch(r){case b.setup:return a.mixRotate=a.data.mixRotate,a.mixX=a.data.mixX,void(a.mixY=a.data.mixY);case b.first:a.mixRotate+=(a.data.mixRotate-a.mixRotate)*i,a.mixX+=(a.data.mixX-a.mixX)*i,a.mixY+=(a.data.mixY-a.mixY)*i}return}let d=A.search(u,n,4),f=this.curves[d>>2];switch(f){case 0:let t=u[d];l=u[d+1],h=u[d+2],c=u[d+3];let e=(n-t)/(u[d+4]-t);l+=(u[d+4+1]-l)*e,h+=(u[d+4+2]-h)*e,c+=(u[d+4+3]-c)*e;break;case 1:l=u[d+1],h=u[d+2],c=u[d+3];break;default:l=this.getBezierValue(n,d,1,f-2),h=this.getBezierValue(n,d,2,f+18-2),c=this.getBezierValue(n,d,3,f+36-2)}if(r==b.setup){let t=a.data;a.mixRotate=t.mixRotate+(l-t.mixRotate)*i,a.mixX=t.mixX+(h-t.mixX)*i,a.mixY=t.mixY+(c-t.mixY)*i}else a.mixRotate+=(l-a.mixRotate)*i,a.mixX+=(h-a.mixX)*i,a.mixY+=(c-a.mixY)*i}}class K extends k{constructor(t,e,n,s){super(t,e,s+"|"+n),(0,o.A)(this,"constraintIndex",0),this.constraintIndex=n}apply(t,e,n,s,i,r,o){let a;if(-1==this.constraintIndex){const e=n>=this.frames[0]?this.getCurveValue(n):0;for(const s of t.physicsConstraints)s.active&&this.global(s.data)&&this.set(s,this.getAbsoluteValue2(n,i,r,this.get(s),this.setup(s),e))}else a=t.physicsConstraints[this.constraintIndex],a.active&&this.set(a,this.getAbsoluteValue(n,i,r,this.get(a),this.setup(a)))}}class J extends K{constructor(t,e,n){super(t,e,n,x.physicsConstraintInertia)}setup(t){return t.data.inertia}get(t){return t.inertia}set(t,e){t.inertia=e}global(t){return t.inertiaGlobal}}class Q extends K{constructor(t,e,n){super(t,e,n,x.physicsConstraintStrength)}setup(t){return t.data.strength}get(t){return t.strength}set(t,e){t.strength=e}global(t){return t.strengthGlobal}}class tt extends K{constructor(t,e,n){super(t,e,n,x.physicsConstraintDamping)}setup(t){return t.data.damping}get(t){return t.damping}set(t,e){t.damping=e}global(t){return t.dampingGlobal}}class et extends K{constructor(t,e,n){super(t,e,n,x.physicsConstraintMass)}setup(t){return 1/t.data.massInverse}get(t){return 1/t.massInverse}set(t,e){t.massInverse=1/e}global(t){return t.massGlobal}}class nt extends K{constructor(t,e,n){super(t,e,n,x.physicsConstraintWind)}setup(t){return t.data.wind}get(t){return t.wind}set(t,e){t.wind=e}global(t){return t.windGlobal}}class st extends K{constructor(t,e,n){super(t,e,n,x.physicsConstraintGravity)}setup(t){return t.data.gravity}get(t){return t.gravity}set(t,e){t.gravity=e}global(t){return t.gravityGlobal}}class it extends K{constructor(t,e,n){super(t,e,n,x.physicsConstraintMix)}setup(t){return t.data.mix}get(t){return t.mix}set(t,e){t.mix=e}global(t){return t.mixGlobal}}class rt extends A{constructor(t,e){super(t,rt.propertyIds),(0,o.A)(this,"constraintIndex",void 0),this.constraintIndex=e}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e}apply(t,e,n,s,i,r,o){let a;if(-1!=this.constraintIndex&&(a=t.physicsConstraints[this.constraintIndex],!a.active))return;const l=this.frames;if(e>n)this.apply(t,e,Number.MAX_VALUE,[],i,r,o),e=-1;else if(e>=l[l.length-1])return;if(!(n<l[0])&&(e<l[0]||n>=l[A.search1(l,e)+1]))if(null!=a)a.reset();else for(const h of t.physicsConstraints)h.active&&h.reset()}}(0,o.A)(rt,"propertyIds",[x.physicsConstraintReset.toString()]);class ot extends A{constructor(t,e,n){super(t,[x.sequence+"|"+e+"|"+n.sequence.id]),(0,o.A)(this,"slotIndex",void 0),(0,o.A)(this,"attachment",void 0),this.slotIndex=e,this.attachment=n}getFrameEntries(){return ot.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(t,e,n,s,i){let r=this.frames;t*=ot.ENTRIES,r[t]=e,r[t+ot.MODE]=n|s<<4,r[t+ot.DELAY]=i}apply(t,e,n,s,i,o,a){let l=t.slots[this.slotIndex];if(!l.bone.active)return;let h=l.attachment,c=this.attachment;if(h!=c&&(!(h instanceof m)||h.timelineAttachment!=c))return;let u=this.frames;if(n<u[0])return void(o!=b.setup&&o!=b.first||(l.sequenceIndex=-1));let d=A.search(u,n,ot.ENTRIES),f=u[d],p=u[d+ot.MODE],g=u[d+ot.DELAY];if(!this.attachment.sequence)return;let v=p>>4,w=this.attachment.sequence.regions.length,x=y[15&p];if(x!=r.hold)switch(v+=(n-f)/g+1e-5|0,x){case r.once:v=Math.min(w-1,v);break;case r.loop:v%=w;break;case r.pingpong:{let t=(w<<1)-2;v=0==t?0:v%t,v>=w&&(v=t-v);break}case r.onceReverse:v=Math.max(w-1-v,0);break;case r.loopReverse:v=w-1-v%w;break;case r.pingpongReverse:{let t=(w<<1)-2;v=0==t?0:(v+w-1)%t,v>=w&&(v=t-v)}}l.sequenceIndex=v}}(0,o.A)(ot,"ENTRIES",3),(0,o.A)(ot,"MODE",1),(0,o.A)(ot,"DELAY",2);class at{static emptyAnimation(){return at._emptyAnimation}constructor(t){(0,o.A)(this,"data",void 0),(0,o.A)(this,"tracks",new Array),(0,o.A)(this,"timeScale",1),(0,o.A)(this,"unkeyedState",0),(0,o.A)(this,"events",new Array),(0,o.A)(this,"listeners",new Array),(0,o.A)(this,"queue",new ht(this)),(0,o.A)(this,"propertyIDs",new a),(0,o.A)(this,"animationsChanged",!1),(0,o.A)(this,"trackEntryPool",new u((()=>new lt))),this.data=t}update(t){t*=this.timeScale;let e=this.tracks;for(let n=0,s=e.length;n<s;n++){let s=e[n];if(!s)continue;s.animationLast=s.nextAnimationLast,s.trackLast=s.nextTrackLast;let i=t*s.timeScale;if(s.delay>0){if(s.delay-=i,s.delay>0)continue;i=-s.delay,s.delay=0}let r=s.next;if(r){let e=s.trackLast-r.delay;if(e>=0){r.delay=0,r.trackTime+=0==s.timeScale?0:(e/s.timeScale+t)*r.timeScale,s.trackTime+=i,this.setCurrent(n,r,!0);while(r.mixingFrom)r.mixTime+=t,r=r.mixingFrom;continue}}else if(s.trackLast>=s.trackEnd&&!s.mixingFrom){e[n]=null,this.queue.end(s),this.clearNext(s);continue}if(s.mixingFrom&&this.updateMixingFrom(s,t)){let t=s.mixingFrom;s.mixingFrom=null,t&&(t.mixingTo=null);while(t)this.queue.end(t),t=t.mixingFrom}s.trackTime+=i}this.queue.drain()}updateMixingFrom(t,e){let n=t.mixingFrom;if(!n)return!0;let s=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),s):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)}apply(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let e=this.events,n=this.tracks,s=!1;for(let d=0,f=n.length;d<f;d++){let r=n[d];if(!r||r.delay>0)continue;s=!0;let o=0==d?b.first:r.mixBlend,a=r.alpha;r.mixingFrom?a*=this.applyMixingFrom(r,t,o):r.trackTime>=r.trackEnd&&!r.next&&(a=0);let l=a>=r.alphaAttachmentThreshold,h=r.animationLast,u=r.getAnimationTime(),f=u,p=e;r.reverse&&(f=r.animation.duration-f,p=null);let m=r.animation.timelines,g=m.length;if(0==d&&1==a||o==b.add){0==d&&(l=!0);for(let e=0;e<g;e++){c.webkit602BugfixHelper(a,o);var i=m[e];i instanceof U?this.applyAttachmentTimeline(i,t,f,o,l):i.apply(t,h,f,p,a,o,w.mixIn)}}else{let e=r.timelineMode,n=r.shortestRotation,s=!n&&r.timelinesRotation.length!=g<<1;s&&(r.timelinesRotation.length=g<<1);for(let i=0;i<g;i++){let u=m[i],d=e[i]==ut?o:b.setup;!n&&u instanceof C?this.applyRotateTimeline(u,t,f,a,d,r.timelinesRotation,i<<1,s):u instanceof U?this.applyAttachmentTimeline(u,t,f,o,l):(c.webkit602BugfixHelper(a,o),u.apply(t,h,f,p,a,d,w.mixIn))}}this.queueEvents(r,u),e.length=0,r.nextAnimationLast=u,r.nextTrackLast=r.trackTime}for(var r=this.unkeyedState+gt,o=t.slots,a=0,l=t.slots.length;a<l;a++){var h=o[a];if(h.attachmentState==r){var u=h.data.attachmentName;h.setAttachment(u?t.getAttachment(h.data.index,u):null)}}return this.unkeyedState+=2,this.queue.drain(),s}applyMixingFrom(t,e,n){let s=t.mixingFrom;s.mixingFrom&&this.applyMixingFrom(s,e,n);let i=0;0==t.mixDuration?(i=1,n==b.first&&(n=b.setup)):(i=t.mixTime/t.mixDuration,i>1&&(i=1),n!=b.first&&(n=s.mixBlend));let r=i<s.mixAttachmentThreshold,o=i<s.mixDrawOrderThreshold,a=s.animation.timelines,l=a.length,h=s.alpha*t.interruptAlpha,u=h*(1-i),d=s.animationLast,f=s.getAnimationTime(),p=f,m=null;if(s.reverse?p=s.animation.duration-p:i<s.eventThreshold&&(m=this.events),n==b.add)for(let c=0;c<l;c++)a[c].apply(e,d,p,m,u,n,w.mixOut);else{let t=s.timelineMode,i=s.timelineHoldMix,f=s.shortestRotation,g=!f&&s.timelinesRotation.length!=l<<1;g&&(s.timelinesRotation.length=l<<1),s.totalAlpha=0;for(let y=0;y<l;y++){let l,v=a[y],x=w.mixOut,A=0;switch(t[y]){case ut:if(!o&&v instanceof q)continue;l=n,A=u;break;case dt:l=b.setup,A=u;break;case ft:l=n,A=h;break;case pt:l=b.setup,A=h;break;default:l=b.setup;let t=i[y];A=h*Math.max(0,1-t.mixTime/t.mixDuration);break}s.totalAlpha+=A,!f&&v instanceof C?this.applyRotateTimeline(v,e,p,A,l,s.timelinesRotation,y<<1,g):v instanceof U?this.applyAttachmentTimeline(v,e,p,l,r&&A>=s.alphaAttachmentThreshold):(c.webkit602BugfixHelper(A,n),o&&v instanceof q&&l==b.setup&&(x=w.mixIn),v.apply(e,d,p,m,A,l,x))}}return t.mixDuration>0&&this.queueEvents(s,f),this.events.length=0,s.nextAnimationLast=f,s.nextTrackLast=s.trackTime,i}applyAttachmentTimeline(t,e,n,s,i){var r=e.slots[t.slotIndex];r.bone.active&&(n<t.frames[0]?s!=b.setup&&s!=b.first||this.setAttachment(e,r,r.data.attachmentName,i):this.setAttachment(e,r,t.attachmentNames[A.search1(t.frames,n)],i),r.attachmentState<=this.unkeyedState&&(r.attachmentState=this.unkeyedState+gt))}setAttachment(t,e,n,s){e.setAttachment(n?t.getAttachment(e.data.index,n):null),s&&(e.attachmentState=this.unkeyedState+yt)}applyRotateTimeline(t,e,n,s,i,r,o,a){if(a&&(r[o]=0),1==s)return void t.apply(e,0,n,null,1,i,w.mixIn);let l=e.bones[t.boneIndex];if(!l.active)return;let c=t.frames,u=0,d=0;if(n<c[0])switch(i){case b.setup:l.rotation=l.data.rotation;default:return;case b.first:u=l.rotation,d=l.data.rotation}else u=i==b.setup?l.data.rotation:l.rotation,d=l.data.rotation+t.getCurveValue(n);let f=0,p=d-u;if(p-=360*Math.ceil(p/360-.5),0==p)f=r[o];else{let t=0,e=0;a?(t=0,e=p):(t=r[o],e=r[o+1]);let n=t-t%360;f=p+n;let s=p>=0,i=t>=0;Math.abs(e)<=90&&h.signum(e)!=h.signum(p)&&(Math.abs(t-n)>180?(f+=360*h.signum(t),i=s):0!=n?f-=360*h.signum(t):i=s),i!=s&&(f+=360*h.signum(t)),r[o]=f}r[o+1]=p,l.rotation=u+f*s}queueEvents(t,e){let n=t.animationStart,s=t.animationEnd,i=s-n,r=t.trackLast%i,o=this.events,a=0,l=o.length;for(;a<l;a++){let e=o[a];if(e.time<r)break;e.time>s||this.queue.event(t,e)}let h=!1;if(t.loop)if(0==i)h=!0;else{const e=Math.floor(t.trackTime/i);h=e>0&&e>Math.floor(t.trackLast/i)}else h=e>=s&&t.animationLast<s;for(h&&this.queue.complete(t);a<l;a++){let e=o[a];e.time<n||this.queue.event(t,e)}}clearTracks(){let t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}clearTrack(t){if(t>=this.tracks.length)return;let e=this.tracks[t];if(!e)return;this.queue.end(e),this.clearNext(e);let n=e;while(1){let t=n.mixingFrom;if(!t)break;this.queue.end(t),n.mixingFrom=null,n.mixingTo=null,n=t}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(t,e,n){let s=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,s&&(n&&this.queue.interrupt(s),e.mixingFrom=s,s.mixingTo=e,e.mixTime=0,s.mixingFrom&&s.mixDuration>0&&(e.interruptAlpha*=Math.min(1,s.mixTime/s.mixDuration)),s.timelinesRotation.length=0),this.queue.start(e)}setAnimation(t,e,n=!1){let s=this.data.skeletonData.findAnimation(e);if(!s)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,s,n)}setAnimationWith(t,e,n=!1){if(!e)throw new Error("animation cannot be null.");let s=!0,i=this.expandToIndex(t);i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,s=!1):this.clearNext(i));let r=this.trackEntry(t,e,n,i);return this.setCurrent(t,r,s),this.queue.drain(),r}addAnimation(t,e,n=!1,s=0){let i=this.data.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,n,s)}addAnimationWith(t,e,n=!1,s=0){if(!e)throw new Error("animation cannot be null.");let i=this.expandToIndex(t);if(i)while(i.next)i=i.next;let r=this.trackEntry(t,e,n,i);return i?(i.next=r,r.previous=i,s<=0&&(s+=i.getTrackComplete()-r.mixDuration)):(this.setCurrent(t,r,!0),this.queue.drain()),r.delay=s,r}setEmptyAnimation(t,e=0){let n=this.setAnimationWith(t,at.emptyAnimation(),!1);return n.mixDuration=e,n.trackEnd=e,n}addEmptyAnimation(t,e=0,n=0){let s=this.addAnimationWith(t,at.emptyAnimation(),!1,n);return n<=0&&(s.delay+=s.mixDuration-e),s.mixDuration=e,s.trackEnd=e,s}setEmptyAnimations(t=0){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let n=0,s=this.tracks.length;n<s;n++){let e=this.tracks[n];e&&this.setEmptyAnimation(e.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(t){return t<this.tracks.length?this.tracks[t]:(c.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}trackEntry(t,e,n,s){let i=this.trackEntryPool.obtain();return i.reset(),i.trackIndex=t,i.animation=e,i.loop=n,i.holdPrevious=!1,i.reverse=!1,i.shortestRotation=!1,i.eventThreshold=0,i.alphaAttachmentThreshold=0,i.mixAttachmentThreshold=0,i.mixDrawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.mixTime=0,i.mixDuration=s?this.data.getMix(s.animation,e):0,i.interruptAlpha=1,i.totalAlpha=0,i.mixBlend=b.replace,i}clearNext(t){let e=t.next;while(e)this.queue.dispose(e),e=e.next;t.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();let t=this.tracks;for(let e=0,n=t.length;e<n;e++){let n=t[e];if(n){while(n.mixingFrom)n=n.mixingFrom;do{n.mixingTo&&n.mixBlend==b.add||this.computeHold(n),n=n.mixingTo}while(n)}}}computeHold(t){let e=t.mixingTo,n=t.animation.timelines,s=t.animation.timelines.length,i=t.timelineMode;i.length=s;let r=t.timelineHoldMix;r.length=0;let o=this.propertyIDs;if(e&&e.holdPrevious)for(let a=0;a<s;a++)i[a]=o.addAll(n[a].getPropertyIds())?pt:ft;else t:for(let a=0;a<s;a++){let s=n[a],l=s.getPropertyIds();if(o.addAll(l))if(!e||s instanceof U||s instanceof q||s instanceof W||!e.animation.hasTimeline(l))i[a]=dt;else{for(let n=e.mixingTo;n;n=n.mixingTo)if(!n.animation.hasTimeline(l)){if(t.mixDuration>0){i[a]=mt,r[a]=n;continue t}break}i[a]=pt}else i[a]=ut}}getCurrent(t){return t>=this.tracks.length?null:this.tracks[t]}addListener(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)}removeListener(t){let e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}}(0,o.A)(at,"_emptyAnimation",new v("<empty>",[],0));class lt{constructor(){(0,o.A)(this,"animation",null),(0,o.A)(this,"previous",null),(0,o.A)(this,"next",null),(0,o.A)(this,"mixingFrom",null),(0,o.A)(this,"mixingTo",null),(0,o.A)(this,"listener",null),(0,o.A)(this,"trackIndex",0),(0,o.A)(this,"loop",!1),(0,o.A)(this,"holdPrevious",!1),(0,o.A)(this,"reverse",!1),(0,o.A)(this,"shortestRotation",!1),(0,o.A)(this,"eventThreshold",0),(0,o.A)(this,"mixAttachmentThreshold",0),(0,o.A)(this,"alphaAttachmentThreshold",0),(0,o.A)(this,"mixDrawOrderThreshold",0),(0,o.A)(this,"animationStart",0),(0,o.A)(this,"animationEnd",0),(0,o.A)(this,"animationLast",0),(0,o.A)(this,"nextAnimationLast",0),(0,o.A)(this,"delay",0),(0,o.A)(this,"trackTime",0),(0,o.A)(this,"trackLast",0),(0,o.A)(this,"nextTrackLast",0),(0,o.A)(this,"trackEnd",0),(0,o.A)(this,"timeScale",0),(0,o.A)(this,"alpha",0),(0,o.A)(this,"mixTime",0),(0,o.A)(this,"_mixDuration",0),(0,o.A)(this,"interruptAlpha",0),(0,o.A)(this,"totalAlpha",0),(0,o.A)(this,"mixBlend",b.replace),(0,o.A)(this,"timelineMode",new Array),(0,o.A)(this,"timelineHoldMix",new Array),(0,o.A)(this,"timelinesRotation",new Array)}get mixDuration(){return this._mixDuration}set mixDuration(t){this._mixDuration=t}setMixDurationWithDelay(t,e){this._mixDuration=t,null!=this.previous&&e<=0&&(e+=this.previous.getTrackComplete()-t),this.delay=e}reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(t){this.animationLast=t,this.nextAnimationLast=t}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){let t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime}wasApplied(){return-1!=this.nextTrackLast}isNextReady(){return null!=this.next&&this.nextTrackLast-this.next.delay>=0}}class ht{constructor(t){(0,o.A)(this,"objects",[]),(0,o.A)(this,"drainDisabled",!1),(0,o.A)(this,"animState",void 0),this.animState=t}start(t){this.objects.push(ct.start),this.objects.push(t),this.animState.animationsChanged=!0}interrupt(t){this.objects.push(ct.interrupt),this.objects.push(t)}end(t){this.objects.push(ct.end),this.objects.push(t),this.animState.animationsChanged=!0}dispose(t){this.objects.push(ct.dispose),this.objects.push(t)}complete(t){this.objects.push(ct.complete),this.objects.push(t)}event(t,e){this.objects.push(ct.event),this.objects.push(t),this.objects.push(e)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let t=this.objects,e=this.animState.listeners;for(let n=0;n<t.length;n+=2){let s=t[n],i=t[n+1];switch(s){case ct.start:i.listener&&i.listener.start&&i.listener.start(i);for(let t=0;t<e.length;t++){let n=e[t];n.start&&n.start(i)}break;case ct.interrupt:i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(let t=0;t<e.length;t++){let n=e[t];n.interrupt&&n.interrupt(i)}break;case ct.end:i.listener&&i.listener.end&&i.listener.end(i);for(let t=0;t<e.length;t++){let n=e[t];n.end&&n.end(i)}case ct.dispose:i.listener&&i.listener.dispose&&i.listener.dispose(i);for(let t=0;t<e.length;t++){let n=e[t];n.dispose&&n.dispose(i)}this.animState.trackEntryPool.free(i);break;case ct.complete:i.listener&&i.listener.complete&&i.listener.complete(i);for(let t=0;t<e.length;t++){let n=e[t];n.complete&&n.complete(i)}break;case ct.event:let s=t[2+n++];i.listener&&i.listener.event&&i.listener.event(i,s);for(let t=0;t<e.length;t++){let n=e[t];n.event&&n.event(i,s)}break}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}var ct;(function(t){t[t["start"]=0]="start",t[t["interrupt"]=1]="interrupt",t[t["end"]=2]="end",t[t["dispose"]=3]="dispose",t[t["complete"]=4]="complete",t[t["event"]=5]="event"})(ct||(ct={}));const ut=0,dt=1,ft=2,pt=3,mt=4,gt=1,yt=2;class vt{constructor(t){if((0,o.A)(this,"skeletonData",void 0),(0,o.A)(this,"animationToMixTime",{}),(0,o.A)(this,"defaultMix",0),!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}setMix(t,e,n){let s=this.skeletonData.findAnimation(t);if(!s)throw new Error("Animation not found: "+t);let i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);this.setMixWith(s,i,n)}setMixWith(t,e,n){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");let s=t.name+"."+e.name;this.animationToMixTime[s]=n}getMix(t,e){let n=t.name+"."+e.name,s=this.animationToMixTime[n];return void 0===s?this.defaultMix:s}}class bt extends m{constructor(t){super(t),(0,o.A)(this,"color",new l(1,1,1,1))}copy(){let t=new bt(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}class wt extends m{constructor(t){super(t),(0,o.A)(this,"endSlot",null),(0,o.A)(this,"color",new l(.2275,.2275,.8078,1))}copy(){let t=new wt(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}class xt{constructor(t){(0,o.A)(this,"_image",void 0),this._image=t}getImage(){return this._image}}var At,Et,kt;(function(t){t[t["Nearest"]=9728]="Nearest",t[t["Linear"]=9729]="Linear",t[t["MipMap"]=9987]="MipMap",t[t["MipMapNearestNearest"]=9984]="MipMapNearestNearest",t[t["MipMapLinearNearest"]=9985]="MipMapLinearNearest",t[t["MipMapNearestLinear"]=9986]="MipMapNearestLinear",t[t["MipMapLinearLinear"]=9987]="MipMapLinearLinear"})(At||(At={})),function(t){t[t["MirroredRepeat"]=33648]="MirroredRepeat",t[t["ClampToEdge"]=33071]="ClampToEdge",t[t["Repeat"]=10497]="Repeat"}(Et||(Et={}));class St{constructor(){(0,o.A)(this,"texture",void 0),(0,o.A)(this,"u",0),(0,o.A)(this,"v",0),(0,o.A)(this,"u2",0),(0,o.A)(this,"v2",0),(0,o.A)(this,"width",0),(0,o.A)(this,"height",0),(0,o.A)(this,"degrees",0),(0,o.A)(this,"offsetX",0),(0,o.A)(this,"offsetY",0),(0,o.A)(this,"originalWidth",0),(0,o.A)(this,"originalHeight",0)}}class Ct{constructor(t){(0,o.A)(this,"pages",new Array),(0,o.A)(this,"regions",new Array);let e=new Tt(t),n=new Array(4),s={size:t=>{t.width=parseInt(n[1]),t.height=parseInt(n[2])},format:()=>{},filter:t=>{t.minFilter=c.enumValue(At,n[1]),t.magFilter=c.enumValue(At,n[2])},repeat:t=>{-1!=n[1].indexOf("x")&&(t.uWrap=Et.Repeat),-1!=n[1].indexOf("y")&&(t.vWrap=Et.Repeat)},pma:t=>{t.pma="true"==n[1]}};var i={xy:t=>{t.x=parseInt(n[1]),t.y=parseInt(n[2])},size:t=>{t.width=parseInt(n[1]),t.height=parseInt(n[2])},bounds:t=>{t.x=parseInt(n[1]),t.y=parseInt(n[2]),t.width=parseInt(n[3]),t.height=parseInt(n[4])},offset:t=>{t.offsetX=parseInt(n[1]),t.offsetY=parseInt(n[2])},orig:t=>{t.originalWidth=parseInt(n[1]),t.originalHeight=parseInt(n[2])},offsets:t=>{t.offsetX=parseInt(n[1]),t.offsetY=parseInt(n[2]),t.originalWidth=parseInt(n[3]),t.originalHeight=parseInt(n[4])},rotate:t=>{let e=n[1];"true"==e?t.degrees=90:"false"!=e&&(t.degrees=parseInt(e))},index:t=>{t.index=parseInt(n[1])}};let r=e.readLine();while(r&&0==r.trim().length)r=e.readLine();while(1){if(!r||0==r.trim().length)break;if(0==e.readEntry(n,r))break;r=e.readLine()}let a=null,l=null,h=null;while(1){if(null===r)break;if(0==r.trim().length)a=null,r=e.readLine();else if(a){let t=new It(a,r);while(1){let s=e.readEntry(n,r=e.readLine());if(0==s)break;let o=i[n[0]];if(o)o(t);else{l||(l=[]),h||(h=[]),l.push(n[0]);let t=[];for(let e=0;e<s;e++)t.push(parseInt(n[e+1]));h.push(t)}}0==t.originalWidth&&0==t.originalHeight&&(t.originalWidth=t.width,t.originalHeight=t.height),l&&l.length>0&&h&&h.length>0&&(t.names=l,t.values=h,l=null,h=null),t.u=t.x/a.width,t.v=t.y/a.height,90==t.degrees?(t.u2=(t.x+t.height)/a.width,t.v2=(t.y+t.width)/a.height):(t.u2=(t.x+t.width)/a.width,t.v2=(t.y+t.height)/a.height),this.regions.push(t)}else{a=new Rt(r.trim());while(1){if(0==e.readEntry(n,r=e.readLine()))break;let t=s[n[0]];t&&t(a)}this.pages.push(a)}}}findRegion(t){for(let e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}setTextures(t,e=""){for(let n of this.pages)n.setTexture(t.get(e+n.name))}dispose(){for(let t=0;t<this.pages.length;t++)this.pages[t].texture?.dispose()}}class Tt{constructor(t){(0,o.A)(this,"lines",void 0),(0,o.A)(this,"index",0),this.lines=t.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(t,e){if(!e)return 0;if(e=e.trim(),0==e.length)return 0;let n=e.indexOf(":");if(-1==n)return 0;t[0]=e.substr(0,n).trim();for(let s=1,i=n+1;;s++){let n=e.indexOf(",",i);if(-1==n)return t[s]=e.substr(i).trim(),s;if(t[s]=e.substr(i,n-i).trim(),i=n+1,4==s)return 4}}}class Rt{constructor(t){(0,o.A)(this,"name",void 0),(0,o.A)(this,"minFilter",At.Nearest),(0,o.A)(this,"magFilter",At.Nearest),(0,o.A)(this,"uWrap",Et.ClampToEdge),(0,o.A)(this,"vWrap",Et.ClampToEdge),(0,o.A)(this,"texture",null),(0,o.A)(this,"width",0),(0,o.A)(this,"height",0),(0,o.A)(this,"pma",!1),(0,o.A)(this,"regions",new Array),this.name=t}setTexture(t){this.texture=t,t.setFilters(this.minFilter,this.magFilter),t.setWraps(this.uWrap,this.vWrap);for(let e of this.regions)e.texture=t}}class It extends St{constructor(t,e){super(),(0,o.A)(this,"page",void 0),(0,o.A)(this,"name",void 0),(0,o.A)(this,"x",0),(0,o.A)(this,"y",0),(0,o.A)(this,"offsetX",0),(0,o.A)(this,"offsetY",0),(0,o.A)(this,"originalWidth",0),(0,o.A)(this,"originalHeight",0),(0,o.A)(this,"index",0),(0,o.A)(this,"degrees",0),(0,o.A)(this,"names",null),(0,o.A)(this,"values",null),this.page=t,this.name=e,t.regions.push(this)}}class Mt extends m{constructor(t,e){super(t),(0,o.A)(this,"region",null),(0,o.A)(this,"path",void 0),(0,o.A)(this,"regionUVs",[]),(0,o.A)(this,"uvs",[]),(0,o.A)(this,"triangles",[]),(0,o.A)(this,"color",new l(1,1,1,1)),(0,o.A)(this,"width",0),(0,o.A)(this,"height",0),(0,o.A)(this,"hullLength",0),(0,o.A)(this,"edges",[]),(0,o.A)(this,"parentMesh",null),(0,o.A)(this,"sequence",null),(0,o.A)(this,"tempColor",new l(0,0,0,0)),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.regionUVs;this.uvs&&this.uvs.length==t.length||(this.uvs=c.newFloatArray(t.length));let e=this.uvs,n=this.uvs.length,s=this.region.u,i=this.region.v,r=0,o=0;if(this.region instanceof It){let a=this.region,l=a.page,h=l.width,c=l.height;switch(a.degrees){case 90:s-=(a.originalHeight-a.offsetY-a.height)/h,i-=(a.originalWidth-a.offsetX-a.width)/c,r=a.originalHeight/h,o=a.originalWidth/c;for(let a=0;a<n;a+=2)e[a]=s+t[a+1]*r,e[a+1]=i+(1-t[a])*o;return;case 180:s-=(a.originalWidth-a.offsetX-a.width)/h,i-=a.offsetY/c,r=a.originalWidth/h,o=a.originalHeight/c;for(let a=0;a<n;a+=2)e[a]=s+(1-t[a])*r,e[a+1]=i+(1-t[a+1])*o;return;case 270:s-=a.offsetY/h,i-=a.offsetX/c,r=a.originalHeight/h,o=a.originalWidth/c;for(let a=0;a<n;a+=2)e[a]=s+(1-t[a+1])*r,e[a+1]=i+t[a]*o;return}s-=a.offsetX/h,i-=(a.originalHeight-a.offsetY-a.height)/c,r=a.originalWidth/h,o=a.originalHeight/c}else this.region?(r=this.region.u2-s,o=this.region.v2-i):(s=i=0,r=o=1);for(let a=0;a<n;a+=2)e[a]=s+t[a]*r,e[a+1]=i+t[a+1]*o}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();let t=new Mt(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),c.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),c.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),c.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),c.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}computeWorldVertices(t,e,n,s,i,r){null!=this.sequence&&this.sequence.apply(t,this),super.computeWorldVertices(t,e,n,s,i,r)}newLinkedMesh(){let t=new Mt(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),null!=t.region&&t.updateRegion(),t}}class _t extends m{constructor(t){super(t),(0,o.A)(this,"lengths",[]),(0,o.A)(this,"closed",!1),(0,o.A)(this,"constantSpeed",!1),(0,o.A)(this,"color",new l(1,1,1,1))}copy(){let t=new _t(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),c.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}class Ft extends m{constructor(t){super(t),(0,o.A)(this,"x",0),(0,o.A)(this,"y",0),(0,o.A)(this,"rotation",0),(0,o.A)(this,"color",new l(.38,.94,0,1))}computeWorldPosition(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e}computeWorldRotation(t){const e=this.rotation*h.degRad,n=Math.cos(e),s=Math.sin(e),i=n*t.a+s*t.b,r=n*t.c+s*t.d;return h.atan2Deg(r,i)}copy(){let t=new Ft(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}class Ot extends p{constructor(t,e){super(t),(0,o.A)(this,"x",0),(0,o.A)(this,"y",0),(0,o.A)(this,"scaleX",1),(0,o.A)(this,"scaleY",1),(0,o.A)(this,"rotation",0),(0,o.A)(this,"width",0),(0,o.A)(this,"height",0),(0,o.A)(this,"color",new l(1,1,1,1)),(0,o.A)(this,"path",void 0),(0,o.A)(this,"region",null),(0,o.A)(this,"sequence",null),(0,o.A)(this,"offset",c.newFloatArray(8)),(0,o.A)(this,"uvs",c.newFloatArray(8)),(0,o.A)(this,"tempColor",new l(1,1,1,1)),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.region,e=this.uvs;if(null==t)return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=1,e[5]=1,e[6]=1,void(e[7]=0);let n=this.width/this.region.originalWidth*this.scaleX,s=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*n,r=-this.height/2*this.scaleY+this.region.offsetY*s,o=i+this.region.width*n,a=r+this.region.height*s,l=this.rotation*h.degRad,c=Math.cos(l),u=Math.sin(l),d=this.x,f=this.y,p=i*c+d,m=i*u,g=r*c+f,y=r*u,v=o*c+d,b=o*u,w=a*c+f,x=a*u,A=this.offset;A[0]=p-y,A[1]=g+m,A[2]=p-x,A[3]=w+m,A[4]=v-x,A[5]=w+b,A[6]=v-y,A[7]=g+b,90==t.degrees?(e[0]=t.u2,e[1]=t.v2,e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}computeWorldVertices(t,e,n,s){null!=this.sequence&&this.sequence.apply(t,this);let i=t.bone,r=this.offset,o=i.worldX,a=i.worldY,l=i.a,h=i.b,c=i.c,u=i.d,d=0,f=0;d=r[0],f=r[1],e[n]=d*l+f*h+o,e[n+1]=d*c+f*u+a,n+=s,d=r[2],f=r[3],e[n]=d*l+f*h+o,e[n+1]=d*c+f*u+a,n+=s,d=r[4],f=r[5],e[n]=d*l+f*h+o,e[n+1]=d*c+f*u+a,n+=s,d=r[6],f=r[7],e[n]=d*l+f*h+o,e[n+1]=d*c+f*u+a}copy(){let t=new Ot(this.name,this.path);return t.region=this.region,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,c.arrayCopy(this.uvs,0,t.uvs,0,8),c.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=null!=this.sequence?this.sequence.copy():null,t}}(0,o.A)(Ot,"X1",0),(0,o.A)(Ot,"Y1",1),(0,o.A)(Ot,"C1R",2),(0,o.A)(Ot,"C1G",3),(0,o.A)(Ot,"C1B",4),(0,o.A)(Ot,"C1A",5),(0,o.A)(Ot,"U1",6),(0,o.A)(Ot,"V1",7),(0,o.A)(Ot,"X2",8),(0,o.A)(Ot,"Y2",9),(0,o.A)(Ot,"C2R",10),(0,o.A)(Ot,"C2G",11),(0,o.A)(Ot,"C2B",12),(0,o.A)(Ot,"C2A",13),(0,o.A)(Ot,"U2",14),(0,o.A)(Ot,"V2",15),(0,o.A)(Ot,"X3",16),(0,o.A)(Ot,"Y3",17),(0,o.A)(Ot,"C3R",18),(0,o.A)(Ot,"C3G",19),(0,o.A)(Ot,"C3B",20),(0,o.A)(Ot,"C3A",21),(0,o.A)(Ot,"U3",22),(0,o.A)(Ot,"V3",23),(0,o.A)(Ot,"X4",24),(0,o.A)(Ot,"Y4",25),(0,o.A)(Ot,"C4R",26),(0,o.A)(Ot,"C4G",27),(0,o.A)(Ot,"C4B",28),(0,o.A)(Ot,"C4A",29),(0,o.A)(Ot,"U4",30),(0,o.A)(Ot,"V4",31);class Lt{constructor(t){(0,o.A)(this,"atlas",void 0),this.atlas=t}loadSequence(t,e,n){let s=n.regions;for(let i=0,r=s.length;i<r;i++){let r=n.getPath(e,i),o=this.atlas.findRegion(r);if(null==o)throw new Error("Region not found in atlas: "+r+" (sequence: "+t+")");s[i]=o}}newRegionAttachment(t,e,n,s){let i=new Ot(e,n);if(null!=s)this.loadSequence(e,n,s);else{let t=this.atlas.findRegion(n);if(!t)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");i.region=t}return i}newMeshAttachment(t,e,n,s){let i=new Mt(e,n);if(null!=s)this.loadSequence(e,n,s);else{let t=this.atlas.findRegion(n);if(!t)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");i.region=t}return i}newBoundingBoxAttachment(t,e){return new bt(e)}newPathAttachment(t,e){return new _t(e)}newPointAttachment(t,e){return new Ft(e)}newClippingAttachment(t,e){return new wt(e)}}class Bt{constructor(t,e,n){if((0,o.A)(this,"index",0),(0,o.A)(this,"name",void 0),(0,o.A)(this,"parent",null),(0,o.A)(this,"length",0),(0,o.A)(this,"x",0),(0,o.A)(this,"y",0),(0,o.A)(this,"rotation",0),(0,o.A)(this,"scaleX",1),(0,o.A)(this,"scaleY",1),(0,o.A)(this,"shearX",0),(0,o.A)(this,"shearY",0),(0,o.A)(this,"inherit",kt.Normal),(0,o.A)(this,"skinRequired",!1),(0,o.A)(this,"color",new l),(0,o.A)(this,"icon",void 0),(0,o.A)(this,"visible",!1),t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n}}(function(t){t[t["Normal"]=0]="Normal",t[t["OnlyTranslation"]=1]="OnlyTranslation",t[t["NoRotationOrReflection"]=2]="NoRotationOrReflection",t[t["NoScale"]=3]="NoScale",t[t["NoScaleOrReflection"]=4]="NoScaleOrReflection"})(kt||(kt={}));class Pt{constructor(t,e,n){if((0,o.A)(this,"data",void 0),(0,o.A)(this,"skeleton",void 0),(0,o.A)(this,"parent",null),(0,o.A)(this,"children",new Array),(0,o.A)(this,"x",0),(0,o.A)(this,"y",0),(0,o.A)(this,"rotation",0),(0,o.A)(this,"scaleX",0),(0,o.A)(this,"scaleY",0),(0,o.A)(this,"shearX",0),(0,o.A)(this,"shearY",0),(0,o.A)(this,"ax",0),(0,o.A)(this,"ay",0),(0,o.A)(this,"arotation",0),(0,o.A)(this,"ascaleX",0),(0,o.A)(this,"ascaleY",0),(0,o.A)(this,"ashearX",0),(0,o.A)(this,"ashearY",0),(0,o.A)(this,"a",0),(0,o.A)(this,"b",0),(0,o.A)(this,"c",0),(0,o.A)(this,"d",0),(0,o.A)(this,"worldY",0),(0,o.A)(this,"worldX",0),(0,o.A)(this,"inherit",kt.Normal),(0,o.A)(this,"sorted",!1),(0,o.A)(this,"active",!1),!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}isActive(){return this.active}update(t){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(t,e,n,s,i,r,o){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=s,this.ascaleY=i,this.ashearX=r,this.ashearY=o;let a=this.parent;if(!a){let a=this.skeleton;const l=a.scaleX,c=a.scaleY,u=(n+r)*h.degRad,d=(n+90+o)*h.degRad;return this.a=Math.cos(u)*s*l,this.b=Math.cos(d)*i*l,this.c=Math.sin(u)*s*c,this.d=Math.sin(d)*i*c,this.worldX=t*l+a.x,void(this.worldY=e*c+a.y)}let l=a.a,c=a.b,u=a.c,d=a.d;switch(this.worldX=l*t+c*e+a.worldX,this.worldY=u*t+d*e+a.worldY,this.inherit){case kt.Normal:{const t=(n+r)*h.degRad,e=(n+90+o)*h.degRad,a=Math.cos(t)*s,f=Math.cos(e)*i,p=Math.sin(t)*s,m=Math.sin(e)*i;return this.a=l*a+c*p,this.b=l*f+c*m,this.c=u*a+d*p,void(this.d=u*f+d*m)}case kt.OnlyTranslation:{const t=(n+r)*h.degRad,e=(n+90+o)*h.degRad;this.a=Math.cos(t)*s,this.b=Math.cos(e)*i,this.c=Math.sin(t)*s,this.d=Math.sin(e)*i;break}case kt.NoRotationOrReflection:{let t=l*l+u*u,e=0;t>1e-4?(t=Math.abs(l*d-c*u)/t,l/=this.skeleton.scaleX,u/=this.skeleton.scaleY,c=u*t,d=l*t,e=Math.atan2(u,l)*h.radDeg):(l=0,u=0,e=90-Math.atan2(d,c)*h.radDeg);const a=(n+r-e)*h.degRad,f=(n+o-e+90)*h.degRad,p=Math.cos(a)*s,m=Math.cos(f)*i,g=Math.sin(a)*s,y=Math.sin(f)*i;this.a=l*p-c*g,this.b=l*m-c*y,this.c=u*p+d*g,this.d=u*m+d*y;break}case kt.NoScale:case kt.NoScaleOrReflection:{n*=h.degRad;const t=Math.cos(n),e=Math.sin(n);let a=(l*t+c*e)/this.skeleton.scaleX,f=(u*t+d*e)/this.skeleton.scaleY,p=Math.sqrt(a*a+f*f);p>1e-5&&(p=1/p),a*=p,f*=p,p=Math.sqrt(a*a+f*f),this.inherit==kt.NoScale&&l*d-c*u<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(p=-p),n=Math.PI/2+Math.atan2(f,a);const m=Math.cos(n)*p,g=Math.sin(n)*p;r*=h.degRad,o=(90+o)*h.degRad;const y=Math.cos(r)*s,v=Math.cos(o)*i,b=Math.sin(r)*s,w=Math.sin(o)*i;this.a=a*y+m*b,this.b=a*v+m*w,this.c=f*y+g*b,this.d=f*v+g*w;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}setToSetupPose(){let t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY,this.inherit=t.inherit}updateAppliedTransform(){let t=this.parent;if(!t)return this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*h.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*h.radDeg);let e,n,s,i,r=t.a,o=t.b,a=t.c,l=t.d,c=1/(r*l-o*a),u=l*c,d=o*c,f=a*c,p=r*c,m=this.worldX-t.worldX,g=this.worldY-t.worldY;if(this.ax=m*u-g*d,this.ay=g*p-m*f,this.inherit==kt.OnlyTranslation)e=this.a,n=this.b,s=this.c,i=this.d;else{switch(this.inherit){case kt.NoRotationOrReflection:{let t=Math.abs(r*l-o*a)/(r*r+a*a),e=r/this.skeleton.scaleX,n=a/this.skeleton.scaleY;o=-n*t*this.skeleton.scaleX,l=e*t*this.skeleton.scaleY,c=1/(r*l-o*a),u=l*c,d=o*c;break}case kt.NoScale:case kt.NoScaleOrReflection:let t=h.cosDeg(this.rotation),e=h.sinDeg(this.rotation);r=(r*t+o*e)/this.skeleton.scaleX,a=(a*t+l*e)/this.skeleton.scaleY;let n=Math.sqrt(r*r+a*a);n>1e-5&&(n=1/n),r*=n,a*=n,n=Math.sqrt(r*r+a*a),this.inherit==kt.NoScale&&c<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(n=-n);let s=h.PI/2+Math.atan2(a,r);o=Math.cos(s)*n,l=Math.sin(s)*n,c=1/(r*l-o*a),u=l*c,d=o*c,f=a*c,p=r*c}e=u*this.a-d*this.c,n=u*this.b-d*this.d,s=p*this.c-f*this.a,i=p*this.d-f*this.b}if(this.ashearX=0,this.ascaleX=Math.sqrt(e*e+s*s),this.ascaleX>1e-4){let t=e*i-n*s;this.ascaleY=t/this.ascaleX,this.ashearY=-Math.atan2(e*n+s*i,t)*h.radDeg,this.arotation=Math.atan2(s,e)*h.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(n*n+i*i),this.ashearY=0,this.arotation=90-Math.atan2(i,n)*h.radDeg}getWorldRotationX(){return Math.atan2(this.c,this.a)*h.radDeg}getWorldRotationY(){return Math.atan2(this.d,this.b)*h.radDeg}getWorldScaleX(){return Math.sqrt(this.a*this.a+this.c*this.c)}getWorldScaleY(){return Math.sqrt(this.b*this.b+this.d*this.d)}worldToLocal(t){let e=1/(this.a*this.d-this.b*this.c),n=t.x-this.worldX,s=t.y-this.worldY;return t.x=n*this.d*e-s*this.b*e,t.y=s*this.a*e-n*this.c*e,t}localToWorld(t){let e=t.x,n=t.y;return t.x=e*this.a+n*this.b+this.worldX,t.y=e*this.c+n*this.d+this.worldY,t}worldToParent(t){if(null==t)throw new Error("world cannot be null.");return null==this.parent?t:this.parent.worldToLocal(t)}parentToWorld(t){if(null==t)throw new Error("world cannot be null.");return null==this.parent?t:this.parent.localToWorld(t)}worldToLocalRotation(t){let e=h.sinDeg(t),n=h.cosDeg(t);return Math.atan2(this.a*e-this.c*n,this.d*n-this.b*e)*h.radDeg+this.rotation-this.shearX}localToWorldRotation(t){t-=this.rotation-this.shearX;let e=h.sinDeg(t),n=h.cosDeg(t);return Math.atan2(n*this.c+e*this.d,n*this.a+e*this.b)*h.radDeg}rotateWorld(t){t*=h.degRad;const e=Math.sin(t),n=Math.cos(t),s=this.a,i=this.b;this.a=n*s-e*this.c,this.b=n*i-e*this.d,this.c=e*s+n*this.c,this.d=e*i+n*this.d}}var Yt,Nt,Dt,Xt,Vt,Ut;n(4979);class jt{constructor(t,e="",n=new Wt){(0,o.A)(this,"pathPrefix",""),(0,o.A)(this,"textureLoader",void 0),(0,o.A)(this,"downloader",void 0),(0,o.A)(this,"assets",{}),(0,o.A)(this,"errors",{}),(0,o.A)(this,"toLoad",0),(0,o.A)(this,"loaded",0),this.textureLoader=t,this.pathPrefix=e,this.downloader=n}start(t){return this.toLoad++,this.pathPrefix+t}success(t,e,n){this.toLoad--,this.loaded++,this.assets[e]=n,t&&t(e,n)}error(t,e,n){this.toLoad--,this.loaded++,this.errors[e]=n,t&&t(e,n)}loadAll(){let t=new Promise(((t,e)=>{let n=()=>{this.isLoadingComplete()?this.hasErrors()?e(this.errors):t(this):requestAnimationFrame(n)};requestAnimationFrame(n)}));return t}setRawDataURI(t,e){this.downloader.rawDataUris[this.pathPrefix+t]=e}loadBinary(t,e=()=>{},n=()=>{}){t=this.start(t),this.downloader.downloadBinary(t,(n=>{this.success(e,t,n)}),((e,s)=>{this.error(n,t,`Couldn't load binary ${t}: status ${e}, ${s}`)}))}loadText(t,e=()=>{},n=()=>{}){t=this.start(t),this.downloader.downloadText(t,(n=>{this.success(e,t,n)}),((e,s)=>{this.error(n,t,`Couldn't load text ${t}: status ${e}, ${s}`)}))}loadJson(t,e=()=>{},n=()=>{}){t=this.start(t),this.downloader.downloadJson(t,(n=>{this.success(e,t,n)}),((e,s)=>{this.error(n,t,`Couldn't load JSON ${t}: status ${e}, ${s}`)}))}loadTexture(t,e=()=>{},n=()=>{}){t=this.start(t);let s=!("undefined"===typeof window||"undefined"===typeof navigator||!window.document),i=!s;if(i)fetch(t,{mode:"cors"}).then((e=>e.ok?e.blob():(this.error(n,t,`Couldn't load image: ${t}`),null))).then((t=>t?createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"}):null)).then((n=>{n&&this.success(e,t,this.textureLoader(n))}));else{let s=new Image;s.crossOrigin="anonymous",s.onload=()=>{this.success(e,t,this.textureLoader(s))},s.onerror=()=>{this.error(n,t,`Couldn't load image: ${t}`)},this.downloader.rawDataUris[t]&&(t=this.downloader.rawDataUris[t]),s.src=t}}loadTextureAtlas(t,e=()=>{},n=()=>{},s){let i=t.lastIndexOf("/"),r=i>=0?t.substring(0,i+1):"";t=this.start(t),this.downloader.downloadText(t,(i=>{try{let o=new Ct(i),a=o.pages.length,l=!1;for(let i of o.pages)this.loadTexture(s?s[i.name]:r+i.name,((n,s)=>{l||(i.setTexture(s),0==--a&&this.success(e,t,o))}),((e,s)=>{l||this.error(n,t,`Couldn't load texture atlas ${t} page image: ${e}`),l=!0}))}catch(o){this.error(n,t,`Couldn't parse texture atlas ${t}: ${o.message}`)}}),((e,s)=>{this.error(n,t,`Couldn't load texture atlas ${t}: status ${e}, ${s}`)}))}get(t){return this.assets[this.pathPrefix+t]}require(t){t=this.pathPrefix+t;let e=this.assets[t];if(e)return e;let n=this.errors[t];throw Error("Asset not found: "+t+(n?"\n"+n:""))}remove(t){t=this.pathPrefix+t;let e=this.assets[t];return e.dispose&&e.dispose(),delete this.assets[t],e}removeAll(){for(let t in this.assets){let e=this.assets[t];e.dispose&&e.dispose()}this.assets={}}isLoadingComplete(){return 0==this.toLoad}getToLoad(){return this.toLoad}getLoaded(){return this.loaded}dispose(){this.removeAll()}hasErrors(){return Object.keys(this.errors).length>0}getErrors(){return this.errors}}class Wt{constructor(){(0,o.A)(this,"callbacks",{}),(0,o.A)(this,"rawDataUris",{})}dataUriToString(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");let e=t.indexOf("base64,");return-1!=e?(e+=7,atob(t.substr(e))):t.substr(t.indexOf(",")+1)}base64ToUint8Array(t){for(var e=window.atob(t),n=e.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=e.charCodeAt(i);return s}dataUriToUint8Array(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");let e=t.indexOf("base64,");if(-1==e)throw new Error("Not a binary data URI.");return e+=7,this.base64ToUint8Array(t.substr(e))}downloadText(t,e,n){if(this.start(t,e,n))return;if(this.rawDataUris[t]){try{let e=this.rawDataUris[t];this.finish(t,200,this.dataUriToString(e))}catch(r){this.finish(t,400,JSON.stringify(r))}return}let s=new XMLHttpRequest;s.overrideMimeType("text/html"),s.open("GET",t,!0);let i=()=>{this.finish(t,s.status,s.responseText)};s.onload=i,s.onerror=i,s.send()}downloadJson(t,e,n){this.downloadText(t,(t=>{e(JSON.parse(t))}),n)}downloadBinary(t,e,n){if(this.start(t,e,n))return;if(this.rawDataUris[t]){try{let e=this.rawDataUris[t];this.finish(t,200,this.dataUriToUint8Array(e))}catch(r){this.finish(t,400,JSON.stringify(r))}return}let s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer";let i=()=>{this.finish(t,s.status,s.response)};s.onload=()=>{200==s.status||0==s.status?this.finish(t,200,new Uint8Array(s.response)):i()},s.onerror=i,s.send()}start(t,e,n){let s=this.callbacks[t];try{if(s)return!0;this.callbacks[t]=s=[]}finally{s.push(e,n)}}finish(t,e,n){let s=this.callbacks[t];delete this.callbacks[t];let i=200==e||0==e?[n]:[e,n];for(let r=i.length-1,o=s.length;r<o;r+=2)s[r].apply(null,i)}}class qt{constructor(t,e){if((0,o.A)(this,"data",void 0),(0,o.A)(this,"bones",void 0),(0,o.A)(this,"target",void 0),(0,o.A)(this,"bendDirection",0),(0,o.A)(this,"compress",!1),(0,o.A)(this,"stretch",!1),(0,o.A)(this,"mix",1),(0,o.A)(this,"softness",0),(0,o.A)(this,"active",!1),!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let s=0;s<t.bones.length;s++){let n=e.findBone(t.bones[s].name);if(!n)throw new Error(`Couldn't find bone ${t.bones[s].name}`);this.bones.push(n)}let n=e.findBone(t.target.name);if(!n)throw new Error(`Couldn't find bone ${t.target.name}`);this.target=n,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch}isActive(){return this.active}setToSetupPose(){const t=this.data;this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch}update(t){if(0==this.mix)return;let e=this.target,n=this.bones;switch(n.length){case 1:this.apply1(n[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(n[0],n[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}apply1(t,e,n,s,i,r,o){let a=t.parent;if(!a)throw new Error("IK bone must have parent.");let l=a.a,c=a.b,u=a.c,d=a.d,f=-t.ashearX-t.arotation,p=0,m=0;switch(t.inherit){case kt.OnlyTranslation:p=(e-t.worldX)*h.signum(t.skeleton.scaleX),m=(n-t.worldY)*h.signum(t.skeleton.scaleY);break;case kt.NoRotationOrReflection:let s=Math.abs(l*d-c*u)/Math.max(1e-4,l*l+u*u),i=l/t.skeleton.scaleX,r=u/t.skeleton.scaleY;c=-r*s*t.skeleton.scaleX,d=i*s*t.skeleton.scaleY,f+=Math.atan2(r,i)*h.radDeg;default:let o=e-a.worldX,g=n-a.worldY,y=l*d-c*u;Math.abs(y)<=1e-4?(p=0,m=0):(p=(o*d-g*c)/y-t.ax,m=(g*l-o*u)/y-t.ay)}f+=Math.atan2(m,p)*h.radDeg,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);let g=t.ascaleX,y=t.ascaleY;if(s||i){switch(t.inherit){case kt.NoScale:case kt.NoScaleOrReflection:p=e-t.worldX,m=n-t.worldY}const a=t.data.length*g;if(a>1e-4){const t=p*p+m*m;if(s&&t<a*a||i&&t>a*a){const e=(Math.sqrt(t)/a-1)*o+1;g*=e,r&&(y*=e)}}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*o,g,y,t.ashearX,t.ashearY)}apply2(t,e,n,s,i,r,o,a,l){if(t.inherit!=kt.Normal||e.inherit!=kt.Normal)return;let c=t.ax,u=t.ay,d=t.ascaleX,f=t.ascaleY,p=d,m=f,g=e.ascaleX,y=0,v=0,b=0;d<0?(d=-d,y=180,b=-1):(y=0,b=1),f<0&&(f=-f,b=-b),g<0?(g=-g,v=180):v=0;let w=e.ax,x=0,A=0,E=0,k=t.a,S=t.b,C=t.c,T=t.d,R=Math.abs(d-f)<=1e-4;!R||r?(x=0,A=k*w+t.worldX,E=C*w+t.worldY):(x=e.ay,A=k*w+S*x+t.worldX,E=C*w+T*x+t.worldY);let I=t.parent;if(!I)throw new Error("IK parent must itself have a parent.");k=I.a,S=I.b,C=I.c,T=I.d;let M=k*T-S*C,_=A-I.worldX,F=E-I.worldY;M=Math.abs(M)<=1e-4?0:1/M;let O,L,B=(_*T-F*S)*M-c,P=(F*k-_*C)*M-u,Y=Math.sqrt(B*B+P*P),N=e.data.length*g;if(Y<1e-4)return this.apply1(t,n,s,!1,r,!1,l),void e.updateWorldTransformWith(w,x,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);_=n-I.worldX,F=s-I.worldY;let D=(_*T-F*S)*M-c,X=(F*k-_*C)*M-u,V=D*D+X*X;if(0!=a){a*=d*(g+1)*.5;let t=Math.sqrt(V),e=t-Y-N*d+a;if(e>0){let n=Math.min(1,e/(2*a))-1;n=(e-a*(1-n*n))/t,D-=n*D,X-=n*X,V=D*D+X*X}}t:if(R){N*=d;let t=(V-Y*Y-N*N)/(2*Y*N);t<-1?(t=-1,L=Math.PI*i):t>1?(t=1,L=0,r&&(k=(Math.sqrt(V)/(Y+N)-1)*l+1,p*=k,o&&(m*=k))):L=Math.acos(t)*i,k=Y+N*t,S=N*Math.sin(L),O=Math.atan2(X*k-D*S,D*k+X*S)}else{k=d*N,S=f*N;let t=k*k,e=S*S,n=Math.atan2(X,D);C=e*Y*Y+t*V-t*e;let s=-2*e*Y,r=e-t;if(T=s*s-4*r*C,T>=0){let t=Math.sqrt(T);s<0&&(t=-t),t=.5*-(s+t);let e=t/r,o=C/t,a=Math.abs(e)<Math.abs(o)?e:o;if(e=V-a*a,e>=0){F=Math.sqrt(e)*i,O=n-Math.atan2(F,a),L=Math.atan2(F/f,(a-Y)/d);break t}}let o=h.PI,a=Y-k,l=a*a,c=0,u=0,p=Y+k,m=p*p,g=0;C=-k*Y/(t-e),C>=-1&&C<=1&&(C=Math.acos(C),_=k*Math.cos(C)+Y,F=S*Math.sin(C),T=_*_+F*F,T<l&&(o=C,l=T,a=_,c=F),T>m&&(u=C,m=T,p=_,g=F)),V<=.5*(l+m)?(O=n-Math.atan2(c*i,a),L=o*i):(O=n-Math.atan2(g*i,p),L=u*i)}let U=Math.atan2(x,w)*b,j=t.arotation;O=(O-U)*h.radDeg+y-j,O>180?O-=360:O<-180&&(O+=360),t.updateWorldTransformWith(c,u,j+O*l,p,m,0,0),j=e.arotation,L=((L+U)*h.radDeg-e.ashearX)*b+v-j,L>180?L-=360:L<-180&&(L+=360),e.updateWorldTransformWith(w,x,j+L*l,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}}class zt{constructor(t,e,n){(0,o.A)(this,"name",void 0),(0,o.A)(this,"order",void 0),(0,o.A)(this,"skinRequired",void 0),this.name=t,this.order=e,this.skinRequired=n}}class Gt extends zt{set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}constructor(t){super(t,0,!1),(0,o.A)(this,"bones",new Array),(0,o.A)(this,"_target",null),(0,o.A)(this,"bendDirection",0),(0,o.A)(this,"compress",!1),(0,o.A)(this,"stretch",!1),(0,o.A)(this,"uniform",!1),(0,o.A)(this,"mix",0),(0,o.A)(this,"softness",0)}}class Ht extends zt{set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}constructor(t){super(t,0,!1),(0,o.A)(this,"bones",new Array),(0,o.A)(this,"_target",null),(0,o.A)(this,"positionMode",Yt.Fixed),(0,o.A)(this,"spacingMode",Nt.Fixed),(0,o.A)(this,"rotateMode",Dt.Chain),(0,o.A)(this,"offsetRotation",0),(0,o.A)(this,"position",0),(0,o.A)(this,"spacing",0),(0,o.A)(this,"mixRotate",0),(0,o.A)(this,"mixX",0),(0,o.A)(this,"mixY",0)}}(function(t){t[t["Fixed"]=0]="Fixed",t[t["Percent"]=1]="Percent"})(Yt||(Yt={})),function(t){t[t["Length"]=0]="Length",t[t["Fixed"]=1]="Fixed",t[t["Percent"]=2]="Percent",t[t["Proportional"]=3]="Proportional"}(Nt||(Nt={})),function(t){t[t["Tangent"]=0]="Tangent",t[t["Chain"]=1]="Chain",t[t["ChainScale"]=2]="ChainScale"}(Dt||(Dt={}));class $t{constructor(t,e){if((0,o.A)(this,"data",void 0),(0,o.A)(this,"bones",void 0),(0,o.A)(this,"target",void 0),(0,o.A)(this,"position",0),(0,o.A)(this,"spacing",0),(0,o.A)(this,"mixRotate",0),(0,o.A)(this,"mixX",0),(0,o.A)(this,"mixY",0),(0,o.A)(this,"spaces",new Array),(0,o.A)(this,"positions",new Array),(0,o.A)(this,"world",new Array),(0,o.A)(this,"curves",new Array),(0,o.A)(this,"lengths",new Array),(0,o.A)(this,"segments",new Array),(0,o.A)(this,"active",!1),!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let s=0,i=t.bones.length;s<i;s++){let n=e.findBone(t.bones[s].name);if(!n)throw new Error(`Couldn't find bone ${t.bones[s].name}.`);this.bones.push(n)}let n=e.findSlot(t.target.name);if(!n)throw new Error(`Couldn't find target bone ${t.target.name}`);this.target=n,this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}isActive(){return this.active}setToSetupPose(){const t=this.data;this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}update(t){let e=this.target.getAttachment();if(!(e instanceof _t))return;let n=this.mixRotate,s=this.mixX,i=this.mixY;if(0==n&&0==s&&0==i)return;let r=this.data,o=r.rotateMode==Dt.Tangent,a=r.rotateMode==Dt.ChainScale,l=this.bones,u=l.length,d=o?u:u+1,f=c.setArraySize(this.spaces,d),p=a?this.lengths=c.setArraySize(this.lengths,u):[],m=this.spacing;switch(r.spacingMode){case Nt.Percent:if(a)for(let n=0,s=d-1;n<s;n++){let t=l[n],e=t.data.length,s=e*t.a,i=e*t.c;p[n]=Math.sqrt(s*s+i*i)}c.arrayFill(f,1,d,m);break;case Nt.Proportional:let t=0;for(let n=0,s=d-1;n<s;){let e=l[n],s=e.data.length;if(s<$t.epsilon)a&&(p[n]=0),f[++n]=m;else{let i=s*e.a,r=s*e.c,o=Math.sqrt(i*i+r*r);a&&(p[n]=o),f[++n]=o,t+=o}}if(t>0){t=d/t*m;for(let e=1;e<d;e++)f[e]*=t}break;default:let e=r.spacingMode==Nt.Length;for(let n=0,s=d-1;n<s;){let t=l[n],s=t.data.length;if(s<$t.epsilon)a&&(p[n]=0),f[++n]=m;else{let i=s*t.a,r=s*t.c,o=Math.sqrt(i*i+r*r);a&&(p[n]=o),f[++n]=(e?s+m:m)*o/s}}}let g=this.computeWorldPositions(e,d,o),y=g[0],v=g[1],b=r.offsetRotation,w=!1;if(0==b)w=r.rotateMode==Dt.Chain;else{w=!1;let t=this.target.bone;b*=t.a*t.d-t.b*t.c>0?h.degRad:-h.degRad}for(let c=0,x=3;c<u;c++,x+=3){let t=l[c];t.worldX+=(y-t.worldX)*s,t.worldY+=(v-t.worldY)*i;let e=g[x],r=g[x+1],u=e-y,d=r-v;if(a){let e=p[c];if(0!=e){let s=(Math.sqrt(u*u+d*d)/e-1)*n+1;t.a*=s,t.c*=s}}if(y=e,v=r,n>0){let e=t.a,s=t.b,i=t.c,r=t.d,a=0,l=0,p=0;if(a=o?g[x-1]:0==f[c+1]?g[x+2]:Math.atan2(d,u),a-=Math.atan2(i,e),w){l=Math.cos(a),p=Math.sin(a);let s=t.data.length;y+=(s*(l*e-p*i)-u)*n,v+=(s*(p*e+l*i)-d)*n}else a+=b;a>h.PI?a-=h.PI2:a<-h.PI&&(a+=h.PI2),a*=n,l=Math.cos(a),p=Math.sin(a),t.a=l*e-p*i,t.b=l*s-p*r,t.c=p*e+l*i,t.d=p*s+l*r}t.updateAppliedTransform()}}computeWorldPositions(t,e,n){let s=this.target,i=this.position,r=this.spaces,o=c.setArraySize(this.positions,3*e+2),a=this.world,l=t.closed,h=t.worldVerticesLength,u=h/6,d=$t.NONE;if(!t.constantSpeed){let f=t.lengths;u-=l?1:2;let p,m=f[u];switch(this.data.positionMode==Yt.Percent&&(i*=m),this.data.spacingMode){case Nt.Percent:p=m;break;case Nt.Proportional:p=m/e;break;default:p=1}a=c.setArraySize(this.world,8);for(let c=0,g=0,y=0;c<e;c++,g+=3){let e=r[c]*p;i+=e;let v=i;if(l)v%=m,v<0&&(v+=m),y=0;else{if(v<0){d!=$t.BEFORE&&(d=$t.BEFORE,t.computeWorldVertices(s,2,4,a,0,2)),this.addBeforePosition(v,a,0,o,g);continue}if(v>m){d!=$t.AFTER&&(d=$t.AFTER,t.computeWorldVertices(s,h-6,4,a,0,2)),this.addAfterPosition(v-m,a,0,o,g);continue}}for(;;y++){let t=f[y];if(!(v>t)){if(0==y)v/=t;else{let e=f[y-1];v=(v-e)/(t-e)}break}}y!=d&&(d=y,l&&y==u?(t.computeWorldVertices(s,h-4,4,a,0,2),t.computeWorldVertices(s,0,4,a,4,2)):t.computeWorldVertices(s,6*y+2,8,a,0,2)),this.addCurvePosition(v,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],o,g,n||c>0&&0==e)}return o}l?(h+=2,a=c.setArraySize(this.world,h),t.computeWorldVertices(s,2,h-4,a,0,2),t.computeWorldVertices(s,0,2,a,h-4,2),a[h-2]=a[0],a[h-1]=a[1]):(u--,h-=4,a=c.setArraySize(this.world,h),t.computeWorldVertices(s,2,h,a,0,2));let f,p=c.setArraySize(this.curves,u),m=0,g=a[0],y=a[1],v=0,b=0,w=0,x=0,A=0,E=0,k=0,S=0,C=0,T=0,R=0,I=0,M=0,_=0;for(let c=0,L=2;c<u;c++,L+=6)v=a[L],b=a[L+1],w=a[L+2],x=a[L+3],A=a[L+4],E=a[L+5],k=.1875*(g-2*v+w),S=.1875*(y-2*b+x),C=.09375*(3*(v-w)-g+A),T=.09375*(3*(b-x)-y+E),R=2*k+C,I=2*S+T,M=.75*(v-g)+k+.16666667*C,_=.75*(b-y)+S+.16666667*T,m+=Math.sqrt(M*M+_*_),M+=R,_+=I,R+=C,I+=T,m+=Math.sqrt(M*M+_*_),M+=R,_+=I,m+=Math.sqrt(M*M+_*_),M+=R+C,_+=I+T,m+=Math.sqrt(M*M+_*_),p[c]=m,g=A,y=E;switch(this.data.positionMode==Yt.Percent&&(i*=m),this.data.spacingMode){case Nt.Percent:f=m;break;case Nt.Proportional:f=m/e;break;default:f=1}let F=this.segments,O=0;for(let c=0,L=0,B=0,P=0;c<e;c++,L+=3){let t=r[c]*f;i+=t;let e=i;if(l)e%=m,e<0&&(e+=m),B=0;else{if(e<0){this.addBeforePosition(e,a,0,o,L);continue}if(e>m){this.addAfterPosition(e-m,a,h-4,o,L);continue}}for(;;B++){let t=p[B];if(!(e>t)){if(0==B)e/=t;else{let n=p[B-1];e=(e-n)/(t-n)}break}}if(B!=d){d=B;let t=6*B;for(g=a[t],y=a[t+1],v=a[t+2],b=a[t+3],w=a[t+4],x=a[t+5],A=a[t+6],E=a[t+7],k=.03*(g-2*v+w),S=.03*(y-2*b+x),C=.006*(3*(v-w)-g+A),T=.006*(3*(b-x)-y+E),R=2*k+C,I=2*S+T,M=.3*(v-g)+k+.16666667*C,_=.3*(b-y)+S+.16666667*T,O=Math.sqrt(M*M+_*_),F[0]=O,t=1;t<8;t++)M+=R,_+=I,R+=C,I+=T,O+=Math.sqrt(M*M+_*_),F[t]=O;M+=R,_+=I,O+=Math.sqrt(M*M+_*_),F[8]=O,M+=R+C,_+=I+T,O+=Math.sqrt(M*M+_*_),F[9]=O,P=0}for(e*=O;;P++){let t=F[P];if(!(e>t)){if(0==P)e/=t;else{let n=F[P-1];e=P+(e-n)/(t-n)}break}}this.addCurvePosition(.1*e,g,y,v,b,w,x,A,E,o,L,n||c>0&&0==t)}return o}addBeforePosition(t,e,n,s,i){let r=e[n],o=e[n+1],a=e[n+2]-r,l=e[n+3]-o,h=Math.atan2(l,a);s[i]=r+t*Math.cos(h),s[i+1]=o+t*Math.sin(h),s[i+2]=h}addAfterPosition(t,e,n,s,i){let r=e[n+2],o=e[n+3],a=r-e[n],l=o-e[n+1],h=Math.atan2(l,a);s[i]=r+t*Math.cos(h),s[i+1]=o+t*Math.sin(h),s[i+2]=h}addCurvePosition(t,e,n,s,i,r,o,a,l,h,c,u){if(0==t||isNaN(t))return h[c]=e,h[c+1]=n,void(h[c+2]=Math.atan2(i-n,s-e));let d=t*t,f=d*t,p=1-t,m=p*p,g=m*p,y=p*t,v=3*y,b=p*v,w=v*t,x=e*g+s*b+r*w+a*f,A=n*g+i*b+o*w+l*f;h[c]=x,h[c+1]=A,u&&(h[c+2]=t<.001?Math.atan2(i-n,s-e):Math.atan2(A-(n*m+i*y*2+o*d),x-(e*m+s*y*2+r*d)))}}(0,o.A)($t,"NONE",-1),(0,o.A)($t,"BEFORE",-2),(0,o.A)($t,"AFTER",-3),(0,o.A)($t,"epsilon",1e-5);class Zt{set bone(t){this._bone=t}get bone(){if(this._bone)return this._bone;throw new Error("Bone not set.")}constructor(t,e){(0,o.A)(this,"data",void 0),(0,o.A)(this,"_bone",null),(0,o.A)(this,"inertia",0),(0,o.A)(this,"strength",0),(0,o.A)(this,"damping",0),(0,o.A)(this,"massInverse",0),(0,o.A)(this,"wind",0),(0,o.A)(this,"gravity",0),(0,o.A)(this,"mix",0),(0,o.A)(this,"_reset",!0),(0,o.A)(this,"ux",0),(0,o.A)(this,"uy",0),(0,o.A)(this,"cx",0),(0,o.A)(this,"cy",0),(0,o.A)(this,"tx",0),(0,o.A)(this,"ty",0),(0,o.A)(this,"xOffset",0),(0,o.A)(this,"xVelocity",0),(0,o.A)(this,"yOffset",0),(0,o.A)(this,"yVelocity",0),(0,o.A)(this,"rotateOffset",0),(0,o.A)(this,"rotateVelocity",0),(0,o.A)(this,"scaleOffset",0),(0,o.A)(this,"scaleVelocity",0),(0,o.A)(this,"active",!1),(0,o.A)(this,"skeleton",void 0),(0,o.A)(this,"remaining",0),(0,o.A)(this,"lastTime",0),this.data=t,this.skeleton=e,this.bone=e.bones[t.bone.index],this.inertia=t.inertia,this.strength=t.strength,this.damping=t.damping,this.massInverse=t.massInverse,this.wind=t.wind,this.gravity=t.gravity,this.mix=t.mix}reset(){this.remaining=0,this.lastTime=this.skeleton.time,this._reset=!0,this.xOffset=0,this.xVelocity=0,this.yOffset=0,this.yVelocity=0,this.rotateOffset=0,this.rotateVelocity=0,this.scaleOffset=0,this.scaleVelocity=0}setToSetupPose(){const t=this.data;this.inertia=t.inertia,this.strength=t.strength,this.damping=t.damping,this.massInverse=t.massInverse,this.wind=t.wind,this.gravity=t.gravity,this.mix=t.mix}isActive(){return this.active}update(t){const e=this.mix;if(0==e)return;const n=this.data.x>0,s=this.data.y>0,i=this.data.rotate>0||this.data.shearX>0,r=this.data.scaleX>0,o=this.bone,a=o.data.length;switch(t){case Xt.none:return;case Xt.reset:this.reset();case Xt.update:const t=this.skeleton,l=Math.max(this.skeleton.time-this.lastTime,0);this.remaining+=l,this.lastTime=t.time;const c=o.worldX,u=o.worldY;if(this._reset)this._reset=!1,this.ux=c,this.uy=u;else{let d=this.remaining,f=this.inertia,p=this.data.step,m=this.skeleton.data.referenceScale,g=-1,y=this.data.limit*l,v=y*Math.abs(t.scaleY);if(y*=Math.abs(t.scaleX),n||s){if(n){const t=(this.ux-c)*f;this.xOffset+=t>y?y:t<-y?-y:t,this.ux=c}if(s){const t=(this.uy-u)*f;this.yOffset+=t>v?v:t<-v?-v:t,this.uy=u}if(d>=p){g=Math.pow(this.damping,60*p);const t=this.massInverse*p,e=this.strength,i=this.wind*m,r=(Qt.yDown?-this.gravity:this.gravity)*m;do{n&&(this.xVelocity+=(i-this.xOffset*e)*t,this.xOffset+=this.xVelocity*p,this.xVelocity*=g),s&&(this.yVelocity-=(r+this.yOffset*e)*t,this.yOffset+=this.yVelocity*p,this.yVelocity*=g),d-=p}while(d>=p)}n&&(o.worldX+=this.xOffset*e*this.data.x),s&&(o.worldY+=this.yOffset*e*this.data.y)}if(i||r){let t=Math.atan2(o.c,o.a),n=0,s=0,l=0,c=this.cx-o.worldX,u=this.cy-o.worldY;if(c>y?c=y:c<-y&&(c=-y),u>v?u=v:u<-v&&(u=-v),i){l=(this.data.rotate+this.data.shearX)*e;let i=Math.atan2(u+this.ty,c+this.tx)-t-this.rotateOffset*l;this.rotateOffset+=(i-Math.ceil(i*h.invPI2-.5)*h.PI2)*f,i=this.rotateOffset*l+t,n=Math.cos(i),s=Math.sin(i),r&&(i=a*o.getWorldScaleX(),i>0&&(this.scaleOffset+=(c*n+u*s)*f/i))}else{n=Math.cos(t),s=Math.sin(t);const e=a*o.getWorldScaleX();e>0&&(this.scaleOffset+=(c*n+u*s)*f/e)}if(d=this.remaining,d>=p){-1==g&&(g=Math.pow(this.damping,60*p));const e=this.massInverse*p,o=this.strength,h=this.wind,c=Qt.yDown?-this.gravity:this.gravity,u=a/m;while(1)if(d-=p,r&&(this.scaleVelocity+=(h*n-c*s-this.scaleOffset*o)*e,this.scaleOffset+=this.scaleVelocity*p,this.scaleVelocity*=g),i){if(this.rotateVelocity-=((h*s+c*n)*u+this.rotateOffset*o)*e,this.rotateOffset+=this.rotateVelocity*p,this.rotateVelocity*=g,d<p)break;const i=this.rotateOffset*l+t;n=Math.cos(i),s=Math.sin(i)}else if(d<p)break}}this.remaining=d}this.cx=o.worldX,this.cy=o.worldY;break;case Xt.pose:n&&(o.worldX+=this.xOffset*e*this.data.x),s&&(o.worldY+=this.yOffset*e*this.data.y)}if(i){let t=this.rotateOffset*e,n=0,s=0,i=0;if(this.data.shearX>0){let e=0;this.data.rotate>0&&(e=t*this.data.rotate,n=Math.sin(e),s=Math.cos(e),i=o.b,o.b=s*i-n*o.d,o.d=n*i+s*o.d),e+=t*this.data.shearX,n=Math.sin(e),s=Math.cos(e),i=o.a,o.a=s*i-n*o.c,o.c=n*i+s*o.c}else t*=this.data.rotate,n=Math.sin(t),s=Math.cos(t),i=o.a,o.a=s*i-n*o.c,o.c=n*i+s*o.c,i=o.b,o.b=s*i-n*o.d,o.d=n*i+s*o.d}if(r){const t=1+this.scaleOffset*e*this.data.scaleX;o.a*=t,o.c*=t}t!=Xt.pose&&(this.tx=a*o.a,this.ty=a*o.c),o.updateAppliedTransform()}translate(t,e){this.ux-=t,this.uy-=e,this.cx-=t,this.cy-=e}rotate(t,e,n){const s=n*h.degRad,i=Math.cos(s),r=Math.sin(s),o=this.cx-t,a=this.cy-e;this.translate(o*i-a*r-o,o*r+a*i-a)}}class Kt{constructor(t,e){if((0,o.A)(this,"data",void 0),(0,o.A)(this,"bone",void 0),(0,o.A)(this,"color",void 0),(0,o.A)(this,"darkColor",null),(0,o.A)(this,"attachment",null),(0,o.A)(this,"attachmentState",0),(0,o.A)(this,"sequenceIndex",-1),(0,o.A)(this,"deform",new Array),!t)throw new Error("data cannot be null.");if(!e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new l,this.darkColor=t.darkColor?new l:null,this.setToSetupPose()}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(t){this.attachment!=t&&(t instanceof m&&this.attachment instanceof m&&t.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=t,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}class Jt{constructor(t,e){if((0,o.A)(this,"data",void 0),(0,o.A)(this,"bones",void 0),(0,o.A)(this,"target",void 0),(0,o.A)(this,"mixRotate",0),(0,o.A)(this,"mixX",0),(0,o.A)(this,"mixY",0),(0,o.A)(this,"mixScaleX",0),(0,o.A)(this,"mixScaleY",0),(0,o.A)(this,"mixShearY",0),(0,o.A)(this,"temp",new d),(0,o.A)(this,"active",!1),!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let s=0;s<t.bones.length;s++){let n=e.findBone(t.bones[s].name);if(!n)throw new Error(`Couldn't find bone ${t.bones[s].name}.`);this.bones.push(n)}let n=e.findBone(t.target.name);if(!n)throw new Error(`Couldn't find target bone ${t.target.name}.`);this.target=n,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY}isActive(){return this.active}setToSetupPose(){const t=this.data;this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY}update(t){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleY&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){let t=this.mixRotate,e=this.mixX,n=this.mixY,s=this.mixScaleX,i=this.mixScaleY,r=this.mixShearY,o=0!=e||0!=n,a=this.target,l=a.a,c=a.b,u=a.c,d=a.d,f=l*d-c*u>0?h.degRad:-h.degRad,p=this.data.offsetRotation*f,m=this.data.offsetShearY*f,g=this.bones;for(let y=0,v=g.length;y<v;y++){let f=g[y];if(0!=t){let e=f.a,n=f.b,s=f.c,i=f.d,r=Math.atan2(u,l)-Math.atan2(s,e)+p;r>h.PI?r-=h.PI2:r<-h.PI&&(r+=h.PI2),r*=t;let o=Math.cos(r),a=Math.sin(r);f.a=o*e-a*s,f.b=o*n-a*i,f.c=a*e+o*s,f.d=a*n+o*i}if(o){let t=this.temp;a.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),f.worldX+=(t.x-f.worldX)*e,f.worldY+=(t.y-f.worldY)*n}if(0!=s){let t=Math.sqrt(f.a*f.a+f.c*f.c);0!=t&&(t=(t+(Math.sqrt(l*l+u*u)-t+this.data.offsetScaleX)*s)/t),f.a*=t,f.c*=t}if(0!=i){let t=Math.sqrt(f.b*f.b+f.d*f.d);0!=t&&(t=(t+(Math.sqrt(c*c+d*d)-t+this.data.offsetScaleY)*i)/t),f.b*=t,f.d*=t}if(r>0){let t=f.b,e=f.d,n=Math.atan2(e,t),s=Math.atan2(d,c)-Math.atan2(u,l)-(n-Math.atan2(f.c,f.a));s>h.PI?s-=h.PI2:s<-h.PI&&(s+=h.PI2),s=n+(s+m)*r;let i=Math.sqrt(t*t+e*e);f.b=Math.cos(s)*i,f.d=Math.sin(s)*i}f.updateAppliedTransform()}}applyRelativeWorld(){let t=this.mixRotate,e=this.mixX,n=this.mixY,s=this.mixScaleX,i=this.mixScaleY,r=this.mixShearY,o=0!=e||0!=n,a=this.target,l=a.a,c=a.b,u=a.c,d=a.d,f=l*d-c*u>0?h.degRad:-h.degRad,p=this.data.offsetRotation*f,m=this.data.offsetShearY*f,g=this.bones;for(let y=0,v=g.length;y<v;y++){let f=g[y];if(0!=t){let e=f.a,n=f.b,s=f.c,i=f.d,r=Math.atan2(u,l)+p;r>h.PI?r-=h.PI2:r<-h.PI&&(r+=h.PI2),r*=t;let o=Math.cos(r),a=Math.sin(r);f.a=o*e-a*s,f.b=o*n-a*i,f.c=a*e+o*s,f.d=a*n+o*i}if(o){let t=this.temp;a.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),f.worldX+=t.x*e,f.worldY+=t.y*n}if(0!=s){let t=(Math.sqrt(l*l+u*u)-1+this.data.offsetScaleX)*s+1;f.a*=t,f.c*=t}if(0!=i){let t=(Math.sqrt(c*c+d*d)-1+this.data.offsetScaleY)*i+1;f.b*=t,f.d*=t}if(r>0){let t=Math.atan2(d,c)-Math.atan2(u,l);t>h.PI?t-=h.PI2:t<-h.PI&&(t+=h.PI2);let e=f.b,n=f.d;t=Math.atan2(n,e)+(t-h.PI/2+m)*r;let s=Math.sqrt(e*e+n*n);f.b=Math.cos(t)*s,f.d=Math.sin(t)*s}f.updateAppliedTransform()}}applyAbsoluteLocal(){let t=this.mixRotate,e=this.mixX,n=this.mixY,s=this.mixScaleX,i=this.mixScaleY,r=this.mixShearY,o=this.target,a=this.bones;for(let l=0,h=a.length;l<h;l++){let h=a[l],c=h.arotation;0!=t&&(c+=(o.arotation-c+this.data.offsetRotation)*t);let u=h.ax,d=h.ay;u+=(o.ax-u+this.data.offsetX)*e,d+=(o.ay-d+this.data.offsetY)*n;let f=h.ascaleX,p=h.ascaleY;0!=s&&0!=f&&(f=(f+(o.ascaleX-f+this.data.offsetScaleX)*s)/f),0!=i&&0!=p&&(p=(p+(o.ascaleY-p+this.data.offsetScaleY)*i)/p);let m=h.ashearY;0!=r&&(m+=(o.ashearY-m+this.data.offsetShearY)*r),h.updateWorldTransformWith(u,d,c,f,p,h.ashearX,m)}}applyRelativeLocal(){let t=this.mixRotate,e=this.mixX,n=this.mixY,s=this.mixScaleX,i=this.mixScaleY,r=this.mixShearY,o=this.target,a=this.bones;for(let l=0,h=a.length;l<h;l++){let h=a[l],c=h.arotation+(o.arotation+this.data.offsetRotation)*t,u=h.ax+(o.ax+this.data.offsetX)*e,d=h.ay+(o.ay+this.data.offsetY)*n,f=h.ascaleX*((o.ascaleX-1+this.data.offsetScaleX)*s+1),p=h.ascaleY*((o.ascaleY-1+this.data.offsetScaleY)*i+1),m=h.ashearY+(o.ashearY+this.data.offsetShearY)*r;h.updateWorldTransformWith(u,d,c,f,p,h.ashearX,m)}}}class Qt{get scaleY(){return Qt.yDown?-this._scaleY:this._scaleY}set scaleY(t){this._scaleY=t}constructor(t){if((0,o.A)(this,"data",void 0),(0,o.A)(this,"bones",void 0),(0,o.A)(this,"slots",void 0),(0,o.A)(this,"drawOrder",void 0),(0,o.A)(this,"ikConstraints",void 0),(0,o.A)(this,"transformConstraints",void 0),(0,o.A)(this,"pathConstraints",void 0),(0,o.A)(this,"physicsConstraints",void 0),(0,o.A)(this,"_updateCache",new Array),(0,o.A)(this,"skin",null),(0,o.A)(this,"color",void 0),(0,o.A)(this,"scaleX",1),(0,o.A)(this,"_scaleY",1),(0,o.A)(this,"x",0),(0,o.A)(this,"y",0),(0,o.A)(this,"time",0),!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(let e=0;e<t.bones.length;e++){let n,s=t.bones[e];if(s.parent){let t=this.bones[s.parent.index];n=new Pt(s,this,t),t.children.push(n)}else n=new Pt(s,this,null);this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<t.slots.length;e++){let n=t.slots[e],s=this.bones[n.boneData.index],i=new Kt(n,s);this.slots.push(i),this.drawOrder.push(i)}this.ikConstraints=new Array;for(let e=0;e<t.ikConstraints.length;e++){let n=t.ikConstraints[e];this.ikConstraints.push(new qt(n,this))}this.transformConstraints=new Array;for(let e=0;e<t.transformConstraints.length;e++){let n=t.transformConstraints[e];this.transformConstraints.push(new Jt(n,this))}this.pathConstraints=new Array;for(let e=0;e<t.pathConstraints.length;e++){let n=t.pathConstraints[e];this.pathConstraints.push(new $t(n,this))}this.physicsConstraints=new Array;for(let e=0;e<t.physicsConstraints.length;e++){let n=t.physicsConstraints[e];this.physicsConstraints.push(new Zt(n,this))}this.color=new l(1,1,1,1),this.updateCache()}updateCache(){let t=this._updateCache;t.length=0;let e=this.bones;for(let u=0,d=e.length;u<d;u++){let t=e[u];t.sorted=t.data.skinRequired,t.active=!t.sorted}if(this.skin){let t=this.skin.bones;for(let e=0,n=this.skin.bones.length;e<n;e++){let n=this.bones[t[e].index];do{n.sorted=!1,n.active=!0,n=n.parent}while(n)}}let n=this.ikConstraints,s=this.transformConstraints,i=this.pathConstraints,r=this.physicsConstraints,o=n.length,a=s.length,l=i.length,h=this.physicsConstraints.length,c=o+a+l+h;t:for(let u=0;u<c;u++){for(let t=0;t<o;t++){let e=n[t];if(e.data.order==u){this.sortIkConstraint(e);continue t}}for(let t=0;t<a;t++){let e=s[t];if(e.data.order==u){this.sortTransformConstraint(e);continue t}}for(let t=0;t<l;t++){let e=i[t];if(e.data.order==u){this.sortPathConstraint(e);continue t}}for(let t=0;t<h;t++){const e=r[t];if(e.data.order==u){this.sortPhysicsConstraint(e);continue t}}}for(let u=0,d=e.length;u<d;u++)this.sortBone(e[u])}sortIkConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&c.contains(this.skin.constraints,t.data,!0)),!t.active)return;let e=t.target;this.sortBone(e);let n=t.bones,s=n[0];if(this.sortBone(s),1==n.length)this._updateCache.push(t),this.sortReset(s.children);else{let e=n[n.length-1];this.sortBone(e),this._updateCache.push(t),this.sortReset(s.children),e.sorted=!0}}sortPathConstraint(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&c.contains(this.skin.constraints,t.data,!0)),!t.active)return;let e=t.target,n=e.data.index,s=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,n,s),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,s);for(let a=0,l=this.data.skins.length;a<l;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,s);let i=e.getAttachment();i instanceof _t&&this.sortPathConstraintAttachmentWith(i,s);let r=t.bones,o=r.length;for(let a=0;a<o;a++)this.sortBone(r[a]);this._updateCache.push(t);for(let a=0;a<o;a++)this.sortReset(r[a].children);for(let a=0;a<o;a++)r[a].sorted=!0}sortTransformConstraint(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&c.contains(this.skin.constraints,t.data,!0)),!t.active)return;this.sortBone(t.target);let e=t.bones,n=e.length;if(t.data.local)for(let s=0;s<n;s++){let t=e[s];this.sortBone(t.parent),this.sortBone(t)}else for(let s=0;s<n;s++)this.sortBone(e[s]);this._updateCache.push(t);for(let s=0;s<n;s++)this.sortReset(e[s].children);for(let s=0;s<n;s++)e[s].sorted=!0}sortPathConstraintAttachment(t,e,n){let s=t.attachments[e];if(s)for(let i in s)this.sortPathConstraintAttachmentWith(s[i],n)}sortPathConstraintAttachmentWith(t,e){if(!(t instanceof _t))return;let n=t.bones;if(n){let t=this.bones;for(let e=0,s=n.length;e<s;){let s=n[e++];s+=e;while(e<s)this.sortBone(t[n[e++]])}}else this.sortBone(e)}sortPhysicsConstraint(t){const e=t.bone;t.active=e.active&&(!t.data.skinRequired||null!=this.skin&&c.contains(this.skin.constraints,t.data,!0)),t.active&&(this.sortBone(e),this._updateCache.push(t),this.sortReset(e.children),e.sorted=!0)}sortBone(t){if(!t)return;if(t.sorted)return;let e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}sortReset(t){for(let e=0,n=t.length;e<n;e++){let n=t[e];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}}updateWorldTransform(t){if(void 0===t||null===t)throw new Error("physics is undefined");let e=this.bones;for(let s=0,i=e.length;s<i;s++){let t=e[s];t.ax=t.x,t.ay=t.y,t.arotation=t.rotation,t.ascaleX=t.scaleX,t.ascaleY=t.scaleY,t.ashearX=t.shearX,t.ashearY=t.shearY}let n=this._updateCache;for(let s=0,i=n.length;s<i;s++)n[s].update(t)}updateWorldTransformWith(t,e){let n=this.getRootBone();if(!n)throw new Error("Root bone must not be null.");let s=e.a,i=e.b,r=e.c,o=e.d;n.worldX=s*this.x+i*this.y+e.worldX,n.worldY=r*this.x+o*this.y+e.worldY;const a=(n.rotation+n.shearX)*h.degRad,l=(n.rotation+90+n.shearY)*h.degRad,c=Math.cos(a)*n.scaleX,u=Math.cos(l)*n.scaleY,d=Math.sin(a)*n.scaleX,f=Math.sin(l)*n.scaleY;n.a=(s*c+i*d)*this.scaleX,n.b=(s*u+i*f)*this.scaleX,n.c=(r*c+o*d)*this.scaleY,n.d=(r*u+o*f)*this.scaleY;let p=this._updateCache;for(let h=0,m=p.length;h<m;h++){let e=p[h];e!=n&&e.update(t)}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){for(const t of this.bones)t.setToSetupPose();for(const t of this.ikConstraints)t.setToSetupPose();for(const t of this.transformConstraints)t.setToSetupPose();for(const t of this.pathConstraints)t.setToSetupPose();for(const t of this.physicsConstraints)t.setToSetupPose()}setSlotsToSetupPose(){let t=this.slots;c.arrayCopy(t,0,this.drawOrder,0,t.length);for(let e=0,n=t.length;e<n;e++)t[e].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let n=0,s=e.length;n<s;n++){let s=e[n];if(s.data.name==t)return s}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let n=0,s=e.length;n<s;n++){let s=e[n];if(s.data.name==t)return s}return null}setSkinByName(t){let e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)}setSkin(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else{let e=this.slots;for(let n=0,s=e.length;n<s;n++){let s=e[n],i=s.data.attachmentName;if(i){let e=t.getAttachment(n,i);e&&s.setAttachment(e)}}}this.skin=t,this.updateCache()}}getAttachmentByName(t,e){let n=this.data.findSlot(t);if(!n)throw new Error(`Can't find slot with name ${t}`);return this.getAttachment(n.index,e)}getAttachment(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){let n=this.skin.getAttachment(t,e);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}setAttachment(t,e){if(!t)throw new Error("slotName cannot be null.");let n=this.slots;for(let s=0,i=n.length;s<i;s++){let i=n[s];if(i.data.name==t){let n=null;if(e&&(n=this.getAttachment(s,e),!n))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(n)}}throw new Error("Slot not found: "+t)}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");return this.ikConstraints.find((e=>e.data.name==t))??null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");return this.transformConstraints.find((e=>e.data.name==t))??null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");return this.pathConstraints.find((e=>e.data.name==t))??null}findPhysicsConstraint(t){if(null==t)throw new Error("constraintName cannot be null.");return this.physicsConstraints.find((e=>e.data.name==t))??null}getBoundsRect(){let t=new d,e=new d;return this.getBounds(t,e),{x:t.x,y:t.y,width:e.x,height:e.y}}getBounds(t,e,n=new Array(2),s=null){if(!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");let i=this.drawOrder,r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let h=0,u=i.length;h<u;h++){let t=i[h];if(!t.bone.active)continue;let e=0,u=null,d=null,f=t.getAttachment();if(f instanceof Ot)e=8,u=c.setArraySize(n,e,0),f.computeWorldVertices(t,u,0,2),d=Qt.quadTriangles;else if(f instanceof Mt){let s=f;e=s.worldVerticesLength,u=c.setArraySize(n,e,0),s.computeWorldVertices(t,0,e,u,0,2),d=s.triangles}else if(f instanceof wt&&null!=s){s.clipStart(t,f);continue}if(u&&d){null!=s&&s.isClipping()&&(s.clipTriangles(u,d,d.length),u=s.clippedVertices,e=s.clippedVertices.length);for(let t=0,e=u.length;t<e;t+=2){let e=u[t],n=u[t+1];r=Math.min(r,e),o=Math.min(o,n),a=Math.max(a,e),l=Math.max(l,n)}}null!=s&&s.clipEndWithSlot(t)}null!=s&&s.clipEnd(),t.set(r,o),e.set(a-r,l-o)}update(t){this.time+=t}physicsTranslate(t,e){const n=this.physicsConstraints;for(let s=0,i=n.length;s<i;s++)n[s].translate(t,e)}physicsRotate(t,e,n){const s=this.physicsConstraints;for(let i=0,r=s.length;i<r;i++)s[i].rotate(t,e,n)}}(0,o.A)(Qt,"quadTriangles",[0,1,2,2,3,0]),(0,o.A)(Qt,"yDown",!1),function(t){t[t["none"]=0]="none",t[t["reset"]=1]="reset",t[t["update"]=2]="update",t[t["pose"]=3]="pose"}(Xt||(Xt={}));class te{constructor(t,e){if((0,o.A)(this,"data",void 0),(0,o.A)(this,"intValue",0),(0,o.A)(this,"floatValue",0),(0,o.A)(this,"stringValue",null),(0,o.A)(this,"time",0),(0,o.A)(this,"volume",0),(0,o.A)(this,"balance",0),!e)throw new Error("data cannot be null.");this.time=t,this.data=e}}class ee{constructor(t){(0,o.A)(this,"name",void 0),(0,o.A)(this,"intValue",0),(0,o.A)(this,"floatValue",0),(0,o.A)(this,"stringValue",null),(0,o.A)(this,"audioPath",null),(0,o.A)(this,"volume",0),(0,o.A)(this,"balance",0),this.name=t}}class ne extends zt{set bone(t){this._bone=t}get bone(){if(this._bone)return this._bone;throw new Error("BoneData not set.")}constructor(t){super(t,0,!1),(0,o.A)(this,"_bone",null),(0,o.A)(this,"x",0),(0,o.A)(this,"y",0),(0,o.A)(this,"rotate",0),(0,o.A)(this,"scaleX",0),(0,o.A)(this,"shearX",0),(0,o.A)(this,"limit",0),(0,o.A)(this,"step",0),(0,o.A)(this,"inertia",0),(0,o.A)(this,"strength",0),(0,o.A)(this,"damping",0),(0,o.A)(this,"massInverse",0),(0,o.A)(this,"wind",0),(0,o.A)(this,"gravity",0),(0,o.A)(this,"mix",0),(0,o.A)(this,"inertiaGlobal",!1),(0,o.A)(this,"strengthGlobal",!1),(0,o.A)(this,"dampingGlobal",!1),(0,o.A)(this,"massGlobal",!1),(0,o.A)(this,"windGlobal",!1),(0,o.A)(this,"gravityGlobal",!1),(0,o.A)(this,"mixGlobal",!1)}}class se{constructor(){(0,o.A)(this,"name",null),(0,o.A)(this,"bones",new Array),(0,o.A)(this,"slots",new Array),(0,o.A)(this,"skins",new Array),(0,o.A)(this,"defaultSkin",null),(0,o.A)(this,"events",new Array),(0,o.A)(this,"animations",new Array),(0,o.A)(this,"ikConstraints",new Array),(0,o.A)(this,"transformConstraints",new Array),(0,o.A)(this,"pathConstraints",new Array),(0,o.A)(this,"physicsConstraints",new Array),(0,o.A)(this,"x",0),(0,o.A)(this,"y",0),(0,o.A)(this,"width",0),(0,o.A)(this,"height",0),(0,o.A)(this,"referenceScale",100),(0,o.A)(this,"version",null),(0,o.A)(this,"hash",null),(0,o.A)(this,"fps",0),(0,o.A)(this,"imagesPath",null),(0,o.A)(this,"audioPath",null)}findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let n=0,s=e.length;n<s;n++){let s=e[n];if(s.name==t)return s}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let n=0,s=e.length;n<s;n++){let s=e[n];if(s.name==t)return s}return null}findSkin(t){if(!t)throw new Error("skinName cannot be null.");let e=this.skins;for(let n=0,s=e.length;n<s;n++){let s=e[n];if(s.name==t)return s}return null}findEvent(t){if(!t)throw new Error("eventDataName cannot be null.");let e=this.events;for(let n=0,s=e.length;n<s;n++){let s=e[n];if(s.name==t)return s}return null}findAnimation(t){if(!t)throw new Error("animationName cannot be null.");let e=this.animations;for(let n=0,s=e.length;n<s;n++){let s=e[n];if(s.name==t)return s}return null}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.ikConstraints;for(let n=0,s=e.length;n<s;n++){const s=e[n];if(s.name==t)return s}return null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.transformConstraints;for(let n=0,s=e.length;n<s;n++){const s=e[n];if(s.name==t)return s}return null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.pathConstraints;for(let n=0,s=e.length;n<s;n++){const s=e[n];if(s.name==t)return s}return null}findPhysicsConstraint(t){if(!t)throw new Error("constraintName cannot be null.");const e=this.physicsConstraints;for(let n=0,s=e.length;n<s;n++){const s=e[n];if(s.name==t)return s}return null}}class ie{constructor(t=0,e,n){(0,o.A)(this,"slotIndex",void 0),(0,o.A)(this,"name",void 0),(0,o.A)(this,"attachment",void 0),this.slotIndex=t,this.name=e,this.attachment=n}}class re{constructor(t){if((0,o.A)(this,"name",void 0),(0,o.A)(this,"attachments",new Array),(0,o.A)(this,"bones",Array()),(0,o.A)(this,"constraints",new Array),(0,o.A)(this,"color",new l(.99607843,.61960787,.30980393,1)),!t)throw new Error("name cannot be null.");this.name=t}setAttachment(t,e,n){if(!n)throw new Error("attachment cannot be null.");let s=this.attachments;t>=s.length&&(s.length=t+1),s[t]||(s[t]={}),s[t][e]=n}addSkin(t){for(let s=0;s<t.bones.length;s++){let e=t.bones[s],n=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==e){n=!0;break}n||this.bones.push(e)}for(let s=0;s<t.constraints.length;s++){let e=t.constraints[s],n=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==e){n=!0;break}n||this.constraints.push(e)}let e=t.getAttachments();for(let s=0;s<e.length;s++){var n=e[s];this.setAttachment(n.slotIndex,n.name,n.attachment)}}copySkin(t){for(let s=0;s<t.bones.length;s++){let e=t.bones[s],n=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==e){n=!0;break}n||this.bones.push(e)}for(let s=0;s<t.constraints.length;s++){let e=t.constraints[s],n=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==e){n=!0;break}n||this.constraints.push(e)}let e=t.getAttachments();for(let s=0;s<e.length;s++){var n=e[s];n.attachment&&(n.attachment instanceof Mt?(n.attachment=n.attachment.newLinkedMesh(),this.setAttachment(n.slotIndex,n.name,n.attachment)):(n.attachment=n.attachment.copy(),this.setAttachment(n.slotIndex,n.name,n.attachment)))}}getAttachment(t,e){let n=this.attachments[t];return n?n[e]:null}removeAttachment(t,e){let n=this.attachments[t];n&&delete n[e]}getAttachments(){let t=new Array;for(var e=0;e<this.attachments.length;e++){let n=this.attachments[e];if(n)for(let s in n){let i=n[s];i&&t.push(new ie(e,s,i))}}return t}getAttachmentsForSlot(t,e){let n=this.attachments[t];if(n)for(let s in n){let i=n[s];i&&e.push(new ie(t,s,i))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(t,e){let n=0;for(let s=0;s<t.slots.length;s++){let i=t.slots[s],r=i.getAttachment();if(r&&n<e.attachments.length){let t=e.attachments[n];for(let e in t){let s=t[e];if(r==s){let t=this.getAttachment(n,e);t&&i.setAttachment(t);break}}}n++}}}class oe{constructor(t,e,n){if((0,o.A)(this,"index",0),(0,o.A)(this,"name",void 0),(0,o.A)(this,"boneData",void 0),(0,o.A)(this,"color",new l(1,1,1,1)),(0,o.A)(this,"darkColor",null),(0,o.A)(this,"attachmentName",null),(0,o.A)(this,"blendMode",Vt.Normal),(0,o.A)(this,"visible",!0),t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}}(function(t){t[t["Normal"]=0]="Normal",t[t["Additive"]=1]="Additive",t[t["Multiply"]=2]="Multiply",t[t["Screen"]=3]="Screen"})(Vt||(Vt={}));class ae extends zt{set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}constructor(t){super(t,0,!1),(0,o.A)(this,"bones",new Array),(0,o.A)(this,"_target",null),(0,o.A)(this,"mixRotate",0),(0,o.A)(this,"mixX",0),(0,o.A)(this,"mixY",0),(0,o.A)(this,"mixScaleX",0),(0,o.A)(this,"mixScaleY",0),(0,o.A)(this,"mixShearY",0),(0,o.A)(this,"offsetRotation",0),(0,o.A)(this,"offsetX",0),(0,o.A)(this,"offsetY",0),(0,o.A)(this,"offsetScaleX",0),(0,o.A)(this,"offsetScaleY",0),(0,o.A)(this,"offsetShearY",0),(0,o.A)(this,"relative",!1),(0,o.A)(this,"local",!1)}}class le{constructor(t){(0,o.A)(this,"scale",1),(0,o.A)(this,"attachmentLoader",void 0),(0,o.A)(this,"linkedMeshes",new Array),this.attachmentLoader=t}readSkeletonData(t){let e=this.scale,n=new se;n.name="";let s=new he(t),i=s.readInt32(),r=s.readInt32();n.hash=0==r&&0==i?null:r.toString(16)+i.toString(16),n.version=s.readString(),n.x=s.readFloat(),n.y=s.readFloat(),n.width=s.readFloat(),n.height=s.readFloat(),n.referenceScale=s.readFloat()*e;let o=s.readBoolean();o&&(n.fps=s.readFloat(),n.imagesPath=s.readString(),n.audioPath=s.readString());let a=0;a=s.readInt(!0);for(let l=0;l<a;l++){let t=s.readString();if(!t)throw new Error("String in string table must not be null.");s.strings.push(t)}a=s.readInt(!0);for(let c=0;c<a;c++){let t=s.readString();if(!t)throw new Error("Bone name must not be null.");let i=0==c?null:n.bones[s.readInt(!0)],r=new Bt(c,t,i);r.rotation=s.readFloat(),r.x=s.readFloat()*e,r.y=s.readFloat()*e,r.scaleX=s.readFloat(),r.scaleY=s.readFloat(),r.shearX=s.readFloat(),r.shearY=s.readFloat(),r.length=s.readFloat()*e,r.inherit=s.readByte(),r.skinRequired=s.readBoolean(),o&&(l.rgba8888ToColor(r.color,s.readInt32()),r.icon=s.readString()??void 0,r.visible=s.readBoolean()),n.bones.push(r)}a=s.readInt(!0);for(let c=0;c<a;c++){let t=s.readString();if(!t)throw new Error("Slot name must not be null.");let e=n.bones[s.readInt(!0)],i=new oe(c,t,e);l.rgba8888ToColor(i.color,s.readInt32());let r=s.readInt32();-1!=r&&l.rgb888ToColor(i.darkColor=new l,r),i.attachmentName=s.readStringRef(),i.blendMode=s.readInt(!0),o&&(i.visible=s.readBoolean()),n.slots.push(i)}a=s.readInt(!0);for(let l,c=0;c<a;c++){let t=s.readString();if(!t)throw new Error("IK constraint data name must not be null.");let i=new Gt(t);i.order=s.readInt(!0),l=s.readInt(!0);for(let e=0;e<l;e++)i.bones.push(n.bones[s.readInt(!0)]);i.target=n.bones[s.readInt(!0)];let r=s.readByte();i.skinRequired=0!=(1&r),i.bendDirection=0!=(2&r)?1:-1,i.compress=0!=(4&r),i.stretch=0!=(8&r),i.uniform=0!=(16&r),0!=(32&r)&&(i.mix=0!=(64&r)?s.readFloat():1),0!=(128&r)&&(i.softness=s.readFloat()*e),n.ikConstraints.push(i)}a=s.readInt(!0);for(let l,c=0;c<a;c++){let t=s.readString();if(!t)throw new Error("Transform constraint data name must not be null.");let i=new ae(t);i.order=s.readInt(!0),l=s.readInt(!0);for(let e=0;e<l;e++)i.bones.push(n.bones[s.readInt(!0)]);i.target=n.bones[s.readInt(!0)];let r=s.readByte();i.skinRequired=0!=(1&r),i.local=0!=(2&r),i.relative=0!=(4&r),0!=(8&r)&&(i.offsetRotation=s.readFloat()),0!=(16&r)&&(i.offsetX=s.readFloat()*e),0!=(32&r)&&(i.offsetY=s.readFloat()*e),0!=(64&r)&&(i.offsetScaleX=s.readFloat()),0!=(128&r)&&(i.offsetScaleY=s.readFloat()),r=s.readByte(),0!=(1&r)&&(i.offsetShearY=s.readFloat()),0!=(2&r)&&(i.mixRotate=s.readFloat()),0!=(4&r)&&(i.mixX=s.readFloat()),0!=(8&r)&&(i.mixY=s.readFloat()),0!=(16&r)&&(i.mixScaleX=s.readFloat()),0!=(32&r)&&(i.mixScaleY=s.readFloat()),0!=(64&r)&&(i.mixShearY=s.readFloat()),n.transformConstraints.push(i)}a=s.readInt(!0);for(let l,c=0;c<a;c++){let t=s.readString();if(!t)throw new Error("Path constraint data name must not be null.");let i=new Ht(t);i.order=s.readInt(!0),i.skinRequired=s.readBoolean(),l=s.readInt(!0);for(let e=0;e<l;e++)i.bones.push(n.bones[s.readInt(!0)]);i.target=n.slots[s.readInt(!0)];const r=s.readByte();i.positionMode=1&r,i.spacingMode=r>>1&3,i.rotateMode=r>>3&3,0!=(128&r)&&(i.offsetRotation=s.readFloat()),i.position=s.readFloat(),i.positionMode==Yt.Fixed&&(i.position*=e),i.spacing=s.readFloat(),i.spacingMode!=Nt.Length&&i.spacingMode!=Nt.Fixed||(i.spacing*=e),i.mixRotate=s.readFloat(),i.mixX=s.readFloat(),i.mixY=s.readFloat(),n.pathConstraints.push(i)}a=s.readInt(!0);for(let l=0;l<a;l++){const t=s.readString();if(!t)throw new Error("Physics constraint data name must not be null.");const i=new ne(t);i.order=s.readInt(!0),i.bone=n.bones[s.readInt(!0)];let r=s.readByte();i.skinRequired=0!=(1&r),0!=(2&r)&&(i.x=s.readFloat()),0!=(4&r)&&(i.y=s.readFloat()),0!=(8&r)&&(i.rotate=s.readFloat()),0!=(16&r)&&(i.scaleX=s.readFloat()),0!=(32&r)&&(i.shearX=s.readFloat()),i.limit=(0!=(64&r)?s.readFloat():5e3)*e,i.step=1/s.readUnsignedByte(),i.inertia=s.readFloat(),i.strength=s.readFloat(),i.damping=s.readFloat(),i.massInverse=0!=(128&r)?s.readFloat():1,i.wind=s.readFloat(),i.gravity=s.readFloat(),r=s.readByte(),0!=(1&r)&&(i.inertiaGlobal=!0),0!=(2&r)&&(i.strengthGlobal=!0),0!=(4&r)&&(i.dampingGlobal=!0),0!=(8&r)&&(i.massGlobal=!0),0!=(16&r)&&(i.windGlobal=!0),0!=(32&r)&&(i.gravityGlobal=!0),0!=(64&r)&&(i.mixGlobal=!0),i.mix=0!=(128&r)?s.readFloat():1,n.physicsConstraints.push(i)}let h=this.readSkin(s,n,!0,o);h&&(n.defaultSkin=h,n.skins.push(h));{let t=n.skins.length;for(c.setArraySize(n.skins,a=t+s.readInt(!0));t<a;t++){let e=this.readSkin(s,n,!1,o);if(!e)throw new Error("readSkin() should not have returned null.");n.skins[t]=e}}a=this.linkedMeshes.length;for(let l=0;l<a;l++){let t=this.linkedMeshes[l];const e=n.skins[t.skinIndex];if(!t.parent)throw new Error("Linked mesh parent must not be null");let s=e.getAttachment(t.slotIndex,t.parent);if(!s)throw new Error(`Parent mesh not found: ${t.parent}`);t.mesh.timelineAttachment=t.inheritTimeline?s:t.mesh,t.mesh.setParentMesh(s),null!=t.mesh.region&&t.mesh.updateRegion()}this.linkedMeshes.length=0,a=s.readInt(!0);for(let l=0;l<a;l++){let t=s.readString();if(!t)throw new Error("Event data name must not be null");let e=new ee(t);e.intValue=s.readInt(!1),e.floatValue=s.readFloat(),e.stringValue=s.readString(),e.audioPath=s.readString(),e.audioPath&&(e.volume=s.readFloat(),e.balance=s.readFloat()),n.events.push(e)}a=s.readInt(!0);for(let l=0;l<a;l++){let t=s.readString();if(!t)throw new Error("Animatio name must not be null.");n.animations.push(this.readAnimation(s,t,n))}return n}readSkin(t,e,n,s){let i=null,r=0;if(n){if(r=t.readInt(!0),0==r)return null;i=new re("default")}else{let n=t.readString();if(!n)throw new Error("Skin name must not be null.");i=new re(n),s&&l.rgba8888ToColor(i.color,t.readInt32()),i.bones.length=t.readInt(!0);for(let s=0,r=i.bones.length;s<r;s++)i.bones[s]=e.bones[t.readInt(!0)];for(let s=0,r=t.readInt(!0);s<r;s++)i.constraints.push(e.ikConstraints[t.readInt(!0)]);for(let s=0,r=t.readInt(!0);s<r;s++)i.constraints.push(e.transformConstraints[t.readInt(!0)]);for(let s=0,r=t.readInt(!0);s<r;s++)i.constraints.push(e.pathConstraints[t.readInt(!0)]);for(let s=0,r=t.readInt(!0);s<r;s++)i.constraints.push(e.physicsConstraints[t.readInt(!0)]);r=t.readInt(!0)}for(let o=0;o<r;o++){let n=t.readInt(!0);for(let r=0,o=t.readInt(!0);r<o;r++){let r=t.readStringRef();if(!r)throw new Error("Attachment name must not be null");let o=this.readAttachment(t,e,i,n,r,s);o&&i.setAttachment(n,r,o)}}return i}readAttachment(t,e,n,s,i,r){let o=this.scale,a=t.readByte();const h=0!=(8&a)?t.readStringRef():i;if(!h)throw new Error("Attachment name must not be null");switch(7&a){case Ut.Region:{let e=0!=(16&a)?t.readStringRef():null;const s=0!=(32&a)?t.readInt32():4294967295,i=0!=(64&a)?this.readSequence(t):null;let r=0!=(128&a)?t.readFloat():0,c=t.readFloat(),u=t.readFloat(),d=t.readFloat(),f=t.readFloat(),p=t.readFloat(),m=t.readFloat();e||(e=h);let g=this.attachmentLoader.newRegionAttachment(n,h,e,i);return g?(g.path=e,g.x=c*o,g.y=u*o,g.scaleX=d,g.scaleY=f,g.rotation=r,g.width=p*o,g.height=m*o,l.rgba8888ToColor(g.color,s),g.sequence=i,null==i&&g.updateRegion(),g):null}case Ut.BoundingBox:{let e=this.readVertices(t,0!=(16&a)),s=r?t.readInt32():0,i=this.attachmentLoader.newBoundingBoxAttachment(n,h);return i?(i.worldVerticesLength=e.length,i.vertices=e.vertices,i.bones=e.bones,r&&l.rgba8888ToColor(i.color,s),i):null}case Ut.Mesh:{let e=0!=(16&a)?t.readStringRef():h;const s=0!=(32&a)?t.readInt32():4294967295,i=0!=(64&a)?this.readSequence(t):null,c=t.readInt(!0),u=this.readVertices(t,0!=(128&a)),d=this.readFloatArray(t,u.length,1),f=this.readShortArray(t,3*(u.length-c-2));let p=[],m=0,g=0;r&&(p=this.readShortArray(t,t.readInt(!0)),m=t.readFloat(),g=t.readFloat()),e||(e=h);let y=this.attachmentLoader.newMeshAttachment(n,h,e,i);return y?(y.path=e,l.rgba8888ToColor(y.color,s),y.bones=u.bones,y.vertices=u.vertices,y.worldVerticesLength=u.length,y.triangles=f,y.regionUVs=d,null==i&&y.updateRegion(),y.hullLength=c<<1,y.sequence=i,r&&(y.edges=p,y.width=m*o,y.height=g*o),y):null}case Ut.LinkedMesh:{const e=0!=(16&a)?t.readStringRef():h;if(null==e)throw new Error("Path of linked mesh must not be null");const i=0!=(32&a)?t.readInt32():4294967295,c=0!=(64&a)?this.readSequence(t):null,u=0!=(128&a),d=t.readInt(!0),f=t.readStringRef();let p=0,m=0;r&&(p=t.readFloat(),m=t.readFloat());let g=this.attachmentLoader.newMeshAttachment(n,h,e,c);return g?(g.path=e,l.rgba8888ToColor(g.color,i),g.sequence=c,r&&(g.width=p*o,g.height=m*o),this.linkedMeshes.push(new ce(g,d,s,f,u)),g):null}case Ut.Path:{const e=0!=(16&a),s=0!=(32&a),i=this.readVertices(t,0!=(64&a)),u=c.newArray(i.length/6,0);for(let n=0,r=u.length;n<r;n++)u[n]=t.readFloat()*o;const d=r?t.readInt32():0,f=this.attachmentLoader.newPathAttachment(n,h);return f?(f.closed=e,f.constantSpeed=s,f.worldVerticesLength=i.length,f.vertices=i.vertices,f.bones=i.bones,f.lengths=u,r&&l.rgba8888ToColor(f.color,d),f):null}case Ut.Point:{const e=t.readFloat(),s=t.readFloat(),i=t.readFloat(),a=r?t.readInt32():0,c=this.attachmentLoader.newPointAttachment(n,h);return c?(c.x=s*o,c.y=i*o,c.rotation=e,r&&l.rgba8888ToColor(c.color,a),c):null}case Ut.Clipping:{const s=t.readInt(!0),i=this.readVertices(t,0!=(16&a));let o=r?t.readInt32():0,c=this.attachmentLoader.newClippingAttachment(n,h);return c?(c.endSlot=e.slots[s],c.worldVerticesLength=i.length,c.vertices=i.vertices,c.bones=i.bones,r&&l.rgba8888ToColor(c.color,o),c):null}}return null}readSequence(t){let e=new g(t.readInt(!0));return e.start=t.readInt(!0),e.digits=t.readInt(!0),e.setupIndex=t.readInt(!0),e}readVertices(t,e){const n=this.scale,s=t.readInt(!0),i=new ue;if(i.length=s<<1,!e)return i.vertices=this.readFloatArray(t,i.length,n),i;let r=new Array,o=new Array;for(let a=0;a<s;a++){let e=t.readInt(!0);o.push(e);for(let s=0;s<e;s++)o.push(t.readInt(!0)),r.push(t.readFloat()*n),r.push(t.readFloat()*n),r.push(t.readFloat())}return i.vertices=c.toFloatArray(r),i.bones=o,i}readFloatArray(t,e,n){let s=new Array(e);if(1==n)for(let i=0;i<e;i++)s[i]=t.readFloat();else for(let i=0;i<e;i++)s[i]=t.readFloat()*n;return s}readShortArray(t,e){let n=new Array(e);for(let s=0;s<e;s++)n[s]=t.readInt(!0);return n}readAnimation(t,e,n){t.readInt(!0);let s=new Array,i=this.scale;for(let l=0,h=t.readInt(!0);l<h;l++){let e=t.readInt(!0);for(let n=0,i=t.readInt(!0);n<i;n++){let n=t.readByte(),i=t.readInt(!0),r=i-1;switch(n){case Ce:{let n=new U(i,e);for(let e=0;e<i;e++)n.setFrame(e,t.readFloat(),t.readStringRef());s.push(n);break}case Te:{let n=t.readInt(!0),o=new Y(i,n,e),a=t.readFloat(),l=t.readUnsignedByte()/255,h=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255;for(let e=0,s=0;;e++){if(o.setFrame(e,a,l,h,c,u),e==r)break;let n=t.readFloat(),i=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255;switch(t.readByte()){case qe:o.setStepped(e);break;case ze:pe(t,o,s++,e,0,a,n,l,i,1),pe(t,o,s++,e,1,a,n,h,d,1),pe(t,o,s++,e,2,a,n,c,f,1),pe(t,o,s++,e,3,a,n,u,p,1)}a=n,l=i,h=d,c=f,u=p}s.push(o);break}case Re:{let n=t.readInt(!0),o=new N(i,n,e),a=t.readFloat(),l=t.readUnsignedByte()/255,h=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255;for(let e=0,s=0;;e++){if(o.setFrame(e,a,l,h,c),e==r)break;let n=t.readFloat(),i=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255;switch(t.readByte()){case qe:o.setStepped(e);break;case ze:pe(t,o,s++,e,0,a,n,l,i,1),pe(t,o,s++,e,1,a,n,h,u,1),pe(t,o,s++,e,2,a,n,c,d,1)}a=n,l=i,h=u,c=d}s.push(o);break}case Ie:{let n=t.readInt(!0),o=new X(i,n,e),a=t.readFloat(),l=t.readUnsignedByte()/255,h=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255;for(let e=0,s=0;;e++){if(o.setFrame(e,a,l,h,c,u,d,f,p),e==r)break;let n=t.readFloat(),i=t.readUnsignedByte()/255,m=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,y=t.readUnsignedByte()/255,v=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,w=t.readUnsignedByte()/255;switch(t.readByte()){case qe:o.setStepped(e);break;case ze:pe(t,o,s++,e,0,a,n,l,i,1),pe(t,o,s++,e,1,a,n,h,m,1),pe(t,o,s++,e,2,a,n,c,g,1),pe(t,o,s++,e,3,a,n,u,y,1),pe(t,o,s++,e,4,a,n,d,v,1),pe(t,o,s++,e,5,a,n,f,b,1),pe(t,o,s++,e,6,a,n,p,w,1)}a=n,l=i,h=m,c=g,u=y,d=v,f=b,p=w}s.push(o);break}case Me:{let n=t.readInt(!0),o=new V(i,n,e),a=t.readFloat(),l=t.readUnsignedByte()/255,h=t.readUnsignedByte()/255,c=t.readUnsignedByte()/255,u=t.readUnsignedByte()/255,d=t.readUnsignedByte()/255,f=t.readUnsignedByte()/255;for(let e=0,s=0;;e++){if(o.setFrame(e,a,l,h,c,u,d,f),e==r)break;let n=t.readFloat(),i=t.readUnsignedByte()/255,p=t.readUnsignedByte()/255,m=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,y=t.readUnsignedByte()/255,v=t.readUnsignedByte()/255;switch(t.readByte()){case qe:o.setStepped(e);break;case ze:pe(t,o,s++,e,0,a,n,l,i,1),pe(t,o,s++,e,1,a,n,h,p,1),pe(t,o,s++,e,2,a,n,c,m,1),pe(t,o,s++,e,3,a,n,u,g,1),pe(t,o,s++,e,4,a,n,d,y,1),pe(t,o,s++,e,5,a,n,f,v,1)}a=n,l=i,h=p,c=m,u=g,d=y,f=v}s.push(o);break}case _e:{let n=new D(i,t.readInt(!0),e),o=t.readFloat(),a=t.readUnsignedByte()/255;for(let e=0,s=0;;e++){if(n.setFrame(e,o,a),e==r)break;let i=t.readFloat(),l=t.readUnsignedByte()/255;switch(t.readByte()){case qe:n.setStepped(e);break;case ze:pe(t,n,s++,e,0,o,i,a,l,1)}o=i,a=l}s.push(n)}}}}for(let l=0,h=t.readInt(!0);l<h;l++){let e=t.readInt(!0);for(let n=0,r=t.readInt(!0);n<r;n++){let n=t.readByte(),r=t.readInt(!0);if(n==Se){let n=new P(r,e);for(let e=0;e<r;e++)n.setFrame(e,t.readFloat(),t.readByte());s.push(n);continue}let o=t.readInt(!0);switch(n){case me:s.push(de(t,new C(r,o,e),1));break;case ge:s.push(fe(t,new T(r,o,e),i));break;case ye:s.push(de(t,new R(r,o,e),i));break;case ve:s.push(de(t,new I(r,o,e),i));break;case be:s.push(fe(t,new M(r,o,e),1));break;case we:s.push(de(t,new _(r,o,e),1));break;case xe:s.push(de(t,new F(r,o,e),1));break;case Ae:s.push(fe(t,new O(r,o,e),1));break;case Ee:s.push(de(t,new L(r,o,e),1));break;case ke:s.push(de(t,new B(r,o,e),1))}}}for(let l=0,h=t.readInt(!0);l<h;l++){let e=t.readInt(!0),n=t.readInt(!0),r=n-1,o=new z(n,t.readInt(!0),e),a=t.readByte(),l=t.readFloat(),h=0!=(1&a)?0!=(2&a)?t.readFloat():1:0,c=0!=(4&a)?t.readFloat()*i:0;for(let s=0,u=0;;s++){if(o.setFrame(s,l,h,c,0!=(8&a)?1:-1,0!=(16&a),0!=(32&a)),s==r)break;a=t.readByte();const e=t.readFloat(),n=0!=(1&a)?0!=(2&a)?t.readFloat():1:0,d=0!=(4&a)?t.readFloat()*i:0;0!=(64&a)?o.setStepped(s):0!=(128&a)&&(pe(t,o,u++,s,0,l,e,h,n,1),pe(t,o,u++,s,1,l,e,c,d,i)),l=e,h=n,c=d}s.push(o)}for(let l=0,h=t.readInt(!0);l<h;l++){let e=t.readInt(!0),n=t.readInt(!0),i=n-1,r=new G(n,t.readInt(!0),e),o=t.readFloat(),a=t.readFloat(),l=t.readFloat(),h=t.readFloat(),c=t.readFloat(),u=t.readFloat(),d=t.readFloat();for(let s=0,f=0;;s++){if(r.setFrame(s,o,a,l,h,c,u,d),s==i)break;let e=t.readFloat(),n=t.readFloat(),p=t.readFloat(),m=t.readFloat(),g=t.readFloat(),y=t.readFloat(),v=t.readFloat();switch(t.readByte()){case qe:r.setStepped(s);break;case ze:pe(t,r,f++,s,0,o,e,a,n,1),pe(t,r,f++,s,1,o,e,l,p,1),pe(t,r,f++,s,2,o,e,h,m,1),pe(t,r,f++,s,3,o,e,c,g,1),pe(t,r,f++,s,4,o,e,u,y,1),pe(t,r,f++,s,5,o,e,d,v,1)}o=e,a=n,l=p,h=m,c=g,u=y,d=v}s.push(r)}for(let l=0,h=t.readInt(!0);l<h;l++){let e=t.readInt(!0),r=n.pathConstraints[e];for(let n=0,o=t.readInt(!0);n<o;n++){const n=t.readByte(),o=t.readInt(!0),a=t.readInt(!0);switch(n){case Le:s.push(de(t,new H(o,a,e),r.positionMode==Yt.Fixed?i:1));break;case Be:s.push(de(t,new $(o,a,e),r.spacingMode==Nt.Length||r.spacingMode==Nt.Fixed?i:1));break;case Pe:let n=new Z(o,a,e),l=t.readFloat(),h=t.readFloat(),c=t.readFloat(),u=t.readFloat();for(let e=0,s=0,i=n.getFrameCount()-1;;e++){if(n.setFrame(e,l,h,c,u),e==i)break;let r=t.readFloat(),o=t.readFloat(),a=t.readFloat(),d=t.readFloat();switch(t.readByte()){case qe:n.setStepped(e);break;case ze:pe(t,n,s++,e,0,l,r,h,o,1),pe(t,n,s++,e,1,l,r,c,a,1),pe(t,n,s++,e,2,l,r,u,d,1)}l=r,h=o,c=a,u=d}s.push(n)}}}for(let l=0,h=t.readInt(!0);l<h;l++){const e=t.readInt(!0)-1;for(let n=0,i=t.readInt(!0);n<i;n++){const n=t.readByte(),i=t.readInt(!0);if(n==We){const n=new rt(i,e);for(let e=0;e<i;e++)n.setFrame(e,t.readFloat());s.push(n);continue}const r=t.readInt(!0);switch(n){case Ye:s.push(de(t,new J(i,r,e),1));break;case Ne:s.push(de(t,new Q(i,r,e),1));break;case De:s.push(de(t,new tt(i,r,e),1));break;case Xe:s.push(de(t,new et(i,r,e),1));break;case Ve:s.push(de(t,new nt(i,r,e),1));break;case Ue:s.push(de(t,new st(i,r,e),1));break;case je:s.push(de(t,new it(i,r,e),1))}}}for(let l=0,h=t.readInt(!0);l<h;l++){let e=n.skins[t.readInt(!0)];for(let n=0,r=t.readInt(!0);n<r;n++){let n=t.readInt(!0);for(let r=0,o=t.readInt(!0);r<o;r++){let r=t.readStringRef();if(!r)throw new Error("attachmentName must not be null.");let o=e.getAttachment(n,r),a=t.readByte(),l=t.readInt(!0),h=l-1;switch(a){case Fe:{let e=o,r=e.bones,a=e.vertices,u=r?a.length/3*2:a.length,d=t.readInt(!0),f=new j(l,d,n,e),p=t.readFloat();for(let n=0,s=0;;n++){let e,o=t.readInt(!0);if(0==o)e=r?c.newFloatArray(u):a;else{e=c.newFloatArray(u);let n=t.readInt(!0);if(o+=n,1==i)for(let s=n;s<o;s++)e[s]=t.readFloat();else for(let s=n;s<o;s++)e[s]=t.readFloat()*i;if(!r)for(let t=0,s=e.length;t<s;t++)e[t]+=a[t]}if(f.setFrame(n,p,e),n==h)break;let l=t.readFloat();switch(t.readByte()){case qe:f.setStepped(n);break;case ze:pe(t,f,s++,n,0,p,l,0,1,1)}p=l}s.push(f);break}case Oe:{let e=new ot(l,n,o);for(let n=0;n<l;n++){let s=t.readFloat(),i=t.readInt32();e.setFrame(n,s,y[15&i],i>>4,t.readFloat())}s.push(e);break}}}}}let r=t.readInt(!0);if(r>0){let e=new q(r),i=n.slots.length;for(let n=0;n<r;n++){let s=t.readFloat(),r=t.readInt(!0),o=c.newArray(i,0);for(let t=i-1;t>=0;t--)o[t]=-1;let a=c.newArray(i-r,0),l=0,h=0;for(let e=0;e<r;e++){let e=t.readInt(!0);while(l!=e)a[h++]=l++;o[l+t.readInt(!0)]=l++}while(l<i)a[h++]=l++;for(let t=i-1;t>=0;t--)-1==o[t]&&(o[t]=a[--h]);e.setFrame(n,s,o)}s.push(e)}let o=t.readInt(!0);if(o>0){let e=new W(o);for(let s=0;s<o;s++){let i=t.readFloat(),r=n.events[t.readInt(!0)],o=new te(i,r);o.intValue=t.readInt(!1),o.floatValue=t.readFloat(),o.stringValue=t.readString(),null==o.stringValue&&(o.stringValue=r.stringValue),o.data.audioPath&&(o.volume=t.readFloat(),o.balance=t.readFloat()),e.setFrame(s,o)}s.push(e)}let a=0;for(let l=0,h=s.length;l<h;l++)a=Math.max(a,s[l].getDuration());return new v(e,s,a)}}class he{constructor(t,e=new Array,n=0,s=new DataView(t instanceof ArrayBuffer?t:t.buffer)){(0,o.A)(this,"strings",void 0),(0,o.A)(this,"index",void 0),(0,o.A)(this,"buffer",void 0),this.strings=e,this.index=n,this.buffer=s}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){let t=this.buffer.getInt16(this.index);return this.index+=2,t}readInt32(){let t=this.buffer.getInt32(this.index);return this.index+=4,t}readInt(t){let e=this.readByte(),n=127&e;return 0!=(128&e)&&(e=this.readByte(),n|=(127&e)<<7,0!=(128&e)&&(e=this.readByte(),n|=(127&e)<<14,0!=(128&e)&&(e=this.readByte(),n|=(127&e)<<21,0!=(128&e)&&(e=this.readByte(),n|=(127&e)<<28)))),t?n:n>>>1^-(1&n)}readStringRef(){let t=this.readInt(!0);return 0==t?null:this.strings[t-1]}readString(){let t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;let e="";for(let n=0;n<t;){let t=this.readUnsignedByte();switch(t>>4){case 12:case 13:e+=String.fromCharCode((31&t)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&t)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(t),n++}}return e}readFloat(){let t=this.buffer.getFloat32(this.index);return this.index+=4,t}readBoolean(){return 0!=this.readByte()}}class ce{constructor(t,e,n,s,i){(0,o.A)(this,"parent",void 0),(0,o.A)(this,"skinIndex",void 0),(0,o.A)(this,"slotIndex",void 0),(0,o.A)(this,"mesh",void 0),(0,o.A)(this,"inheritTimeline",void 0),this.mesh=t,this.skinIndex=e,this.slotIndex=n,this.parent=s,this.inheritTimeline=i}}class ue{constructor(t=null,e=null,n=0){(0,o.A)(this,"bones",void 0),(0,o.A)(this,"vertices",void 0),(0,o.A)(this,"length",void 0),this.bones=t,this.vertices=e,this.length=n}}function de(t,e,n){let s=t.readFloat(),i=t.readFloat()*n;for(let r=0,o=0,a=e.getFrameCount()-1;;r++){if(e.setFrame(r,s,i),r==a)break;let l=t.readFloat(),h=t.readFloat()*n;switch(t.readByte()){case qe:e.setStepped(r);break;case ze:pe(t,e,o++,r,0,s,l,i,h,n)}s=l,i=h}return e}function fe(t,e,n){let s=t.readFloat(),i=t.readFloat()*n,r=t.readFloat()*n;for(let o=0,a=0,l=e.getFrameCount()-1;;o++){if(e.setFrame(o,s,i,r),o==l)break;let h=t.readFloat(),c=t.readFloat()*n,u=t.readFloat()*n;switch(t.readByte()){case qe:e.setStepped(o);break;case ze:pe(t,e,a++,o,0,s,h,i,c,n),pe(t,e,a++,o,1,s,h,r,u,n)}s=h,i=c,r=u}return e}function pe(t,e,n,s,i,r,o,a,l,h){e.setBezier(n,s,i,r,a,t.readFloat(),t.readFloat()*h,t.readFloat(),t.readFloat()*h,o,l)}(function(t){t[t["Region"]=0]="Region",t[t["BoundingBox"]=1]="BoundingBox",t[t["Mesh"]=2]="Mesh",t[t["LinkedMesh"]=3]="LinkedMesh",t[t["Path"]=4]="Path",t[t["Point"]=5]="Point",t[t["Clipping"]=6]="Clipping"})(Ut||(Ut={}));const me=0,ge=1,ye=2,ve=3,be=4,we=5,xe=6,Ae=7,Ee=8,ke=9,Se=10,Ce=0,Te=1,Re=2,Ie=3,Me=4,_e=5,Fe=0,Oe=1,Le=0,Be=1,Pe=2,Ye=0,Ne=1,De=2,Xe=4,Ve=5,Ue=6,je=7,We=8,qe=1,ze=2;class Ge{constructor(){(0,o.A)(this,"minX",0),(0,o.A)(this,"minY",0),(0,o.A)(this,"maxX",0),(0,o.A)(this,"maxY",0),(0,o.A)(this,"boundingBoxes",new Array),(0,o.A)(this,"polygons",new Array),(0,o.A)(this,"polygonPool",new u((()=>c.newFloatArray(16))))}update(t,e){if(!t)throw new Error("skeleton cannot be null.");let n=this.boundingBoxes,s=this.polygons,i=this.polygonPool,r=t.slots,o=r.length;n.length=0,i.freeAll(s),s.length=0;for(let a=0;a<o;a++){let t=r[a];if(!t.bone.active)continue;let e=t.getAttachment();if(e instanceof bt){let r=e;n.push(r);let o=i.obtain();o.length!=r.worldVerticesLength&&(o=c.newFloatArray(r.worldVerticesLength)),s.push(o),r.computeWorldVertices(t,0,r.worldVerticesLength,o,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,i=this.polygons;for(let r=0,o=i.length;r<o;r++){let o=i[r],a=o;for(let i=0,r=o.length;i<r;i+=2){let r=a[i],o=a[i+1];t=Math.min(t,r),e=Math.min(e,o),n=Math.max(n,r),s=Math.max(s,o)}}this.minX=t,this.minY=e,this.maxX=n,this.maxY=s}aabbContainsPoint(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}aabbIntersectsSegment(t,e,n,s){let i=this.minX,r=this.minY,o=this.maxX,a=this.maxY;if(t<=i&&n<=i||e<=r&&s<=r||t>=o&&n>=o||e>=a&&s>=a)return!1;let l=(s-e)/(n-t),h=l*(i-t)+e;if(h>r&&h<a)return!0;if(h=l*(o-t)+e,h>r&&h<a)return!0;let c=(r-e)/l+t;return c>i&&c<o||(c=(a-e)/l+t,c>i&&c<o)}aabbIntersectsSkeleton(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}containsPoint(t,e){let n=this.polygons;for(let s=0,i=n.length;s<i;s++)if(this.containsPointPolygon(n[s],t,e))return this.boundingBoxes[s];return null}containsPointPolygon(t,e,n){let s=t,i=t.length,r=i-2,o=!1;for(let a=0;a<i;a+=2){let t=s[a+1],i=s[r+1];if(t<n&&i>=n||i<n&&t>=n){let l=s[a];l+(n-t)/(i-t)*(s[r]-l)<e&&(o=!o)}r=a}return o}intersectsSegment(t,e,n,s){let i=this.polygons;for(let r=0,o=i.length;r<o;r++)if(this.intersectsSegmentPolygon(i[r],t,e,n,s))return this.boundingBoxes[r];return null}intersectsSegmentPolygon(t,e,n,s,i){let r=t,o=t.length,a=e-s,l=n-i,h=e*i-n*s,c=r[o-2],u=r[o-1];for(let d=0;d<o;d+=2){let t=r[d],o=r[d+1],f=c*o-u*t,p=c-t,m=u-o,g=a*m-l*p,y=(h*p-a*f)/g;if((y>=c&&y<=t||y>=t&&y<=c)&&(y>=e&&y<=s||y>=s&&y<=e)){let t=(h*m-l*f)/g;if((t>=u&&t<=o||t>=o&&t<=u)&&(t>=n&&t<=i||t>=i&&t<=n))return!0}c=t,u=o}return!1}getPolygon(t){if(!t)throw new Error("boundingBox cannot be null.");let e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}class He{constructor(){(0,o.A)(this,"convexPolygons",new Array),(0,o.A)(this,"convexPolygonsIndices",new Array),(0,o.A)(this,"indicesArray",new Array),(0,o.A)(this,"isConcaveArray",new Array),(0,o.A)(this,"triangles",new Array),(0,o.A)(this,"polygonPool",new u((()=>new Array))),(0,o.A)(this,"polygonIndicesPool",new u((()=>new Array)))}triangulate(t){let e=t,n=t.length>>1,s=this.indicesArray;s.length=0;for(let o=0;o<n;o++)s[o]=o;let i=this.isConcaveArray;i.length=0;for(let o=0,a=n;o<a;++o)i[o]=He.isConcave(o,n,e,s);let r=this.triangles;r.length=0;while(n>3){let t=n-1,o=0,a=1;while(1){t:if(!i[o]){let r=s[t]<<1,l=s[o]<<1,h=s[a]<<1,c=e[r],u=e[r+1],d=e[l],f=e[l+1],p=e[h],m=e[h+1];for(let o=(a+1)%n;o!=t;o=(o+1)%n){if(!i[o])continue;let t=s[o]<<1,n=e[t],r=e[t+1];if(He.positiveArea(p,m,c,u,n,r)&&He.positiveArea(c,u,d,f,n,r)&&He.positiveArea(d,f,p,m,n,r))break t}break}if(0==a){do{if(!i[o])break;o--}while(o>0);break}t=o,o=a,a=(a+1)%n}r.push(s[(n+o-1)%n]),r.push(s[o]),r.push(s[(o+1)%n]),s.splice(o,1),i.splice(o,1),n--;let l=(n+o-1)%n,h=o==n?0:o;i[l]=He.isConcave(l,n,e,s),i[h]=He.isConcave(h,n,e,s)}return 3==n&&(r.push(s[2]),r.push(s[0]),r.push(s[1])),r}decompose(t,e){let n=t,s=this.convexPolygons;this.polygonPool.freeAll(s),s.length=0;let i=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(i),i.length=0;let r=this.polygonIndicesPool.obtain();r.length=0;let o=this.polygonPool.obtain();o.length=0;let a=-1,l=0;for(let h=0,c=e.length;h<c;h+=3){let t=e[h]<<1,c=e[h+1]<<1,u=e[h+2]<<1,d=n[t],f=n[t+1],p=n[c],m=n[c+1],g=n[u],y=n[u+1],v=!1;if(a==t){let t=o.length-4,e=He.winding(o[t],o[t+1],o[t+2],o[t+3],g,y),n=He.winding(g,y,o[0],o[1],o[2],o[3]);e==l&&n==l&&(o.push(g),o.push(y),r.push(u),v=!0)}v||(o.length>0?(s.push(o),i.push(r)):(this.polygonPool.free(o),this.polygonIndicesPool.free(r)),o=this.polygonPool.obtain(),o.length=0,o.push(d),o.push(f),o.push(p),o.push(m),o.push(g),o.push(y),r=this.polygonIndicesPool.obtain(),r.length=0,r.push(t),r.push(c),r.push(u),l=He.winding(d,f,p,m,g,y),a=t)}o.length>0&&(s.push(o),i.push(r));for(let h=0,c=s.length;h<c;h++){if(r=i[h],0==r.length)continue;let t=r[0],e=r[r.length-1];o=s[h];let n=o.length-4,a=o[n],l=o[n+1],u=o[n+2],d=o[n+3],f=o[0],p=o[1],m=o[2],g=o[3],y=He.winding(a,l,u,d,f,p);for(let v=0;v<c;v++){if(v==h)continue;let n=i[v];if(3!=n.length)continue;let c=n[0],b=n[1],w=n[2],x=s[v],A=x[x.length-2],E=x[x.length-1];if(c!=t||b!=e)continue;let k=He.winding(a,l,u,d,A,E),S=He.winding(A,E,f,p,m,g);k==y&&S==y&&(x.length=0,n.length=0,o.push(A),o.push(E),r.push(w),a=u,l=d,u=A,d=E,v=0)}}for(let h=s.length-1;h>=0;h--)o=s[h],0==o.length&&(s.splice(h,1),this.polygonPool.free(o),r=i[h],i.splice(h,1),this.polygonIndicesPool.free(r));return s}static isConcave(t,e,n,s){let i=s[(e+t-1)%e]<<1,r=s[t]<<1,o=s[(t+1)%e]<<1;return!this.positiveArea(n[i],n[i+1],n[r],n[r+1],n[o],n[o+1])}static positiveArea(t,e,n,s,i,r){return t*(r-s)+n*(e-r)+i*(s-e)>=0}static winding(t,e,n,s,i,r){let o=n-t,a=s-e;return i*a-r*o+o*e-t*a>=0?1:-1}}class $e{constructor(){(0,o.A)(this,"triangulator",new He),(0,o.A)(this,"clippingPolygon",new Array),(0,o.A)(this,"clipOutput",new Array),(0,o.A)(this,"clippedVertices",new Array),(0,o.A)(this,"clippedUVs",new Array),(0,o.A)(this,"clippedTriangles",new Array),(0,o.A)(this,"scratch",new Array),(0,o.A)(this,"clipAttachment",null),(0,o.A)(this,"clippingPolygons",null)}clipStart(t,e){if(this.clipAttachment)return 0;this.clipAttachment=e;let n=e.worldVerticesLength,s=c.setArraySize(this.clippingPolygon,n);e.computeWorldVertices(t,0,n,s,0,2);let i=this.clippingPolygon;$e.makeClockwise(i);let r=this.clippingPolygons=this.triangulator.decompose(i,this.triangulator.triangulate(i));for(let o=0,a=r.length;o<a;o++){let t=r[o];$e.makeClockwise(t),t.push(t[0]),t.push(t[1])}return r.length}clipEndWithSlot(t){this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()}clipEnd(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return null!=this.clipAttachment}clipTriangles(t,e,n,s,i,r,o,a){let l,h,c,u,d,f;"number"===typeof e?(l=n,h=s,c=i,u=r,d=o,f=a):(l=e,h=n,c=s,u=i,d=r,f=o),c&&u&&d&&"boolean"===typeof f?this.clipTrianglesRender(t,l,h,c,u,d,f):this.clipTrianglesNoRender(t,l,h)}clipTrianglesNoRender(t,e,n){let s=this.clipOutput,i=this.clippedVertices,r=this.clippedTriangles,o=this.clippingPolygons,a=o.length,l=0;i.length=0,r.length=0;for(let h=0;h<n;h+=3){let n=e[h]<<1,u=t[n],d=t[n+1];n=e[h+1]<<1;let f=t[n],p=t[n+1];n=e[h+2]<<1;let m=t[n],g=t[n+1];for(let t=0;t<a;t++){let e=i.length;if(!this.clip(u,d,f,p,m,g,o[t],s)){let t=c.setArraySize(i,e+6);t[e]=u,t[e+1]=d,t[e+2]=f,t[e+3]=p,t[e+4]=m,t[e+5]=g,e=r.length;let n=c.setArraySize(r,e+3);n[e]=l,n[e+1]=l+1,n[e+2]=l+2,l+=3;break}{let t=s.length;if(0==t)continue;let n=t>>1,o=this.clipOutput,a=c.setArraySize(i,e+2*n);for(let s=0;s<t;s+=2,e+=2){let t=o[s],n=o[s+1];a[e]=t,a[e+1]=n}e=r.length;let h=c.setArraySize(r,e+3*(n-2));n--;for(let s=1;s<n;s++,e+=3)h[e]=l,h[e+1]=l+s,h[e+2]=l+s+1;l+=n+1}}}}clipTrianglesRender(t,e,n,s,i,r,o){let a=this.clipOutput,l=this.clippedVertices,h=this.clippedTriangles,u=this.clippingPolygons,d=u.length,f=o?12:8,p=0;l.length=0,h.length=0;for(let m=0;m<n;m+=3){let n=e[m]<<1,g=t[n],y=t[n+1],v=s[n],b=s[n+1];n=e[m+1]<<1;let w=t[n],x=t[n+1],A=s[n],E=s[n+1];n=e[m+2]<<1;let k=t[n],S=t[n+1],C=s[n],T=s[n+1];for(let t=0;t<d;t++){let e=l.length;if(!this.clip(g,y,w,x,k,S,u[t],a)){let t=c.setArraySize(l,e+3*f);t[e]=g,t[e+1]=y,t[e+2]=i.r,t[e+3]=i.g,t[e+4]=i.b,t[e+5]=i.a,o?(t[e+6]=v,t[e+7]=b,t[e+8]=r.r,t[e+9]=r.g,t[e+10]=r.b,t[e+11]=r.a,t[e+12]=w,t[e+13]=x,t[e+14]=i.r,t[e+15]=i.g,t[e+16]=i.b,t[e+17]=i.a,t[e+18]=A,t[e+19]=E,t[e+20]=r.r,t[e+21]=r.g,t[e+22]=r.b,t[e+23]=r.a,t[e+24]=k,t[e+25]=S,t[e+26]=i.r,t[e+27]=i.g,t[e+28]=i.b,t[e+29]=i.a,t[e+30]=C,t[e+31]=T,t[e+32]=r.r,t[e+33]=r.g,t[e+34]=r.b,t[e+35]=r.a):(t[e+6]=v,t[e+7]=b,t[e+8]=w,t[e+9]=x,t[e+10]=i.r,t[e+11]=i.g,t[e+12]=i.b,t[e+13]=i.a,t[e+14]=A,t[e+15]=E,t[e+16]=k,t[e+17]=S,t[e+18]=i.r,t[e+19]=i.g,t[e+20]=i.b,t[e+21]=i.a,t[e+22]=C,t[e+23]=T),e=h.length;let n=c.setArraySize(h,e+3);n[e]=p,n[e+1]=p+1,n[e+2]=p+2,p+=3;break}{let t=a.length;if(0==t)continue;let n=x-S,s=k-w,u=g-k,d=S-y,m=1/(n*u+s*(y-S)),R=t>>1,I=this.clipOutput,M=c.setArraySize(l,e+R*f);for(let a=0;a<t;a+=2,e+=f){let t=I[a],l=I[a+1];M[e]=t,M[e+1]=l,M[e+2]=i.r,M[e+3]=i.g,M[e+4]=i.b,M[e+5]=i.a;let h=t-k,c=l-S,f=(n*h+s*c)*m,p=(d*h+u*c)*m,g=1-f-p;M[e+6]=v*f+A*p+C*g,M[e+7]=b*f+E*p+T*g,o&&(M[e+8]=r.r,M[e+9]=r.g,M[e+10]=r.b,M[e+11]=r.a)}e=h.length;let _=c.setArraySize(h,e+3*(R-2));R--;for(let i=1;i<R;i++,e+=3)_[e]=p,_[e+1]=p+i,_[e+2]=p+i+1;p+=R+1}}}}clipTrianglesUnpacked(t,e,n,s){let i=this.clipOutput,r=this.clippedVertices,o=this.clippedUVs,a=this.clippedTriangles,l=this.clippingPolygons,h=l.length,u=0;r.length=0,o.length=0,a.length=0;for(let d=0;d<n;d+=3){let n=e[d]<<1,f=t[n],p=t[n+1],m=s[n],g=s[n+1];n=e[d+1]<<1;let y=t[n],v=t[n+1],b=s[n],w=s[n+1];n=e[d+2]<<1;let x=t[n],A=t[n+1],E=s[n],k=s[n+1];for(let t=0;t<h;t++){let e=r.length;if(!this.clip(f,p,y,v,x,A,l[t],i)){let t=c.setArraySize(r,e+6);t[e]=f,t[e+1]=p,t[e+2]=y,t[e+3]=v,t[e+4]=x,t[e+5]=A;let n=c.setArraySize(o,e+6);n[e]=m,n[e+1]=g,n[e+2]=b,n[e+3]=w,n[e+4]=E,n[e+5]=k,e=a.length;let s=c.setArraySize(a,e+3);s[e]=u,s[e+1]=u+1,s[e+2]=u+2,u+=3;break}{let t=i.length;if(0==t)continue;let n=v-A,s=x-y,l=f-x,h=A-p,d=1/(n*l+s*(p-A)),S=t>>1,C=this.clipOutput,T=c.setArraySize(r,e+2*S),R=c.setArraySize(o,e+2*S);for(let i=0;i<t;i+=2,e+=2){let t=C[i],r=C[i+1];T[e]=t,T[e+1]=r;let o=t-x,a=r-A,c=(n*o+s*a)*d,u=(h*o+l*a)*d,f=1-c-u;R[e]=m*c+b*u+E*f,R[e+1]=g*c+w*u+k*f}e=a.length;let I=c.setArraySize(a,e+3*(S-2));S--;for(let i=1;i<S;i++,e+=3)I[e]=u,I[e+1]=u+i,I[e+2]=u+i+1;u+=S+1}}}}clip(t,e,n,s,i,r,o,a){let l,h=a,c=!1;o.length%4>=2?(l=a,a=this.scratch):l=this.scratch,l.length=0,l.push(t),l.push(e),l.push(n),l.push(s),l.push(i),l.push(r),l.push(t),l.push(e),a.length=0;let u=o.length-4,d=o;for(let f=0;;f+=2){let t=d[f],e=d[f+1],n=t-d[f+2],s=e-d[f+3],i=a.length,r=l;for(let h=0,u=l.length-2;h<u;){let i=r[h],o=r[h+1];h+=2;let l=r[h],u=r[h+1],d=s*(t-l)>n*(e-u),f=s*(t-i)-n*(e-o);if(f>0){if(d){a.push(l),a.push(u);continue}let t=l-i,e=u-o,r=f/(t*s-e*n);if(!(r>=0&&r<=1)){a.push(l),a.push(u);continue}a.push(i+t*r),a.push(o+e*r)}else if(d){let t=l-i,e=u-o,r=f/(t*s-e*n);if(!(r>=0&&r<=1)){a.push(l),a.push(u);continue}a.push(i+t*r),a.push(o+e*r),a.push(l),a.push(u)}c=!0}if(i==a.length)return h.length=0,!0;if(a.push(a[0]),a.push(a[1]),f==u)break;let o=a;a=l,a.length=0,l=o}if(h!=a){h.length=0;for(let t=0,e=a.length-2;t<e;t++)h[t]=a[t]}else h.length=h.length-2;return c}static makeClockwise(t){let e=t,n=t.length,s=e[n-2]*e[1]-e[0]*e[n-1],i=0,r=0,o=0,a=0;for(let l=0,h=n-3;l<h;l+=2)i=e[l],r=e[l+1],o=e[l+2],a=e[l+3],s+=i*a-o*r;if(!(s<0))for(let l=0,h=n-2,c=n>>1;l<c;l+=2){let t=e[l],n=e[l+1],s=h-l;e[l]=e[s],e[l+1]=e[s+1],e[s]=t,e[s+1]=n}}}class Ze{constructor(t){(0,o.A)(this,"attachmentLoader",void 0),(0,o.A)(this,"scale",1),(0,o.A)(this,"linkedMeshes",new Array),this.attachmentLoader=t}readSkeletonData(t){let e=this.scale,n=new se,s="string"===typeof t?JSON.parse(t):t,i=s.skeleton;if(i&&(n.hash=i.hash,n.version=i.spine,n.x=i.x,n.y=i.y,n.width=i.width,n.height=i.height,n.referenceScale=en(i,"referenceScale",100)*e,n.fps=i.fps,n.imagesPath=i.images??null,n.audioPath=i.audio??null),s.bones)for(let r=0;r<s.bones.length;r++){let t=s.bones[r],i=null,o=en(t,"parent",null);o&&(i=n.findBone(o));let a=new Bt(n.bones.length,t.name,i);a.length=en(t,"length",0)*e,a.x=en(t,"x",0)*e,a.y=en(t,"y",0)*e,a.rotation=en(t,"rotation",0),a.scaleX=en(t,"scaleX",1),a.scaleY=en(t,"scaleY",1),a.shearX=en(t,"shearX",0),a.shearY=en(t,"shearY",0),a.inherit=c.enumValue(kt,en(t,"inherit","Normal")),a.skinRequired=en(t,"skin",!1);let l=en(t,"color",null);l&&a.color.setFromString(l),n.bones.push(a)}if(s.slots)for(let r=0;r<s.slots.length;r++){let t=s.slots[r],e=t.name,i=n.findBone(t.bone);if(!i)throw new Error(`Couldn't find bone ${t.bone} for slot ${e}`);let o=new oe(n.slots.length,e,i),a=en(t,"color",null);a&&o.color.setFromString(a);let h=en(t,"dark",null);h&&(o.darkColor=l.fromString(h)),o.attachmentName=en(t,"attachment",null),o.blendMode=c.enumValue(Vt,en(t,"blend","normal")),o.visible=en(t,"visible",!0),n.slots.push(o)}if(s.ik)for(let r=0;r<s.ik.length;r++){let t=s.ik[r],i=new Gt(t.name);i.order=en(t,"order",0),i.skinRequired=en(t,"skin",!1);for(let e=0;e<t.bones.length;e++){let s=n.findBone(t.bones[e]);if(!s)throw new Error(`Couldn't find bone ${t.bones[e]} for IK constraint ${t.name}.`);i.bones.push(s)}let o=n.findBone(t.target);if(!o)throw new Error(`Couldn't find target bone ${t.target} for IK constraint ${t.name}.`);i.target=o,i.mix=en(t,"mix",1),i.softness=en(t,"softness",0)*e,i.bendDirection=en(t,"bendPositive",!0)?1:-1,i.compress=en(t,"compress",!1),i.stretch=en(t,"stretch",!1),i.uniform=en(t,"uniform",!1),n.ikConstraints.push(i)}if(s.transform)for(let r=0;r<s.transform.length;r++){let t=s.transform[r],i=new ae(t.name);i.order=en(t,"order",0),i.skinRequired=en(t,"skin",!1);for(let e=0;e<t.bones.length;e++){let s=t.bones[e],r=n.findBone(s);if(!r)throw new Error(`Couldn't find bone ${s} for transform constraint ${t.name}.`);i.bones.push(r)}let o=t.target,a=n.findBone(o);if(!a)throw new Error(`Couldn't find target bone ${o} for transform constraint ${t.name}.`);i.target=a,i.local=en(t,"local",!1),i.relative=en(t,"relative",!1),i.offsetRotation=en(t,"rotation",0),i.offsetX=en(t,"x",0)*e,i.offsetY=en(t,"y",0)*e,i.offsetScaleX=en(t,"scaleX",0),i.offsetScaleY=en(t,"scaleY",0),i.offsetShearY=en(t,"shearY",0),i.mixRotate=en(t,"mixRotate",1),i.mixX=en(t,"mixX",1),i.mixY=en(t,"mixY",i.mixX),i.mixScaleX=en(t,"mixScaleX",1),i.mixScaleY=en(t,"mixScaleY",i.mixScaleX),i.mixShearY=en(t,"mixShearY",1),n.transformConstraints.push(i)}if(s.path)for(let r=0;r<s.path.length;r++){let t=s.path[r],i=new Ht(t.name);i.order=en(t,"order",0),i.skinRequired=en(t,"skin",!1);for(let e=0;e<t.bones.length;e++){let s=t.bones[e],r=n.findBone(s);if(!r)throw new Error(`Couldn't find bone ${s} for path constraint ${t.name}.`);i.bones.push(r)}let o=t.target,a=n.findSlot(o);if(!a)throw new Error(`Couldn't find target slot ${o} for path constraint ${t.name}.`);i.target=a,i.positionMode=c.enumValue(Yt,en(t,"positionMode","Percent")),i.spacingMode=c.enumValue(Nt,en(t,"spacingMode","Length")),i.rotateMode=c.enumValue(Dt,en(t,"rotateMode","Tangent")),i.offsetRotation=en(t,"rotation",0),i.position=en(t,"position",0),i.positionMode==Yt.Fixed&&(i.position*=e),i.spacing=en(t,"spacing",0),i.spacingMode!=Nt.Length&&i.spacingMode!=Nt.Fixed||(i.spacing*=e),i.mixRotate=en(t,"mixRotate",1),i.mixX=en(t,"mixX",1),i.mixY=en(t,"mixY",i.mixX),n.pathConstraints.push(i)}if(s.physics)for(let r=0;r<s.physics.length;r++){const t=s.physics[r],i=new ne(t.name);i.order=en(t,"order",0),i.skinRequired=en(t,"skin",!1);const o=t.bone,a=n.findBone(o);if(null==a)throw new Error("Physics bone not found: "+o);i.bone=a,i.x=en(t,"x",0),i.y=en(t,"y",0),i.rotate=en(t,"rotate",0),i.scaleX=en(t,"scaleX",0),i.shearX=en(t,"shearX",0),i.limit=en(t,"limit",5e3)*e,i.step=1/en(t,"fps",60),i.inertia=en(t,"inertia",1),i.strength=en(t,"strength",100),i.damping=en(t,"damping",1),i.massInverse=1/en(t,"mass",1),i.wind=en(t,"wind",0),i.gravity=en(t,"gravity",0),i.mix=en(t,"mix",1),i.inertiaGlobal=en(t,"inertiaGlobal",!1),i.strengthGlobal=en(t,"strengthGlobal",!1),i.dampingGlobal=en(t,"dampingGlobal",!1),i.massGlobal=en(t,"massGlobal",!1),i.windGlobal=en(t,"windGlobal",!1),i.gravityGlobal=en(t,"gravityGlobal",!1),i.mixGlobal=en(t,"mixGlobal",!1),n.physicsConstraints.push(i)}if(s.skins)for(let r=0;r<s.skins.length;r++){let t=s.skins[r],e=new re(t.name);if(t.bones)for(let s=0;s<t.bones.length;s++){let i=t.bones[s],r=n.findBone(i);if(!r)throw new Error(`Couldn't find bone ${i} for skin ${t.name}.`);e.bones.push(r)}if(t.ik)for(let s=0;s<t.ik.length;s++){let i=t.ik[s],r=n.findIkConstraint(i);if(!r)throw new Error(`Couldn't find IK constraint ${i} for skin ${t.name}.`);e.constraints.push(r)}if(t.transform)for(let s=0;s<t.transform.length;s++){let i=t.transform[s],r=n.findTransformConstraint(i);if(!r)throw new Error(`Couldn't find transform constraint ${i} for skin ${t.name}.`);e.constraints.push(r)}if(t.path)for(let s=0;s<t.path.length;s++){let i=t.path[s],r=n.findPathConstraint(i);if(!r)throw new Error(`Couldn't find path constraint ${i} for skin ${t.name}.`);e.constraints.push(r)}if(t.physics)for(let s=0;s<t.physics.length;s++){let i=t.physics[s],r=n.findPhysicsConstraint(i);if(!r)throw new Error(`Couldn't find physics constraint ${i} for skin ${t.name}.`);e.constraints.push(r)}for(let s in t.attachments){let i=n.findSlot(s);if(!i)throw new Error(`Couldn't find slot ${s} for skin ${t.name}.`);let r=t.attachments[s];for(let t in r){let s=this.readAttachment(r[t],e,i.index,t,n);s&&e.setAttachment(i.index,t,s)}}n.skins.push(e),"default"==e.name&&(n.defaultSkin=e)}for(let r=0,o=this.linkedMeshes.length;r<o;r++){let t=this.linkedMeshes[r],e=t.skin?n.findSkin(t.skin):n.defaultSkin;if(!e)throw new Error(`Skin not found: ${t.skin}`);let s=e.getAttachment(t.slotIndex,t.parent);if(!s)throw new Error(`Parent mesh not found: ${t.parent}`);t.mesh.timelineAttachment=t.inheritTimeline?s:t.mesh,t.mesh.setParentMesh(s),null!=t.mesh.region&&t.mesh.updateRegion()}if(this.linkedMeshes.length=0,s.events)for(let r in s.events){let t=s.events[r],e=new ee(r);e.intValue=en(t,"int",0),e.floatValue=en(t,"float",0),e.stringValue=en(t,"string",""),e.audioPath=en(t,"audio",null),e.audioPath&&(e.volume=en(t,"volume",1),e.balance=en(t,"balance",0)),n.events.push(e)}if(s.animations)for(let r in s.animations){let t=s.animations[r];this.readAnimation(t,r,n)}return n}readAttachment(t,e,n,s,i){let r=this.scale;switch(s=en(t,"name",s),en(t,"type","region")){case"region":{let n=en(t,"path",s),i=this.readSequence(en(t,"sequence",null)),o=this.attachmentLoader.newRegionAttachment(e,s,n,i);if(!o)return null;o.path=n,o.x=en(t,"x",0)*r,o.y=en(t,"y",0)*r,o.scaleX=en(t,"scaleX",1),o.scaleY=en(t,"scaleY",1),o.rotation=en(t,"rotation",0),o.width=t.width*r,o.height=t.height*r,o.sequence=i;let a=en(t,"color",null);return a&&o.color.setFromString(a),null!=o.region&&o.updateRegion(),o}case"boundingbox":{let n=this.attachmentLoader.newBoundingBoxAttachment(e,s);if(!n)return null;this.readVertices(t,n,t.vertexCount<<1);let i=en(t,"color",null);return i&&n.color.setFromString(i),n}case"mesh":case"linkedmesh":{let i=en(t,"path",s),o=this.readSequence(en(t,"sequence",null)),a=this.attachmentLoader.newMeshAttachment(e,s,i,o);if(!a)return null;a.path=i;let l=en(t,"color",null);l&&a.color.setFromString(l),a.width=en(t,"width",0)*r,a.height=en(t,"height",0)*r,a.sequence=o;let h=en(t,"parent",null);if(h)return this.linkedMeshes.push(new Ke(a,en(t,"skin",null),n,h,en(t,"timelines",!0))),a;let c=t.uvs;return this.readVertices(t,a,c.length),a.triangles=t.triangles,a.regionUVs=c,null!=a.region&&a.updateRegion(),a.edges=en(t,"edges",null),a.hullLength=2*en(t,"hull",0),a}case"path":{let n=this.attachmentLoader.newPathAttachment(e,s);if(!n)return null;n.closed=en(t,"closed",!1),n.constantSpeed=en(t,"constantSpeed",!0);let i=t.vertexCount;this.readVertices(t,n,i<<1);let o=c.newArray(i/3,0);for(let e=0;e<t.lengths.length;e++)o[e]=t.lengths[e]*r;n.lengths=o;let a=en(t,"color",null);return a&&n.color.setFromString(a),n}case"point":{let n=this.attachmentLoader.newPointAttachment(e,s);if(!n)return null;n.x=en(t,"x",0)*r,n.y=en(t,"y",0)*r,n.rotation=en(t,"rotation",0);let i=en(t,"color",null);return i&&n.color.setFromString(i),n}case"clipping":{let n=this.attachmentLoader.newClippingAttachment(e,s);if(!n)return null;let r=en(t,"end",null);r&&(n.endSlot=i.findSlot(r));let o=t.vertexCount;this.readVertices(t,n,o<<1);let a=en(t,"color",null);return a&&n.color.setFromString(a),n}}return null}readSequence(t){if(null==t)return null;let e=new g(en(t,"count",0));return e.start=en(t,"start",1),e.digits=en(t,"digits",0),e.setupIndex=en(t,"setup",0),e}readVertices(t,e,n){let s=this.scale;e.worldVerticesLength=n;let i=t.vertices;if(n==i.length){let t=c.toFloatArray(i);if(1!=s)for(let e=0,n=i.length;e<n;e++)t[e]*=s;return void(e.vertices=t)}let r=new Array,o=new Array;for(let a=0,l=i.length;a<l;){let t=i[a++];o.push(t);for(let e=a+4*t;a<e;a+=4)o.push(i[a]),r.push(i[a+1]*s),r.push(i[a+2]*s),r.push(i[a+3])}e.bones=o,e.vertices=c.toFloatArray(r)}readAnimation(t,e,n){let s=this.scale,i=new Array;if(t.slots)for(let r in t.slots){let e=t.slots[r],s=n.findSlot(r);if(!s)throw new Error("Slot not found: "+r);let o=s.index;for(let t in e){let n=e[t];if(!n)continue;let s=n.length;if("attachment"==t){let t=new U(s,o);for(let e=0;e<s;e++){let s=n[e];t.setFrame(e,en(s,"time",0),en(s,"name",null))}i.push(t)}else if("rgba"==t){let t=new Y(s,s<<2,o),e=n[0],r=en(e,"time",0),a=l.fromString(e.color);for(let s=0,i=0;;s++){t.setFrame(s,r,a.r,a.g,a.b,a.a);let o=n[s+1];if(!o){t.shrink(i);break}let h=en(o,"time",0),c=l.fromString(o.color),u=e.curve;u&&(i=tn(u,t,i,s,0,r,h,a.r,c.r,1),i=tn(u,t,i,s,1,r,h,a.g,c.g,1),i=tn(u,t,i,s,2,r,h,a.b,c.b,1),i=tn(u,t,i,s,3,r,h,a.a,c.a,1)),r=h,a=c,e=o}i.push(t)}else if("rgb"==t){let t=new N(s,3*s,o),e=n[0],r=en(e,"time",0),a=l.fromString(e.color);for(let s=0,i=0;;s++){t.setFrame(s,r,a.r,a.g,a.b);let o=n[s+1];if(!o){t.shrink(i);break}let h=en(o,"time",0),c=l.fromString(o.color),u=e.curve;u&&(i=tn(u,t,i,s,0,r,h,a.r,c.r,1),i=tn(u,t,i,s,1,r,h,a.g,c.g,1),i=tn(u,t,i,s,2,r,h,a.b,c.b,1)),r=h,a=c,e=o}i.push(t)}else if("alpha"==t)i.push(Je(n,new D(s,s,o),0,1));else if("rgba2"==t){let t=new X(s,7*s,o),e=n[0],r=en(e,"time",0),a=l.fromString(e.light),h=l.fromString(e.dark);for(let s=0,i=0;;s++){t.setFrame(s,r,a.r,a.g,a.b,a.a,h.r,h.g,h.b);let o=n[s+1];if(!o){t.shrink(i);break}let c=en(o,"time",0),u=l.fromString(o.light),d=l.fromString(o.dark),f=e.curve;f&&(i=tn(f,t,i,s,0,r,c,a.r,u.r,1),i=tn(f,t,i,s,1,r,c,a.g,u.g,1),i=tn(f,t,i,s,2,r,c,a.b,u.b,1),i=tn(f,t,i,s,3,r,c,a.a,u.a,1),i=tn(f,t,i,s,4,r,c,h.r,d.r,1),i=tn(f,t,i,s,5,r,c,h.g,d.g,1),i=tn(f,t,i,s,6,r,c,h.b,d.b,1)),r=c,a=u,h=d,e=o}i.push(t)}else if("rgb2"==t){let t=new V(s,6*s,o),e=n[0],r=en(e,"time",0),a=l.fromString(e.light),h=l.fromString(e.dark);for(let s=0,i=0;;s++){t.setFrame(s,r,a.r,a.g,a.b,h.r,h.g,h.b);let o=n[s+1];if(!o){t.shrink(i);break}let c=en(o,"time",0),u=l.fromString(o.light),d=l.fromString(o.dark),f=e.curve;f&&(i=tn(f,t,i,s,0,r,c,a.r,u.r,1),i=tn(f,t,i,s,1,r,c,a.g,u.g,1),i=tn(f,t,i,s,2,r,c,a.b,u.b,1),i=tn(f,t,i,s,3,r,c,h.r,d.r,1),i=tn(f,t,i,s,4,r,c,h.g,d.g,1),i=tn(f,t,i,s,5,r,c,h.b,d.b,1)),r=c,a=u,h=d,e=o}i.push(t)}}}if(t.bones)for(let r in t.bones){let e=t.bones[r],o=n.findBone(r);if(!o)throw new Error("Bone not found: "+r);let a=o.index;for(let t in e){let n=e[t],r=n.length;if(0!=r)if("rotate"===t)i.push(Je(n,new C(r,r,a),0,1));else if("translate"===t){let t=new T(r,r<<1,a);i.push(Qe(n,t,"x","y",0,s))}else if("translatex"===t){let t=new R(r,r,a);i.push(Je(n,t,0,s))}else if("translatey"===t){let t=new I(r,r,a);i.push(Je(n,t,0,s))}else if("scale"===t){let t=new M(r,r<<1,a);i.push(Qe(n,t,"x","y",1,1))}else if("scalex"===t){let t=new _(r,r,a);i.push(Je(n,t,1,1))}else if("scaley"===t){let t=new F(r,r,a);i.push(Je(n,t,1,1))}else if("shear"===t){let t=new O(r,r<<1,a);i.push(Qe(n,t,"x","y",0,1))}else if("shearx"===t){let t=new L(r,r,a);i.push(Je(n,t,0,1))}else if("sheary"===t){let t=new B(r,r,a);i.push(Je(n,t,0,1))}else if("inherit"===t){let t=new P(r,o.index);for(let e=0;e<n.length;e++){let s=n[e];t.setFrame(e,en(s,"time",0),c.enumValue(kt,en(s,"inherit","Normal")))}i.push(t)}}}if(t.ik)for(let r in t.ik){let e=t.ik[r],o=e[0];if(!o)continue;let a=n.findIkConstraint(r);if(!a)throw new Error("IK Constraint not found: "+r);let l=n.ikConstraints.indexOf(a),h=new z(e.length,e.length<<1,l),c=en(o,"time",0),u=en(o,"mix",1),d=en(o,"softness",0)*s;for(let t=0,n=0;;t++){h.setFrame(t,c,u,d,en(o,"bendPositive",!0)?1:-1,en(o,"compress",!1),en(o,"stretch",!1));let i=e[t+1];if(!i){h.shrink(n);break}let r=en(i,"time",0),a=en(i,"mix",1),l=en(i,"softness",0)*s,f=o.curve;f&&(n=tn(f,h,n,t,0,c,r,u,a,1),n=tn(f,h,n,t,1,c,r,d,l,s)),c=r,u=a,d=l,o=i}i.push(h)}if(t.transform)for(let r in t.transform){let e=t.transform[r],s=e[0];if(!s)continue;let o=n.findTransformConstraint(r);if(!o)throw new Error("Transform constraint not found: "+r);let a=n.transformConstraints.indexOf(o),l=new G(e.length,6*e.length,a),h=en(s,"time",0),c=en(s,"mixRotate",1),u=en(s,"mixX",1),d=en(s,"mixY",u),f=en(s,"mixScaleX",1),p=en(s,"mixScaleY",f),m=en(s,"mixShearY",1);for(let t=0,n=0;;t++){l.setFrame(t,h,c,u,d,f,p,m);let i=e[t+1];if(!i){l.shrink(n);break}let r=en(i,"time",0),o=en(i,"mixRotate",1),a=en(i,"mixX",1),g=en(i,"mixY",a),y=en(i,"mixScaleX",1),v=en(i,"mixScaleY",y),b=en(i,"mixShearY",1),w=s.curve;w&&(n=tn(w,l,n,t,0,h,r,c,o,1),n=tn(w,l,n,t,1,h,r,u,a,1),n=tn(w,l,n,t,2,h,r,d,g,1),n=tn(w,l,n,t,3,h,r,f,y,1),n=tn(w,l,n,t,4,h,r,p,v,1),n=tn(w,l,n,t,5,h,r,m,b,1)),h=r,c=o,u=a,d=g,f=y,p=v,f=y,s=i}i.push(l)}if(t.path)for(let r in t.path){let e=t.path[r],o=n.findPathConstraint(r);if(!o)throw new Error("Path constraint not found: "+r);let a=n.pathConstraints.indexOf(o);for(let t in e){let n=e[t],r=n[0];if(!r)continue;let l=n.length;if("position"===t){let t=new H(l,l,a);i.push(Je(n,t,0,o.positionMode==Yt.Fixed?s:1))}else if("spacing"===t){let t=new $(l,l,a);i.push(Je(n,t,0,o.spacingMode==Nt.Length||o.spacingMode==Nt.Fixed?s:1))}else if("mix"===t){let t=new Z(l,3*l,a),e=en(r,"time",0),s=en(r,"mixRotate",1),o=en(r,"mixX",1),h=en(r,"mixY",o);for(let i=0,a=0;;i++){t.setFrame(i,e,s,o,h);let l=n[i+1];if(!l){t.shrink(a);break}let c=en(l,"time",0),u=en(l,"mixRotate",1),d=en(l,"mixX",1),f=en(l,"mixY",d),p=r.curve;p&&(a=tn(p,t,a,i,0,e,c,s,u,1),a=tn(p,t,a,i,1,e,c,o,d,1),a=tn(p,t,a,i,2,e,c,h,f,1)),e=c,s=u,o=d,h=f,r=l}i.push(t)}}}if(t.physics)for(let r in t.physics){let e=t.physics[r],s=-1;if(r.length>0){let t=n.findPhysicsConstraint(r);if(!t)throw new Error("Physics constraint not found: "+r);s=n.physicsConstraints.indexOf(t)}for(let t in e){let n=e[t],r=n[0];if(!r)continue;let o,a=n.length;if("reset"!=t){if("inertia"==t)o=new J(a,a,s);else if("strength"==t)o=new Q(a,a,s);else if("damping"==t)o=new tt(a,a,s);else if("mass"==t)o=new et(a,a,s);else if("wind"==t)o=new nt(a,a,s);else if("gravity"==t)o=new st(a,a,s);else{if("mix"!=t)continue;o=new it(a,a,s)}i.push(Je(n,o,0,1))}else{const t=new rt(a,s);for(let e=0;null!=r;r=n[e+1],e++)t.setFrame(e,en(r,"time",0));i.push(t)}}}if(t.attachments)for(let a in t.attachments){let e=t.attachments[a],o=n.findSkin(a);if(!o)throw new Error("Skin not found: "+a);for(let t in e){let a=e[t],l=n.findSlot(t);if(!l)throw new Error("Slot not found: "+t);let h=l.index;for(let t in a){let e=a[t],n=o.getAttachment(h,t);for(let t in e){let o=e[t],a=o[0];if(a)if("deform"==t){let t=n.bones,e=n.vertices,r=t?e.length/3*2:e.length,l=new j(o.length,o.length,h,n),u=en(a,"time",0);for(let n=0,i=0;;n++){let h,d=en(a,"vertices",null);if(d){h=c.newFloatArray(r);let n=en(a,"offset",0);if(c.arrayCopy(d,0,h,n,d.length),1!=s)for(let t=n,e=t+d.length;t<e;t++)h[t]*=s;if(!t)for(let t=0;t<r;t++)h[t]+=e[t]}else h=t?c.newFloatArray(r):e;l.setFrame(n,u,h);let f=o[n+1];if(!f){l.shrink(i);break}let p=en(f,"time",0),m=a.curve;m&&(i=tn(m,l,i,n,0,u,p,0,1,1)),u=p,a=f}i.push(l)}else if("sequence"==t){let t=new ot(o.length,h,n),e=0;for(let n=0;n<o.length;n++){let s=en(a,"delay",e),i=en(a,"time",0),l=r[en(a,"mode","hold")],h=en(a,"index",0);t.setFrame(n,i,l,h,s),e=s,a=o[n+1]}i.push(t)}}}}}if(t.drawOrder){let e=new q(t.drawOrder.length),s=n.slots.length,r=0;for(let i=0;i<t.drawOrder.length;i++,r++){let o=t.drawOrder[i],a=null,l=en(o,"offsets",null);if(l){a=c.newArray(s,-1);let t=c.newArray(s-l.length,0),e=0,i=0;for(let s=0;s<l.length;s++){let r=l[s],o=n.findSlot(r.slot);if(!o)throw new Error("Slot not found: "+o);let h=o.index;while(e!=h)t[i++]=e++;a[e+r.offset]=e++}while(e<s)t[i++]=e++;for(let n=s-1;n>=0;n--)-1==a[n]&&(a[n]=t[--i])}e.setFrame(r,en(o,"time",0),a)}i.push(e)}if(t.events){let e=new W(t.events.length),s=0;for(let i=0;i<t.events.length;i++,s++){let r=t.events[i],o=n.findEvent(r.name);if(!o)throw new Error("Event not found: "+r.name);let a=new te(c.toSinglePrecision(en(r,"time",0)),o);a.intValue=en(r,"int",o.intValue),a.floatValue=en(r,"float",o.floatValue),a.stringValue=en(r,"string",o.stringValue),a.data.audioPath&&(a.volume=en(r,"volume",1),a.balance=en(r,"balance",0)),e.setFrame(s,a)}i.push(e)}let o=0;for(let r=0,a=i.length;r<a;r++)o=Math.max(o,i[r].getDuration());n.animations.push(new v(e,i,o))}}class Ke{constructor(t,e,n,s,i){(0,o.A)(this,"parent",void 0),(0,o.A)(this,"skin",void 0),(0,o.A)(this,"slotIndex",void 0),(0,o.A)(this,"mesh",void 0),(0,o.A)(this,"inheritTimeline",void 0),this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=s,this.inheritTimeline=i}}function Je(t,e,n,s){let i=t[0],r=en(i,"time",0),o=en(i,"value",n)*s,a=0;for(let l=0;;l++){e.setFrame(l,r,o);let h=t[l+1];if(!h)return e.shrink(a),e;let c=en(h,"time",0),u=en(h,"value",n)*s;i.curve&&(a=tn(i.curve,e,a,l,0,r,c,o,u,s)),r=c,o=u,i=h}}function Qe(t,e,n,s,i,r){let o=t[0],a=en(o,"time",0),l=en(o,n,i)*r,h=en(o,s,i)*r,c=0;for(let u=0;;u++){e.setFrame(u,a,l,h);let d=t[u+1];if(!d)return e.shrink(c),e;let f=en(d,"time",0),p=en(d,n,i)*r,m=en(d,s,i)*r,g=o.curve;g&&(c=tn(g,e,c,u,0,a,f,l,p,r),c=tn(g,e,c,u,1,a,f,h,m,r)),a=f,l=p,h=m,o=d}}function tn(t,e,n,s,i,r,o,a,l,h){if("stepped"==t)return e.setStepped(s),n;let c=i<<2,u=t[c],d=t[c+1]*h,f=t[c+2],p=t[c+3]*h;return e.setBezier(n,s,i,r,a,u,d,f,p,o,l),n+1}function en(t,e,n){return void 0!==t[e]?t[e]:n}(()=>{"undefined"===typeof Math.fround&&(Math.fround=function(t){return function(e){return t[0]=e,t[0]}}(new Float32Array(1)))})();class nn{constructor(t,e={alpha:"true"}){if((0,o.A)(this,"canvas",void 0),(0,o.A)(this,"gl",void 0),(0,o.A)(this,"restorables",new Array),t instanceof WebGLRenderingContext||"undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext)this.gl=t,this.canvas=this.gl.canvas;else{let n=t;this.gl=n.getContext("webgl2",e)||n.getContext("webgl",e),this.canvas=n,n.addEventListener("webglcontextlost",(t=>{t&&t.preventDefault()})),n.addEventListener("webglcontextrestored",(t=>{for(let e=0,n=this.restorables.length;e<n;e++)this.restorables[e].restore()}))}}addRestorable(t){this.restorables.push(t)}removeRestorable(t){let e=this.restorables.indexOf(t);e>-1&&this.restorables.splice(e,1)}}class sn extends xt{constructor(t,e,n=!1){super(e),(0,o.A)(this,"context",void 0),(0,o.A)(this,"texture",null),(0,o.A)(this,"boundUnit",0),(0,o.A)(this,"useMipMaps",!1),this.context=t instanceof nn?t:new nn(t),this.useMipMaps=n,this.restore(),this.context.addRestorable(this)}setFilters(t,e){let n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,sn.validateMagFilter(e)),this.useMipMaps=sn.usesMipMaps(t),this.useMipMaps&&n.generateMipmap(n.TEXTURE_2D)}static validateMagFilter(t){switch(t){case At.MipMapLinearLinear:case At.MipMapLinearNearest:case At.MipMapNearestLinear:case At.MipMapNearestNearest:return At.Linear;default:return t}}static usesMipMaps(t){switch(t){case At.MipMapLinearLinear:case At.MipMapLinearNearest:case At.MipMapNearestLinear:case At.MipMapNearestNearest:return!0;default:return!1}}setWraps(t,e){let n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e)}update(t){let e=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),sn.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._image),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t&&e.generateMipmap(e.TEXTURE_2D)}restore(){this.texture=null,this.update(this.useMipMaps)}bind(t=0){let e=this.context.gl;this.boundUnit=t,e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)}unbind(){let t=this.context.gl;t.activeTexture(t.TEXTURE0+this.boundUnit),t.bindTexture(t.TEXTURE_2D,null)}dispose(){this.context.removeRestorable(this);let t=this.context.gl;t.deleteTexture(this.texture)}}(0,o.A)(sn,"DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL",!1);class rn extends jt{constructor(t,e="",n=new Wt){super((e=>new sn(t,e)),e,n)}}class on{constructor(t=0,e=0,n=0){(0,o.A)(this,"x",0),(0,o.A)(this,"y",0),(0,o.A)(this,"z",0),this.x=t,this.y=e,this.z=n}setFrom(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}set(t,e,n){return this.x=t,this.y=e,this.z=n,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}scale(t){return this.x*=t,this.y*=t,this.z*=t,this}normalize(){let t=this.length();return 0==t||(t=1/t,this.x*=t,this.y*=t,this.z*=t),this}cross(t){return this.set(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}multiply(t){let e=t.values;return this.set(this.x*e[ln]+this.y*e[hn]+this.z*e[cn]+e[un],this.x*e[dn]+this.y*e[fn]+this.z*e[pn]+e[mn],this.x*e[gn]+this.y*e[yn]+this.z*e[vn]+e[bn])}project(t){let e=t.values,n=1/(this.x*e[wn]+this.y*e[xn]+this.z*e[An]+e[En]);return this.set((this.x*e[ln]+this.y*e[hn]+this.z*e[cn]+e[un])*n,(this.x*e[dn]+this.y*e[fn]+this.z*e[pn]+e[mn])*n,(this.x*e[gn]+this.y*e[yn]+this.z*e[vn]+e[bn])*n)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}distance(t){let e=t.x-this.x,n=t.y-this.y,s=t.z-this.z;return Math.sqrt(e*e+n*n+s*s)}}var an;const ln=0,hn=4,cn=8,un=12,dn=1,fn=5,pn=9,mn=13,gn=2,yn=6,vn=10,bn=14,wn=3,xn=7,An=11,En=15;class kn{constructor(){(0,o.A)(this,"temp",new Float32Array(16)),(0,o.A)(this,"values",new Float32Array(16));let t=this.values;t[ln]=1,t[fn]=1,t[vn]=1,t[En]=1}set(t){return this.values.set(t),this}transpose(){let t=this.temp,e=this.values;return t[ln]=e[ln],t[hn]=e[dn],t[cn]=e[gn],t[un]=e[wn],t[dn]=e[hn],t[fn]=e[fn],t[pn]=e[yn],t[mn]=e[xn],t[gn]=e[cn],t[yn]=e[pn],t[vn]=e[vn],t[bn]=e[An],t[wn]=e[un],t[xn]=e[mn],t[An]=e[bn],t[En]=e[En],this.set(t)}identity(){let t=this.values;return t[ln]=1,t[hn]=0,t[cn]=0,t[un]=0,t[dn]=0,t[fn]=1,t[pn]=0,t[mn]=0,t[gn]=0,t[yn]=0,t[vn]=1,t[bn]=0,t[wn]=0,t[xn]=0,t[An]=0,t[En]=1,this}invert(){let t=this.values,e=this.temp,n=t[wn]*t[yn]*t[pn]*t[un]-t[gn]*t[xn]*t[pn]*t[un]-t[wn]*t[fn]*t[vn]*t[un]+t[dn]*t[xn]*t[vn]*t[un]+t[gn]*t[fn]*t[An]*t[un]-t[dn]*t[yn]*t[An]*t[un]-t[wn]*t[yn]*t[cn]*t[mn]+t[gn]*t[xn]*t[cn]*t[mn]+t[wn]*t[hn]*t[vn]*t[mn]-t[ln]*t[xn]*t[vn]*t[mn]-t[gn]*t[hn]*t[An]*t[mn]+t[ln]*t[yn]*t[An]*t[mn]+t[wn]*t[fn]*t[cn]*t[bn]-t[dn]*t[xn]*t[cn]*t[bn]-t[wn]*t[hn]*t[pn]*t[bn]+t[ln]*t[xn]*t[pn]*t[bn]+t[dn]*t[hn]*t[An]*t[bn]-t[ln]*t[fn]*t[An]*t[bn]-t[gn]*t[fn]*t[cn]*t[En]+t[dn]*t[yn]*t[cn]*t[En]+t[gn]*t[hn]*t[pn]*t[En]-t[ln]*t[yn]*t[pn]*t[En]-t[dn]*t[hn]*t[vn]*t[En]+t[ln]*t[fn]*t[vn]*t[En];if(0==n)throw new Error("non-invertible matrix");let s=1/n;return e[ln]=t[pn]*t[bn]*t[xn]-t[mn]*t[vn]*t[xn]+t[mn]*t[yn]*t[An]-t[fn]*t[bn]*t[An]-t[pn]*t[yn]*t[En]+t[fn]*t[vn]*t[En],e[hn]=t[un]*t[vn]*t[xn]-t[cn]*t[bn]*t[xn]-t[un]*t[yn]*t[An]+t[hn]*t[bn]*t[An]+t[cn]*t[yn]*t[En]-t[hn]*t[vn]*t[En],e[cn]=t[cn]*t[mn]*t[xn]-t[un]*t[pn]*t[xn]+t[un]*t[fn]*t[An]-t[hn]*t[mn]*t[An]-t[cn]*t[fn]*t[En]+t[hn]*t[pn]*t[En],e[un]=t[un]*t[pn]*t[yn]-t[cn]*t[mn]*t[yn]-t[un]*t[fn]*t[vn]+t[hn]*t[mn]*t[vn]+t[cn]*t[fn]*t[bn]-t[hn]*t[pn]*t[bn],e[dn]=t[mn]*t[vn]*t[wn]-t[pn]*t[bn]*t[wn]-t[mn]*t[gn]*t[An]+t[dn]*t[bn]*t[An]+t[pn]*t[gn]*t[En]-t[dn]*t[vn]*t[En],e[fn]=t[cn]*t[bn]*t[wn]-t[un]*t[vn]*t[wn]+t[un]*t[gn]*t[An]-t[ln]*t[bn]*t[An]-t[cn]*t[gn]*t[En]+t[ln]*t[vn]*t[En],e[pn]=t[un]*t[pn]*t[wn]-t[cn]*t[mn]*t[wn]-t[un]*t[dn]*t[An]+t[ln]*t[mn]*t[An]+t[cn]*t[dn]*t[En]-t[ln]*t[pn]*t[En],e[mn]=t[cn]*t[mn]*t[gn]-t[un]*t[pn]*t[gn]+t[un]*t[dn]*t[vn]-t[ln]*t[mn]*t[vn]-t[cn]*t[dn]*t[bn]+t[ln]*t[pn]*t[bn],e[gn]=t[fn]*t[bn]*t[wn]-t[mn]*t[yn]*t[wn]+t[mn]*t[gn]*t[xn]-t[dn]*t[bn]*t[xn]-t[fn]*t[gn]*t[En]+t[dn]*t[yn]*t[En],e[yn]=t[un]*t[yn]*t[wn]-t[hn]*t[bn]*t[wn]-t[un]*t[gn]*t[xn]+t[ln]*t[bn]*t[xn]+t[hn]*t[gn]*t[En]-t[ln]*t[yn]*t[En],e[vn]=t[hn]*t[mn]*t[wn]-t[un]*t[fn]*t[wn]+t[un]*t[dn]*t[xn]-t[ln]*t[mn]*t[xn]-t[hn]*t[dn]*t[En]+t[ln]*t[fn]*t[En],e[bn]=t[un]*t[fn]*t[gn]-t[hn]*t[mn]*t[gn]-t[un]*t[dn]*t[yn]+t[ln]*t[mn]*t[yn]+t[hn]*t[dn]*t[bn]-t[ln]*t[fn]*t[bn],e[wn]=t[pn]*t[yn]*t[wn]-t[fn]*t[vn]*t[wn]-t[pn]*t[gn]*t[xn]+t[dn]*t[vn]*t[xn]+t[fn]*t[gn]*t[An]-t[dn]*t[yn]*t[An],e[xn]=t[hn]*t[vn]*t[wn]-t[cn]*t[yn]*t[wn]+t[cn]*t[gn]*t[xn]-t[ln]*t[vn]*t[xn]-t[hn]*t[gn]*t[An]+t[ln]*t[yn]*t[An],e[An]=t[cn]*t[fn]*t[wn]-t[hn]*t[pn]*t[wn]-t[cn]*t[dn]*t[xn]+t[ln]*t[pn]*t[xn]+t[hn]*t[dn]*t[An]-t[ln]*t[fn]*t[An],e[En]=t[hn]*t[pn]*t[gn]-t[cn]*t[fn]*t[gn]+t[cn]*t[dn]*t[yn]-t[ln]*t[pn]*t[yn]-t[hn]*t[dn]*t[vn]+t[ln]*t[fn]*t[vn],t[ln]=e[ln]*s,t[hn]=e[hn]*s,t[cn]=e[cn]*s,t[un]=e[un]*s,t[dn]=e[dn]*s,t[fn]=e[fn]*s,t[pn]=e[pn]*s,t[mn]=e[mn]*s,t[gn]=e[gn]*s,t[yn]=e[yn]*s,t[vn]=e[vn]*s,t[bn]=e[bn]*s,t[wn]=e[wn]*s,t[xn]=e[xn]*s,t[An]=e[An]*s,t[En]=e[En]*s,this}determinant(){let t=this.values;return t[wn]*t[yn]*t[pn]*t[un]-t[gn]*t[xn]*t[pn]*t[un]-t[wn]*t[fn]*t[vn]*t[un]+t[dn]*t[xn]*t[vn]*t[un]+t[gn]*t[fn]*t[An]*t[un]-t[dn]*t[yn]*t[An]*t[un]-t[wn]*t[yn]*t[cn]*t[mn]+t[gn]*t[xn]*t[cn]*t[mn]+t[wn]*t[hn]*t[vn]*t[mn]-t[ln]*t[xn]*t[vn]*t[mn]-t[gn]*t[hn]*t[An]*t[mn]+t[ln]*t[yn]*t[An]*t[mn]+t[wn]*t[fn]*t[cn]*t[bn]-t[dn]*t[xn]*t[cn]*t[bn]-t[wn]*t[hn]*t[pn]*t[bn]+t[ln]*t[xn]*t[pn]*t[bn]+t[dn]*t[hn]*t[An]*t[bn]-t[ln]*t[fn]*t[An]*t[bn]-t[gn]*t[fn]*t[cn]*t[En]+t[dn]*t[yn]*t[cn]*t[En]+t[gn]*t[hn]*t[pn]*t[En]-t[ln]*t[yn]*t[pn]*t[En]-t[dn]*t[hn]*t[vn]*t[En]+t[ln]*t[fn]*t[vn]*t[En]}translate(t,e,n){let s=this.values;return s[un]+=t,s[mn]+=e,s[bn]+=n,this}copy(){return(new kn).set(this.values)}projection(t,e,n,s){this.identity();let i=1/Math.tan(n*(Math.PI/180)/2),r=(e+t)/(t-e),o=2*e*t/(t-e),a=this.values;return a[ln]=i/s,a[dn]=0,a[gn]=0,a[wn]=0,a[hn]=0,a[fn]=i,a[yn]=0,a[xn]=0,a[cn]=0,a[pn]=0,a[vn]=r,a[An]=-1,a[un]=0,a[mn]=0,a[bn]=o,a[En]=0,this}ortho2d(t,e,n,s){return this.ortho(t,t+n,e,e+s,0,1)}ortho(t,e,n,s,i,r){this.identity();let o=2/(e-t),a=2/(s-n),l=-2/(r-i),h=-(e+t)/(e-t),c=-(s+n)/(s-n),u=-(r+i)/(r-i),d=this.values;return d[ln]=o,d[dn]=0,d[gn]=0,d[wn]=0,d[hn]=0,d[fn]=a,d[yn]=0,d[xn]=0,d[cn]=0,d[pn]=0,d[vn]=l,d[An]=0,d[un]=h,d[mn]=c,d[bn]=u,d[En]=1,this}multiply(t){let e=this.temp,n=this.values,s=t.values;return e[ln]=n[ln]*s[ln]+n[hn]*s[dn]+n[cn]*s[gn]+n[un]*s[wn],e[hn]=n[ln]*s[hn]+n[hn]*s[fn]+n[cn]*s[yn]+n[un]*s[xn],e[cn]=n[ln]*s[cn]+n[hn]*s[pn]+n[cn]*s[vn]+n[un]*s[An],e[un]=n[ln]*s[un]+n[hn]*s[mn]+n[cn]*s[bn]+n[un]*s[En],e[dn]=n[dn]*s[ln]+n[fn]*s[dn]+n[pn]*s[gn]+n[mn]*s[wn],e[fn]=n[dn]*s[hn]+n[fn]*s[fn]+n[pn]*s[yn]+n[mn]*s[xn],e[pn]=n[dn]*s[cn]+n[fn]*s[pn]+n[pn]*s[vn]+n[mn]*s[An],e[mn]=n[dn]*s[un]+n[fn]*s[mn]+n[pn]*s[bn]+n[mn]*s[En],e[gn]=n[gn]*s[ln]+n[yn]*s[dn]+n[vn]*s[gn]+n[bn]*s[wn],e[yn]=n[gn]*s[hn]+n[yn]*s[fn]+n[vn]*s[yn]+n[bn]*s[xn],e[vn]=n[gn]*s[cn]+n[yn]*s[pn]+n[vn]*s[vn]+n[bn]*s[An],e[bn]=n[gn]*s[un]+n[yn]*s[mn]+n[vn]*s[bn]+n[bn]*s[En],e[wn]=n[wn]*s[ln]+n[xn]*s[dn]+n[An]*s[gn]+n[En]*s[wn],e[xn]=n[wn]*s[hn]+n[xn]*s[fn]+n[An]*s[yn]+n[En]*s[xn],e[An]=n[wn]*s[cn]+n[xn]*s[pn]+n[An]*s[vn]+n[En]*s[An],e[En]=n[wn]*s[un]+n[xn]*s[mn]+n[An]*s[bn]+n[En]*s[En],this.set(this.temp)}multiplyLeft(t){let e=this.temp,n=this.values,s=t.values;return e[ln]=s[ln]*n[ln]+s[hn]*n[dn]+s[cn]*n[gn]+s[un]*n[wn],e[hn]=s[ln]*n[hn]+s[hn]*n[fn]+s[cn]*n[yn]+s[un]*n[xn],e[cn]=s[ln]*n[cn]+s[hn]*n[pn]+s[cn]*n[vn]+s[un]*n[An],e[un]=s[ln]*n[un]+s[hn]*n[mn]+s[cn]*n[bn]+s[un]*n[En],e[dn]=s[dn]*n[ln]+s[fn]*n[dn]+s[pn]*n[gn]+s[mn]*n[wn],e[fn]=s[dn]*n[hn]+s[fn]*n[fn]+s[pn]*n[yn]+s[mn]*n[xn],e[pn]=s[dn]*n[cn]+s[fn]*n[pn]+s[pn]*n[vn]+s[mn]*n[An],e[mn]=s[dn]*n[un]+s[fn]*n[mn]+s[pn]*n[bn]+s[mn]*n[En],e[gn]=s[gn]*n[ln]+s[yn]*n[dn]+s[vn]*n[gn]+s[bn]*n[wn],e[yn]=s[gn]*n[hn]+s[yn]*n[fn]+s[vn]*n[yn]+s[bn]*n[xn],e[vn]=s[gn]*n[cn]+s[yn]*n[pn]+s[vn]*n[vn]+s[bn]*n[An],e[bn]=s[gn]*n[un]+s[yn]*n[mn]+s[vn]*n[bn]+s[bn]*n[En],e[wn]=s[wn]*n[ln]+s[xn]*n[dn]+s[An]*n[gn]+s[En]*n[wn],e[xn]=s[wn]*n[hn]+s[xn]*n[fn]+s[An]*n[yn]+s[En]*n[xn],e[An]=s[wn]*n[cn]+s[xn]*n[pn]+s[An]*n[vn]+s[En]*n[An],e[En]=s[wn]*n[un]+s[xn]*n[mn]+s[An]*n[bn]+s[En]*n[En],this.set(this.temp)}lookAt(t,e,n){let s=kn.xAxis,i=kn.yAxis,r=kn.zAxis;r.setFrom(e).normalize(),s.setFrom(e).normalize(),s.cross(n).normalize(),i.setFrom(s).cross(r).normalize(),this.identity();let o=this.values;return o[ln]=s.x,o[hn]=s.y,o[cn]=s.z,o[dn]=i.x,o[fn]=i.y,o[pn]=i.z,o[gn]=-r.x,o[yn]=-r.y,o[vn]=-r.z,kn.tmpMatrix.identity(),kn.tmpMatrix.values[un]=-t.x,kn.tmpMatrix.values[mn]=-t.y,kn.tmpMatrix.values[bn]=-t.z,this.multiply(kn.tmpMatrix),this}}an=kn,(0,o.A)(kn,"xAxis",new on),(0,o.A)(kn,"yAxis",new on),(0,o.A)(kn,"zAxis",new on),(0,o.A)(kn,"tmpMatrix",new an);class Sn{constructor(t,e){(0,o.A)(this,"position",new on(0,0,0)),(0,o.A)(this,"direction",new on(0,0,-1)),(0,o.A)(this,"up",new on(0,1,0)),(0,o.A)(this,"near",0),(0,o.A)(this,"far",100),(0,o.A)(this,"zoom",1),(0,o.A)(this,"viewportWidth",0),(0,o.A)(this,"viewportHeight",0),(0,o.A)(this,"projectionView",new kn),(0,o.A)(this,"inverseProjectionView",new kn),(0,o.A)(this,"projection",new kn),(0,o.A)(this,"view",new kn),this.viewportWidth=t,this.viewportHeight=e,this.update()}update(){let t=this.projection,e=this.view,n=this.projectionView,s=this.inverseProjectionView,i=this.zoom,r=this.viewportWidth,o=this.viewportHeight;t.ortho(i*(-r/2),i*(r/2),i*(-o/2),i*(o/2),this.near,this.far),e.lookAt(this.position,this.direction,this.up),n.set(t.values),n.multiply(e),s.set(n.values).invert()}screenToWorld(t,e,n){let s=t.x,i=n-t.y-1;return t.x=2*s/e-1,t.y=2*i/n-1,t.z=2*t.z-1,t.project(this.inverseProjectionView),t}worldToScreen(t,e,n){return t.project(this.projectionView),t.x=e*(t.x+1)/2,t.y=n*(t.y+1)/2,t.z=(t.z+1)/2,t}setViewport(t,e){this.viewportWidth=t,this.viewportHeight=e}}class Cn{constructor(t){(0,o.A)(this,"element",void 0),(0,o.A)(this,"mouseX",0),(0,o.A)(this,"mouseY",0),(0,o.A)(this,"buttonDown",!1),(0,o.A)(this,"touch0",null),(0,o.A)(this,"touch1",null),(0,o.A)(this,"initialPinchDistance",0),(0,o.A)(this,"listeners",new Array),(0,o.A)(this,"eventListeners",[]),this.element=t,this.setupCallbacks(t)}setupCallbacks(t){let e=e=>{if(e instanceof MouseEvent){let i=t.getBoundingClientRect();this.mouseX=e.clientX-i.left,this.mouseY=e.clientY-i.top,this.buttonDown=!0,this.listeners.map((t=>{t.down&&t.down(this.mouseX,this.mouseY)})),document.addEventListener("mousemove",n),document.addEventListener("mouseup",s)}},n=e=>{if(e instanceof MouseEvent){let n=t.getBoundingClientRect();this.mouseX=e.clientX-n.left,this.mouseY=e.clientY-n.top,this.listeners.map((t=>{this.buttonDown?t.dragged&&t.dragged(this.mouseX,this.mouseY):t.moved&&t.moved(this.mouseX,this.mouseY)}))}},s=e=>{if(e instanceof MouseEvent){let i=t.getBoundingClientRect();this.mouseX=e.clientX-i.left,this.mouseY=e.clientY-i.top,this.buttonDown=!1,this.listeners.map((t=>{t.up&&t.up(this.mouseX,this.mouseY)})),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s)}},i=t=>{t.preventDefault();let e=t.deltaY;t.deltaMode==WheelEvent.DOM_DELTA_LINE&&(e*=8),t.deltaMode==WheelEvent.DOM_DELTA_PAGE&&(e*=24),this.listeners.map((e=>{e.wheel&&e.wheel(t.deltaY)}))};t.addEventListener("mousedown",e,!0),t.addEventListener("mousemove",n,!0),t.addEventListener("mouseup",s,!0),t.addEventListener("wheel",i,!0),t.addEventListener("touchstart",(e=>{if(!this.touch0||!this.touch1){var n=e.changedTouches;let s=n.item(0);if(!s)return;let i=t.getBoundingClientRect(),r=s.clientX-i.left,o=s.clientY-i.top,a=new Tn(s.identifier,r,o);if(this.mouseX=r,this.mouseY=o,this.buttonDown=!0,this.touch0){if(!this.touch1){this.touch1=a;let t=this.touch1.x-this.touch0.x,e=this.touch1.x-this.touch0.x;this.initialPinchDistance=Math.sqrt(t*t+e*e),this.listeners.map((t=>{t.zoom&&t.zoom(this.initialPinchDistance,this.initialPinchDistance)}))}}else this.touch0=a,this.listeners.map((t=>{t.down&&t.down(a.x,a.y)}))}e.preventDefault()}),!1),t.addEventListener("touchmove",(e=>{if(this.touch0){var n=e.changedTouches;let r=t.getBoundingClientRect();for(var s=0;s<n.length;s++){var i=n[s];let t=i.clientX-r.left,e=i.clientY-r.top;this.touch0.identifier===i.identifier&&(this.touch0.x=this.mouseX=t,this.touch0.y=this.mouseY=e,this.listeners.map((n=>{n.dragged&&n.dragged(t,e)}))),this.touch1&&this.touch1.identifier===i.identifier&&(this.touch1.x=this.mouseX=t,this.touch1.y=this.mouseY=e)}if(this.touch0&&this.touch1){let t=this.touch1.x-this.touch0.x,e=this.touch1.x-this.touch0.x,n=Math.sqrt(t*t+e*e);this.listeners.map((t=>{t.zoom&&t.zoom(this.initialPinchDistance,n)}))}}e.preventDefault()}),!1);let r=e=>{if(this.touch0){var n=e.changedTouches;let r=t.getBoundingClientRect();for(var s=0;s<n.length;s++){var i=n[s];let t=i.clientX-r.left,e=i.clientY-r.top;if(this.touch0.identifier===i.identifier){if(this.touch0=null,this.mouseX=t,this.mouseY=e,this.listeners.map((n=>{n.up&&n.up(t,e)})),!this.touch1){this.buttonDown=!1;break}this.touch0=this.touch1,this.touch1=null,this.mouseX=this.touch0.x,this.mouseX=this.touch0.x,this.buttonDown=!0,this.listeners.map((t=>{t.down&&t.down(this.touch0.x,this.touch0.y)}))}this.touch1&&this.touch1.identifier&&(this.touch1=null)}}e.preventDefault()};t.addEventListener("touchend",r,!1),t.addEventListener("touchcancel",r)}addListener(t){this.listeners.push(t)}removeListener(t){let e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)}}class Tn{constructor(t,e,n){(0,o.A)(this,"identifier",void 0),(0,o.A)(this,"x",void 0),(0,o.A)(this,"y",void 0),this.identifier=t,this.x=e,this.y=n}}class Rn{getProgram(){return this.program}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}getVertexShaderSource(){return this.vsSource}getFragmentSource(){return this.fsSource}constructor(t,e,n){(0,o.A)(this,"vertexShader",void 0),(0,o.A)(this,"fragmentShader",void 0),(0,o.A)(this,"context",void 0),(0,o.A)(this,"vs",null),(0,o.A)(this,"vsSource",void 0),(0,o.A)(this,"fs",null),(0,o.A)(this,"fsSource",void 0),(0,o.A)(this,"program",null),(0,o.A)(this,"tmp2x2",new Float32Array(4)),(0,o.A)(this,"tmp3x3",new Float32Array(9)),(0,o.A)(this,"tmp4x4",new Float32Array(16)),this.vertexShader=e,this.fragmentShader=n,this.vsSource=e,this.fsSource=n,this.context=t instanceof nn?t:new nn(t),this.context.addRestorable(this),this.compile()}compile(){let t=this.context.gl;try{if(this.vs=this.compileShader(t.VERTEX_SHADER,this.vertexShader),!this.vs)throw new Error("Couldn't compile vertex shader.");if(this.fs=this.compileShader(t.FRAGMENT_SHADER,this.fragmentShader),!this.fs)throw new Error("Couldn#t compile fragment shader.");this.program=this.compileProgram(this.vs,this.fs)}catch(e){throw this.dispose(),e}}compileShader(t,e){let n=this.context.gl,s=n.createShader(t);if(!s)throw new Error("Couldn't create shader.");if(n.shaderSource(s,e),n.compileShader(s),!n.getShaderParameter(s,n.COMPILE_STATUS)){let t="Couldn't compile shader: "+n.getShaderInfoLog(s);if(n.deleteShader(s),!n.isContextLost())throw new Error(t)}return s}compileProgram(t,e){let n=this.context.gl,s=n.createProgram();if(!s)throw new Error("Couldn't compile program.");if(n.attachShader(s,t),n.attachShader(s,e),n.linkProgram(s),!n.getProgramParameter(s,n.LINK_STATUS)){let t="Couldn't compile shader program: "+n.getProgramInfoLog(s);if(n.deleteProgram(s),!n.isContextLost())throw new Error(t)}return s}restore(){this.compile()}bind(){this.context.gl.useProgram(this.program)}unbind(){this.context.gl.useProgram(null)}setUniformi(t,e){this.context.gl.uniform1i(this.getUniformLocation(t),e)}setUniformf(t,e){this.context.gl.uniform1f(this.getUniformLocation(t),e)}setUniform2f(t,e,n){this.context.gl.uniform2f(this.getUniformLocation(t),e,n)}setUniform3f(t,e,n,s){this.context.gl.uniform3f(this.getUniformLocation(t),e,n,s)}setUniform4f(t,e,n,s,i){this.context.gl.uniform4f(this.getUniformLocation(t),e,n,s,i)}setUniform2x2f(t,e){let n=this.context.gl;this.tmp2x2.set(e),n.uniformMatrix2fv(this.getUniformLocation(t),!1,this.tmp2x2)}setUniform3x3f(t,e){let n=this.context.gl;this.tmp3x3.set(e),n.uniformMatrix3fv(this.getUniformLocation(t),!1,this.tmp3x3)}setUniform4x4f(t,e){let n=this.context.gl;this.tmp4x4.set(e),n.uniformMatrix4fv(this.getUniformLocation(t),!1,this.tmp4x4)}getUniformLocation(t){let e=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");let n=e.getUniformLocation(this.program,t);if(!n&&!e.isContextLost())throw new Error(`Couldn't find location for uniform ${t}`);return n}getAttributeLocation(t){let e=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");let n=e.getAttribLocation(this.program,t);if(-1==n&&!e.isContextLost())throw new Error(`Couldn't find location for attribute ${t}`);return n}dispose(){this.context.removeRestorable(this);let t=this.context.gl;this.vs&&(t.deleteShader(this.vs),this.vs=null),this.fs&&(t.deleteShader(this.fs),this.fs=null),this.program&&(t.deleteProgram(this.program),this.program=null)}static newColoredTextured(t){let e=`\nattribute vec4 ${Rn.POSITION};\nattribute vec4 ${Rn.COLOR};\nattribute vec2 ${Rn.TEXCOORDS};\nuniform mat4 ${Rn.MVP_MATRIX};\nvarying vec4 v_color;\nvarying vec2 v_texCoords;\n\nvoid main () {\n\tv_color = ${Rn.COLOR};\n\tv_texCoords = ${Rn.TEXCOORDS};\n\tgl_Position = ${Rn.MVP_MATRIX} * ${Rn.POSITION};\n}\n`,n="\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_color;\nvarying vec2 v_texCoords;\nuniform sampler2D u_texture;\n\nvoid main () {\n\tgl_FragColor = v_color * texture2D(u_texture, v_texCoords);\n}\n";return new Rn(t,e,n)}static newTwoColoredTextured(t){let e=`\nattribute vec4 ${Rn.POSITION};\nattribute vec4 ${Rn.COLOR};\nattribute vec4 ${Rn.COLOR2};\nattribute vec2 ${Rn.TEXCOORDS};\nuniform mat4 ${Rn.MVP_MATRIX};\nvarying vec4 v_light;\nvarying vec4 v_dark;\nvarying vec2 v_texCoords;\n\nvoid main () {\n\tv_light = ${Rn.COLOR};\n\tv_dark = ${Rn.COLOR2};\n\tv_texCoords = ${Rn.TEXCOORDS};\n\tgl_Position = ${Rn.MVP_MATRIX} * ${Rn.POSITION};\n}\n`,n="\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_light;\nvarying LOWP vec4 v_dark;\nvarying vec2 v_texCoords;\nuniform sampler2D u_texture;\n\nvoid main () {\n\tvec4 texColor = texture2D(u_texture, v_texCoords);\n\tgl_FragColor.a = texColor.a * v_light.a;\n\tgl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n}\n";return new Rn(t,e,n)}static newColored(t){let e=`\nattribute vec4 ${Rn.POSITION};\nattribute vec4 ${Rn.COLOR};\nuniform mat4 ${Rn.MVP_MATRIX};\nvarying vec4 v_color;\n\nvoid main () {\n\tv_color = ${Rn.COLOR};\n\tgl_Position = ${Rn.MVP_MATRIX} * ${Rn.POSITION};\n}\n`,n="\n#ifdef GL_ES\n\t#define LOWP lowp\n\tprecision mediump float;\n#else\n\t#define LOWP\n#endif\nvarying LOWP vec4 v_color;\n\nvoid main () {\n\tgl_FragColor = v_color;\n}\n";return new Rn(t,e,n)}}(0,o.A)(Rn,"MVP_MATRIX","u_projTrans"),(0,o.A)(Rn,"POSITION","a_position"),(0,o.A)(Rn,"COLOR","a_color"),(0,o.A)(Rn,"COLOR2","a_color2"),(0,o.A)(Rn,"TEXCOORDS","a_texCoords"),(0,o.A)(Rn,"SAMPLER","u_texture");class In{getAttributes(){return this.attributes}maxVertices(){return this.vertices.length/this.elementsPerVertex}numVertices(){return this.verticesLength/this.elementsPerVertex}setVerticesLength(t){this.dirtyVertices=!0,this.verticesLength=t}getVertices(){return this.vertices}maxIndices(){return this.indices.length}numIndices(){return this.indicesLength}setIndicesLength(t){this.dirtyIndices=!0,this.indicesLength=t}getIndices(){return this.indices}getVertexSizeInFloats(){let t=0;for(var e=0;e<this.attributes.length;e++){let n=this.attributes[e];t+=n.numElements}return t}constructor(t,e,n,s){(0,o.A)(this,"attributes",void 0),(0,o.A)(this,"context",void 0),(0,o.A)(this,"vertices",void 0),(0,o.A)(this,"verticesBuffer",null),(0,o.A)(this,"verticesLength",0),(0,o.A)(this,"dirtyVertices",!1),(0,o.A)(this,"indices",void 0),(0,o.A)(this,"indicesBuffer",null),(0,o.A)(this,"indicesLength",0),(0,o.A)(this,"dirtyIndices",!1),(0,o.A)(this,"elementsPerVertex",0),this.attributes=e,this.context=t instanceof nn?t:new nn(t),this.elementsPerVertex=0;for(let i=0;i<e.length;i++)this.elementsPerVertex+=e[i].numElements;this.vertices=new Float32Array(n*this.elementsPerVertex),this.indices=new Uint16Array(s),this.context.addRestorable(this)}setVertices(t){if(this.dirtyVertices=!0,t.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(t,0),this.verticesLength=t.length}setIndices(t){if(this.dirtyIndices=!0,t.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(t,0),this.indicesLength=t.length}draw(t,e){this.drawWithOffset(t,e,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)}drawWithOffset(t,e,n,s){let i=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(t),this.indicesLength>0?i.drawElements(e,s,i.UNSIGNED_SHORT,2*n):i.drawArrays(e,n,s),this.unbind(t)}bind(t){let e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer);let n=0;for(let s=0;s<this.attributes.length;s++){let i=this.attributes[s],r=t.getAttributeLocation(i.name);e.enableVertexAttribArray(r),e.vertexAttribPointer(r,i.numElements,e.FLOAT,!1,4*this.elementsPerVertex,4*n),n+=i.numElements}this.indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)}unbind(t){let e=this.context.gl;for(let n=0;n<this.attributes.length;n++){let s=this.attributes[n],i=t.getAttributeLocation(s.name);e.disableVertexAttribArray(i)}e.bindBuffer(e.ARRAY_BUFFER,null),this.indicesLength>0&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}update(){let t=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),t.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),t.DYNAMIC_DRAW),this.dirtyIndices=!1)}restore(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()}dispose(){this.context.removeRestorable(this);let t=this.context.gl;t.deleteBuffer(this.verticesBuffer),t.deleteBuffer(this.indicesBuffer)}}class Mn{constructor(t,e,n){(0,o.A)(this,"name",void 0),(0,o.A)(this,"type",void 0),(0,o.A)(this,"numElements",void 0),this.name=t,this.type=e,this.numElements=n}}class _n extends Mn{constructor(){super(Rn.POSITION,Bn.Float,2)}}class Fn extends Mn{constructor(t=0){super(Rn.TEXCOORDS+(0==t?"":t),Bn.Float,2)}}class On extends Mn{constructor(){super(Rn.COLOR,Bn.Float,4)}}class Ln extends Mn{constructor(){super(Rn.COLOR2,Bn.Float,4)}}var Bn;(function(t){t[t["Float"]=0]="Float"})(Bn||(Bn={}));const Pn=1,Yn=769,Nn=770,Dn=771,Xn=774;class Vn{constructor(t,e=!0,n=10920){if((0,o.A)(this,"context",void 0),(0,o.A)(this,"drawCalls",0),(0,o.A)(this,"isDrawing",!1),(0,o.A)(this,"mesh",void 0),(0,o.A)(this,"shader",null),(0,o.A)(this,"lastTexture",null),(0,o.A)(this,"verticesLength",0),(0,o.A)(this,"indicesLength",0),(0,o.A)(this,"srcColorBlend",void 0),(0,o.A)(this,"srcAlphaBlend",void 0),(0,o.A)(this,"dstBlend",void 0),(0,o.A)(this,"cullWasEnabled",!1),n>10920)throw new Error("Can't have more than 10920 triangles per batch: "+n);this.context=t instanceof nn?t:new nn(t);let s=e?[new _n,new On,new Fn,new Ln]:[new _n,new On,new Fn];this.mesh=new In(t,s,n,3*n);let i=this.context.gl;this.srcColorBlend=i.SRC_ALPHA,this.srcAlphaBlend=i.ONE,this.dstBlend=i.ONE_MINUS_SRC_ALPHA}begin(t){if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=t,this.lastTexture=null,this.isDrawing=!0;let e=this.context.gl;e.enable(e.BLEND),e.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend),Vn.disableCulling&&(this.cullWasEnabled=e.isEnabled(e.CULL_FACE),this.cullWasEnabled&&e.disable(e.CULL_FACE))}setBlendMode(t,e){const n=Vn.blendModesGL[t],s=e?n.srcRgbPma:n.srcRgb,i=n.srcAlpha,r=n.dstRgb;if(this.srcColorBlend==s&&this.srcAlphaBlend==i&&this.dstBlend==r)return;this.srcColorBlend=s,this.srcAlphaBlend=i,this.dstBlend=r,this.isDrawing&&this.flush();let o=this.context.gl;o.blendFuncSeparate(s,r,i,r)}draw(t,e,n){t!=this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+e.length>this.mesh.getVertices().length||this.indicesLength+n.length>this.mesh.getIndices().length)&&this.flush();let s=this.mesh.numVertices();this.mesh.getVertices().set(e,this.verticesLength),this.verticesLength+=e.length,this.mesh.setVerticesLength(this.verticesLength);let i=this.mesh.getIndices();for(let r=this.indicesLength,o=0;o<n.length;r++,o++)i[r]=n[o]+s;this.indicesLength+=n.length,this.mesh.setIndicesLength(this.indicesLength)}flush(){if(0!=this.verticesLength){if(!this.lastTexture)throw new Error("No texture set.");if(!this.shader)throw new Error("No shader set.");this.lastTexture.bind(),this.mesh.draw(this.shader,this.context.gl.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++,Vn.globalDrawCalls++}}end(){if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1;let t=this.context.gl;t.disable(t.BLEND),Vn.disableCulling&&this.cullWasEnabled&&t.enable(t.CULL_FACE)}getDrawCalls(){return this.drawCalls}static getAndResetGlobalDrawCalls(){let t=Vn.globalDrawCalls;return Vn.globalDrawCalls=0,t}dispose(){this.mesh.dispose()}}(0,o.A)(Vn,"disableCulling",!1),(0,o.A)(Vn,"globalDrawCalls",0),(0,o.A)(Vn,"blendModesGL",[{srcRgb:Nn,srcRgbPma:Pn,dstRgb:Dn,srcAlpha:Pn},{srcRgb:Nn,srcRgbPma:Pn,dstRgb:Pn,srcAlpha:Pn},{srcRgb:Xn,srcRgbPma:Xn,dstRgb:Dn,srcAlpha:Pn},{srcRgb:Pn,srcRgbPma:Pn,dstRgb:Yn,srcAlpha:Pn}]);class Un{constructor(t,e=10920){if((0,o.A)(this,"context",void 0),(0,o.A)(this,"isDrawing",!1),(0,o.A)(this,"mesh",void 0),(0,o.A)(this,"shapeType",jn.Filled),(0,o.A)(this,"color",new l(1,1,1,1)),(0,o.A)(this,"shader",null),(0,o.A)(this,"vertexIndex",0),(0,o.A)(this,"tmp",new d),(0,o.A)(this,"srcColorBlend",void 0),(0,o.A)(this,"srcAlphaBlend",void 0),(0,o.A)(this,"dstBlend",void 0),e>10920)throw new Error("Can't have more than 10920 triangles per batch: "+e);this.context=t instanceof nn?t:new nn(t),this.mesh=new In(t,[new _n,new On],e,0);let n=this.context.gl;this.srcColorBlend=n.SRC_ALPHA,this.srcAlphaBlend=n.ONE,this.dstBlend=n.ONE_MINUS_SRC_ALPHA}begin(t){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=t,this.vertexIndex=0,this.isDrawing=!0;let e=this.context.gl;e.enable(e.BLEND),e.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend)}setBlendMode(t,e,n){if(this.srcColorBlend=t,this.srcAlphaBlend=e,this.dstBlend=n,this.isDrawing){this.flush();let s=this.context.gl;s.blendFuncSeparate(t,n,e,n)}}setColor(t){this.color.setFromColor(t)}setColorWith(t,e,n,s){this.color.set(t,e,n,s)}point(t,e,n){this.check(jn.Point,1),n||(n=this.color),this.vertex(t,e,n)}line(t,e,n,s,i){this.check(jn.Line,2);this.mesh.getVertices(),this.vertexIndex;i||(i=this.color),this.vertex(t,e,i),this.vertex(n,s,i)}triangle(t,e,n,s,i,r,o,a,l,h){this.check(t?jn.Filled:jn.Line,3);this.mesh.getVertices(),this.vertexIndex;a||(a=this.color),l||(l=this.color),h||(h=this.color),t?(this.vertex(e,n,a),this.vertex(s,i,l),this.vertex(r,o,h)):(this.vertex(e,n,a),this.vertex(s,i,l),this.vertex(s,i,a),this.vertex(r,o,l),this.vertex(r,o,a),this.vertex(e,n,l))}quad(t,e,n,s,i,r,o,a,l,h,c,u,d){this.check(t?jn.Filled:jn.Line,3);this.mesh.getVertices(),this.vertexIndex;h||(h=this.color),c||(c=this.color),u||(u=this.color),d||(d=this.color),t?(this.vertex(e,n,h),this.vertex(s,i,c),this.vertex(r,o,u),this.vertex(r,o,u),this.vertex(a,l,d),this.vertex(e,n,h)):(this.vertex(e,n,h),this.vertex(s,i,c),this.vertex(s,i,c),this.vertex(r,o,u),this.vertex(r,o,u),this.vertex(a,l,d),this.vertex(a,l,d),this.vertex(e,n,h))}rect(t,e,n,s,i,r){this.quad(t,e,n,e+s,n,e+s,n+i,e,n+i,r,r,r,r)}rectLine(t,e,n,s,i,r,o){this.check(t?jn.Filled:jn.Line,8),o||(o=this.color);let a=this.tmp.set(i-n,e-s);a.normalize(),r*=.5;let l=a.x*r,h=a.y*r;t?(this.vertex(e+l,n+h,o),this.vertex(e-l,n-h,o),this.vertex(s+l,i+h,o),this.vertex(s-l,i-h,o),this.vertex(s+l,i+h,o),this.vertex(e-l,n-h,o)):(this.vertex(e+l,n+h,o),this.vertex(e-l,n-h,o),this.vertex(s+l,i+h,o),this.vertex(s-l,i-h,o),this.vertex(s+l,i+h,o),this.vertex(e+l,n+h,o),this.vertex(s-l,i-h,o),this.vertex(e-l,n-h,o))}x(t,e,n){this.line(t-n,e-n,t+n,e+n),this.line(t-n,e+n,t+n,e-n)}polygon(t,e,n,s){if(n<3)throw new Error("Polygon must contain at least 3 vertices");this.check(jn.Line,2*n),s||(s=this.color);this.mesh.getVertices(),this.vertexIndex;e<<=1,n<<=1;let i=t[e],r=t[e+1],o=e+n;for(let a=e,l=e+n-2;a<l;a+=2){let e=t[a],n=t[a+1],l=0,h=0;a+2>=o?(l=i,h=r):(l=t[a+2],h=t[a+3]),this.vertex(e,n,s),this.vertex(l,h,s)}}circle(t,e,n,s,i,r=0){if(0==r&&(r=Math.max(1,6*h.cbrt(s)|0)),r<=0)throw new Error("segments must be > 0.");i||(i=this.color);let o=2*h.PI/r,a=Math.cos(o),l=Math.sin(o),c=s,u=0;if(t){this.check(jn.Filled,3*r+3),r--;for(let t=0;t<r;t++){this.vertex(e,n,i),this.vertex(e+c,n+u,i);let t=c;c=a*c-l*u,u=l*t+a*u,this.vertex(e+c,n+u,i)}this.vertex(e,n,i),this.vertex(e+c,n+u,i)}else{this.check(jn.Line,2*r+2);for(let t=0;t<r;t++){this.vertex(e+c,n+u,i);let t=c;c=a*c-l*u,u=l*t+a*u,this.vertex(e+c,n+u,i)}this.vertex(e+c,n+u,i)}c=s,u=0,this.vertex(e+c,n+u,i)}curve(t,e,n,s,i,r,o,a,l,h){this.check(jn.Line,2*l+2),h||(h=this.color);let c=1/l,u=c*c,d=c*c*c,f=3*c,p=3*u,m=6*u,g=6*d,y=t-2*n+i,v=e-2*s+r,b=3*(n-i)-t+o,w=3*(s-r)-e+a,x=t,A=e,E=(n-t)*f+y*p+b*d,k=(s-e)*f+v*p+w*d,S=y*m+b*g,C=v*m+w*g,T=b*g,R=w*g;while(l-- >0)this.vertex(x,A,h),x+=E,A+=k,E+=S,k+=C,S+=T,C+=R,this.vertex(x,A,h);this.vertex(x,A,h),this.vertex(o,a,h)}vertex(t,e,n){let s=this.vertexIndex,i=this.mesh.getVertices();i[s++]=t,i[s++]=e,i[s++]=n.r,i[s++]=n.g,i[s++]=n.b,i[s++]=n.a,this.vertexIndex=s}end(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush();let t=this.context.gl;t.disable(t.BLEND),this.isDrawing=!1}flush(){if(0!=this.vertexIndex){if(!this.shader)throw new Error("No shader set.");this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0}}check(t,e){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==t){if(!(this.mesh.maxVertices()-this.mesh.numVertices()<e))return;this.flush()}else this.flush(),this.shapeType=t}dispose(){this.mesh.dispose()}}var jn;(function(t){t[t["Point"]=0]="Point",t[t["Line"]=1]="Line",t[t["Filled"]=4]="Filled"})(jn||(jn={}));class Wn{constructor(t){(0,o.A)(this,"boneLineColor",new l(1,0,0,1)),(0,o.A)(this,"boneOriginColor",new l(0,1,0,1)),(0,o.A)(this,"attachmentLineColor",new l(0,0,1,.5)),(0,o.A)(this,"triangleLineColor",new l(1,.64,0,.5)),(0,o.A)(this,"pathColor",(new l).setFromString("FF7F00")),(0,o.A)(this,"clipColor",new l(.8,0,0,2)),(0,o.A)(this,"aabbColor",new l(0,1,0,.5)),(0,o.A)(this,"drawBones",!0),(0,o.A)(this,"drawRegionAttachments",!0),(0,o.A)(this,"drawBoundingBoxes",!0),(0,o.A)(this,"drawMeshHull",!0),(0,o.A)(this,"drawMeshTriangles",!0),(0,o.A)(this,"drawPaths",!0),(0,o.A)(this,"drawSkeletonXY",!1),(0,o.A)(this,"drawClipping",!0),(0,o.A)(this,"premultipliedAlpha",!1),(0,o.A)(this,"scale",1),(0,o.A)(this,"boneWidth",2),(0,o.A)(this,"context",void 0),(0,o.A)(this,"bounds",new Ge),(0,o.A)(this,"temp",new Array),(0,o.A)(this,"vertices",c.newFloatArray(2048)),this.context=t instanceof nn?t:new nn(t)}draw(t,e,n){let s=e.x,i=e.y,r=this.context.gl,o=this.premultipliedAlpha?r.ONE:r.SRC_ALPHA;t.setBlendMode(o,r.ONE,r.ONE_MINUS_SRC_ALPHA);let a=e.bones;if(this.drawBones){t.setColor(this.boneLineColor);for(let e=0,s=a.length;e<s;e++){let s=a[e];if(n&&n.indexOf(s.data.name)>-1)continue;if(!s.parent)continue;let i=s.data.length*s.a+s.worldX,r=s.data.length*s.c+s.worldY;t.rectLine(!0,s.worldX,s.worldY,i,r,this.boneWidth*this.scale)}this.drawSkeletonXY&&t.x(s,i,4*this.scale)}if(this.drawRegionAttachments){t.setColor(this.attachmentLineColor);let n=e.slots;for(let e=0,s=n.length;e<s;e++){let s=n[e],i=s.getAttachment();if(i instanceof Ot){let e=i,n=this.vertices;e.computeWorldVertices(s,n,0,2),t.line(n[0],n[1],n[2],n[3]),t.line(n[2],n[3],n[4],n[5]),t.line(n[4],n[5],n[6],n[7]),t.line(n[6],n[7],n[0],n[1])}}}if(this.drawMeshHull||this.drawMeshTriangles){let n=e.slots;for(let e=0,s=n.length;e<s;e++){let s=n[e];if(!s.bone.active)continue;let i=s.getAttachment();if(!(i instanceof Mt))continue;let r=i,o=this.vertices;r.computeWorldVertices(s,0,r.worldVerticesLength,o,0,2);let a=r.triangles,l=r.hullLength;if(this.drawMeshTriangles){t.setColor(this.triangleLineColor);for(let e=0,n=a.length;e<n;e+=3){let n=2*a[e],s=2*a[e+1],i=2*a[e+2];t.triangle(!1,o[n],o[n+1],o[s],o[s+1],o[i],o[i+1])}}if(this.drawMeshHull&&l>0){t.setColor(this.attachmentLineColor),l=2*(l>>1);let e=o[l-2],n=o[l-1];for(let s=0,i=l;s<i;s+=2){let i=o[s],r=o[s+1];t.line(i,r,e,n),e=i,n=r}}}}if(this.drawBoundingBoxes){let n=this.bounds;n.update(e,!0),t.setColor(this.aabbColor),t.rect(!1,n.minX,n.minY,n.getWidth(),n.getHeight());let s=n.polygons,i=n.boundingBoxes;for(let e=0,r=s.length;e<r;e++){let n=s[e];t.setColor(i[e].color),t.polygon(n,0,n.length)}}if(this.drawPaths){let n=e.slots;for(let e=0,s=n.length;e<s;e++){let s=n[e];if(!s.bone.active)continue;let i=s.getAttachment();if(!(i instanceof _t))continue;let r=i,o=r.worldVerticesLength,a=this.temp=c.setArraySize(this.temp,o,0);r.computeWorldVertices(s,0,o,a,0,2);let l=this.pathColor,h=a[2],u=a[3],d=0,f=0;if(r.closed){t.setColor(l);let e=a[0],n=a[1],s=a[o-2],i=a[o-1];d=a[o-4],f=a[o-3],t.curve(h,u,e,n,s,i,d,f,32),t.setColor(Wn.LIGHT_GRAY),t.line(h,u,e,n),t.line(d,f,s,i)}o-=4;for(let e=4;e<o;e+=6){let n=a[e],s=a[e+1],i=a[e+2],r=a[e+3];d=a[e+4],f=a[e+5],t.setColor(l),t.curve(h,u,n,s,i,r,d,f,32),t.setColor(Wn.LIGHT_GRAY),t.line(h,u,n,s),t.line(d,f,i,r),h=d,u=f}}}if(this.drawBones){t.setColor(this.boneOriginColor);for(let e=0,s=a.length;e<s;e++){let s=a[e];n&&n.indexOf(s.data.name)>-1||t.circle(!0,s.worldX,s.worldY,3*this.scale,this.boneOriginColor,8)}}if(this.drawClipping){let n=e.slots;t.setColor(this.clipColor);for(let e=0,s=n.length;e<s;e++){let s=n[e];if(!s.bone.active)continue;let i=s.getAttachment();if(!(i instanceof wt))continue;let r=i,o=r.worldVerticesLength,a=this.temp=c.setArraySize(this.temp,o,0);r.computeWorldVertices(s,0,o,a,0,2);for(let e=0,n=a.length;e<n;e+=2){let n=a[e],s=a[e+1],i=a[(e+2)%a.length],r=a[(e+3)%a.length];t.line(n,s,i,r)}}}}dispose(){}}(0,o.A)(Wn,"LIGHT_GRAY",new l(192/255,192/255,192/255,1)),(0,o.A)(Wn,"GREEN",new l(0,1,0,1));class qn{constructor(t,e,n){(0,o.A)(this,"vertices",void 0),(0,o.A)(this,"numVertices",void 0),(0,o.A)(this,"numFloats",void 0),this.vertices=t,this.numVertices=e,this.numFloats=n}}class zn{constructor(t,e=!0){(0,o.A)(this,"premultipliedAlpha",!1),(0,o.A)(this,"tempColor",new l),(0,o.A)(this,"tempColor2",new l),(0,o.A)(this,"vertices",void 0),(0,o.A)(this,"vertexSize",8),(0,o.A)(this,"twoColorTint",!1),(0,o.A)(this,"renderable",new qn([],0,0)),(0,o.A)(this,"clipper",new $e),(0,o.A)(this,"temp",new d),(0,o.A)(this,"temp2",new d),(0,o.A)(this,"temp3",new l),(0,o.A)(this,"temp4",new l),this.twoColorTint=e,e&&(this.vertexSize+=4),this.vertices=c.newFloatArray(1024*this.vertexSize)}draw(t,e,n=-1,s=-1,i=null){let r,o,a,l=this.clipper,h=this.premultipliedAlpha,u=this.twoColorTint,d=null,f=this.renderable,p=e.drawOrder,m=e.color,g=u?12:8,y=!1;-1==n&&(y=!0);for(let v=0,b=p.length;v<b;v++){let e=l.isClipping()?2:g,b=p[v];if(!b.bone.active){l.clipEndWithSlot(b);continue}if(n>=0&&n==b.data.index&&(y=!0),!y){l.clipEndWithSlot(b);continue}s>=0&&s==b.data.index&&(y=!1);let w,x=b.getAttachment();if(x instanceof Ot){let t=x;f.vertices=this.vertices,f.numVertices=4,f.numFloats=e<<2,t.computeWorldVertices(b,f.vertices,0,e),o=zn.QUAD_TRIANGLES,r=t.uvs,w=t.region.texture,a=t.color}else{if(!(x instanceof Mt)){if(x instanceof wt){let t=x;l.clipStart(b,t);continue}l.clipEndWithSlot(b);continue}{let t=x;f.vertices=this.vertices,f.numVertices=t.worldVerticesLength>>1,f.numFloats=f.numVertices*e,f.numFloats>f.vertices.length&&(f.vertices=this.vertices=c.newFloatArray(f.numFloats)),t.computeWorldVertices(b,0,t.worldVerticesLength,f.vertices,0,e),o=t.triangles,w=t.region.texture,r=t.uvs,a=t.color}}if(w){let e=b.color,n=this.tempColor;n.r=m.r*e.r*a.r,n.g=m.g*e.g*a.g,n.b=m.b*e.b*a.b,n.a=m.a*e.a*a.a,h&&(n.r*=n.a,n.g*=n.a,n.b*=n.a);let s=this.tempColor2;b.darkColor?(h?(s.r=b.darkColor.r*n.a,s.g=b.darkColor.g*n.a,s.b=b.darkColor.b*n.a):s.setFromColor(b.darkColor),s.a=h?1:0):s.set(0,0,0,1);let c=b.data.blendMode;if(c!=d&&(d=c,t.setBlendMode(d,h)),l.isClipping()){l.clipTriangles(f.vertices,o,o.length,r,n,s,u);let e=new Float32Array(l.clippedVertices),a=l.clippedTriangles;i&&i(e,e.length,g),t.draw(w,e,a)}else{let e=f.vertices;if(u)for(let t=2,i=0,o=f.numFloats;t<o;t+=g,i+=2)e[t]=n.r,e[t+1]=n.g,e[t+2]=n.b,e[t+3]=n.a,e[t+4]=r[i],e[t+5]=r[i+1],e[t+6]=s.r,e[t+7]=s.g,e[t+8]=s.b,e[t+9]=s.a;else for(let t=2,s=0,i=f.numFloats;t<i;t+=g,s+=2)e[t]=n.r,e[t+1]=n.g,e[t+2]=n.b,e[t+3]=n.a,e[t+4]=r[s],e[t+5]=r[s+1];let a=f.vertices.subarray(0,f.numFloats);i&&i(f.vertices,f.numFloats,g),t.draw(w,a,o)}}l.clipEndWithSlot(b)}l.clipEnd()}getSkeletonClipping(){return this.clipper}}(0,o.A)(zn,"QUAD_TRIANGLES",[0,1,2,2,3,0]);const Gn=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],Hn=[0,1,2,2,3,0],$n=new l(1,1,1,1);class Zn{constructor(t,e,n=!0){(0,o.A)(this,"context",void 0),(0,o.A)(this,"canvas",void 0),(0,o.A)(this,"camera",void 0),(0,o.A)(this,"batcher",void 0),(0,o.A)(this,"twoColorTint",!1),(0,o.A)(this,"batcherShader",void 0),(0,o.A)(this,"shapes",void 0),(0,o.A)(this,"shapesShader",void 0),(0,o.A)(this,"activeRenderer",null),(0,o.A)(this,"skeletonRenderer",void 0),(0,o.A)(this,"skeletonDebugRenderer",void 0),this.canvas=t,this.context=e instanceof nn?e:new nn(e),this.twoColorTint=n,this.camera=new Sn(t.width,t.height),this.batcherShader=n?Rn.newTwoColoredTextured(this.context):Rn.newColoredTextured(this.context),this.batcher=new Vn(this.context,n),this.shapesShader=Rn.newColored(this.context),this.shapes=new Un(this.context),this.skeletonRenderer=new zn(this.context,n),this.skeletonDebugRenderer=new Wn(this.context)}dispose(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()}begin(){this.camera.update(),this.enableRenderer(this.batcher)}drawSkeleton(t,e=!1,n=-1,s=-1,i=null){this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=e,this.skeletonRenderer.draw(this.batcher,t,n,s,i)}drawSkeletonDebug(t,e=!1,n){this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=e,this.skeletonDebugRenderer.draw(this.shapes,t,n)}drawTexture(t,e,n,s,i,r){this.enableRenderer(this.batcher),r||(r=$n);var o=0;Gn[o++]=e,Gn[o++]=n,Gn[o++]=r.r,Gn[o++]=r.g,Gn[o++]=r.b,Gn[o++]=r.a,Gn[o++]=0,Gn[o++]=1,this.twoColorTint&&(Gn[o++]=0,Gn[o++]=0,Gn[o++]=0,Gn[o++]=0),Gn[o++]=e+s,Gn[o++]=n,Gn[o++]=r.r,Gn[o++]=r.g,Gn[o++]=r.b,Gn[o++]=r.a,Gn[o++]=1,Gn[o++]=1,this.twoColorTint&&(Gn[o++]=0,Gn[o++]=0,Gn[o++]=0,Gn[o++]=0),Gn[o++]=e+s,Gn[o++]=n+i,Gn[o++]=r.r,Gn[o++]=r.g,Gn[o++]=r.b,Gn[o++]=r.a,Gn[o++]=1,Gn[o++]=0,this.twoColorTint&&(Gn[o++]=0,Gn[o++]=0,Gn[o++]=0,Gn[o++]=0),Gn[o++]=e,Gn[o++]=n+i,Gn[o++]=r.r,Gn[o++]=r.g,Gn[o++]=r.b,Gn[o++]=r.a,Gn[o++]=0,Gn[o++]=0,this.twoColorTint&&(Gn[o++]=0,Gn[o++]=0,Gn[o++]=0,Gn[o]=0),this.batcher.draw(t,Gn,Hn)}drawTextureUV(t,e,n,s,i,r,o,a,l,h){this.enableRenderer(this.batcher),h||(h=$n);var c=0;Gn[c++]=e,Gn[c++]=n,Gn[c++]=h.r,Gn[c++]=h.g,Gn[c++]=h.b,Gn[c++]=h.a,Gn[c++]=r,Gn[c++]=o,this.twoColorTint&&(Gn[c++]=0,Gn[c++]=0,Gn[c++]=0,Gn[c++]=0),Gn[c++]=e+s,Gn[c++]=n,Gn[c++]=h.r,Gn[c++]=h.g,Gn[c++]=h.b,Gn[c++]=h.a,Gn[c++]=a,Gn[c++]=o,this.twoColorTint&&(Gn[c++]=0,Gn[c++]=0,Gn[c++]=0,Gn[c++]=0),Gn[c++]=e+s,Gn[c++]=n+i,Gn[c++]=h.r,Gn[c++]=h.g,Gn[c++]=h.b,Gn[c++]=h.a,Gn[c++]=a,Gn[c++]=l,this.twoColorTint&&(Gn[c++]=0,Gn[c++]=0,Gn[c++]=0,Gn[c++]=0),Gn[c++]=e,Gn[c++]=n+i,Gn[c++]=h.r,Gn[c++]=h.g,Gn[c++]=h.b,Gn[c++]=h.a,Gn[c++]=r,Gn[c++]=l,this.twoColorTint&&(Gn[c++]=0,Gn[c++]=0,Gn[c++]=0,Gn[c]=0),this.batcher.draw(t,Gn,Hn)}drawTextureRotated(t,e,n,s,i,r,o,a,l){this.enableRenderer(this.batcher),l||(l=$n);let c=e+r,u=n+o,d=-r,f=-o,p=s-r,m=i-o,g=d,y=f,v=d,b=m,w=p,x=m,A=p,E=f,k=0,S=0,C=0,T=0,R=0,I=0,M=0,_=0;if(0!=a){let t=h.cosDeg(a),e=h.sinDeg(a);k=t*g-e*y,S=e*g+t*y,M=t*v-e*b,_=e*v+t*b,R=t*w-e*x,I=e*w+t*x,C=R+(k-M),T=I+(S-_)}else k=g,S=y,M=v,_=b,R=w,I=x,C=A,T=E;k+=c,S+=u,C+=c,T+=u,R+=c,I+=u,M+=c,_+=u;var F=0;Gn[F++]=k,Gn[F++]=S,Gn[F++]=l.r,Gn[F++]=l.g,Gn[F++]=l.b,Gn[F++]=l.a,Gn[F++]=0,Gn[F++]=1,this.twoColorTint&&(Gn[F++]=0,Gn[F++]=0,Gn[F++]=0,Gn[F++]=0),Gn[F++]=C,Gn[F++]=T,Gn[F++]=l.r,Gn[F++]=l.g,Gn[F++]=l.b,Gn[F++]=l.a,Gn[F++]=1,Gn[F++]=1,this.twoColorTint&&(Gn[F++]=0,Gn[F++]=0,Gn[F++]=0,Gn[F++]=0),Gn[F++]=R,Gn[F++]=I,Gn[F++]=l.r,Gn[F++]=l.g,Gn[F++]=l.b,Gn[F++]=l.a,Gn[F++]=1,Gn[F++]=0,this.twoColorTint&&(Gn[F++]=0,Gn[F++]=0,Gn[F++]=0,Gn[F++]=0),Gn[F++]=M,Gn[F++]=_,Gn[F++]=l.r,Gn[F++]=l.g,Gn[F++]=l.b,Gn[F++]=l.a,Gn[F++]=0,Gn[F++]=0,this.twoColorTint&&(Gn[F++]=0,Gn[F++]=0,Gn[F++]=0,Gn[F]=0),this.batcher.draw(t,Gn,Hn)}drawRegion(t,e,n,s,i,r){this.enableRenderer(this.batcher),r||(r=$n);var o=0;Gn[o++]=e,Gn[o++]=n,Gn[o++]=r.r,Gn[o++]=r.g,Gn[o++]=r.b,Gn[o++]=r.a,Gn[o++]=t.u,Gn[o++]=t.v2,this.twoColorTint&&(Gn[o++]=0,Gn[o++]=0,Gn[o++]=0,Gn[o++]=0),Gn[o++]=e+s,Gn[o++]=n,Gn[o++]=r.r,Gn[o++]=r.g,Gn[o++]=r.b,Gn[o++]=r.a,Gn[o++]=t.u2,Gn[o++]=t.v2,this.twoColorTint&&(Gn[o++]=0,Gn[o++]=0,Gn[o++]=0,Gn[o++]=0),Gn[o++]=e+s,Gn[o++]=n+i,Gn[o++]=r.r,Gn[o++]=r.g,Gn[o++]=r.b,Gn[o++]=r.a,Gn[o++]=t.u2,Gn[o++]=t.v,this.twoColorTint&&(Gn[o++]=0,Gn[o++]=0,Gn[o++]=0,Gn[o++]=0),Gn[o++]=e,Gn[o++]=n+i,Gn[o++]=r.r,Gn[o++]=r.g,Gn[o++]=r.b,Gn[o++]=r.a,Gn[o++]=t.u,Gn[o++]=t.v,this.twoColorTint&&(Gn[o++]=0,Gn[o++]=0,Gn[o++]=0,Gn[o]=0),this.batcher.draw(t.page.texture,Gn,Hn)}line(t,e,n,s,i,r){this.enableRenderer(this.shapes),this.shapes.line(t,e,n,s,i)}triangle(t,e,n,s,i,r,o,a,l,h){this.enableRenderer(this.shapes),this.shapes.triangle(t,e,n,s,i,r,o,a,l,h)}quad(t,e,n,s,i,r,o,a,l,h,c,u,d){this.enableRenderer(this.shapes),this.shapes.quad(t,e,n,s,i,r,o,a,l,h,c,u,d)}rect(t,e,n,s,i,r){this.enableRenderer(this.shapes),this.shapes.rect(t,e,n,s,i,r)}rectLine(t,e,n,s,i,r,o){this.enableRenderer(this.shapes),this.shapes.rectLine(t,e,n,s,i,r,o)}polygon(t,e,n,s){this.enableRenderer(this.shapes),this.shapes.polygon(t,e,n,s)}circle(t,e,n,s,i,r=0){this.enableRenderer(this.shapes),this.shapes.circle(t,e,n,s,i,r)}curve(t,e,n,s,i,r,o,a,l,h){this.enableRenderer(this.shapes),this.shapes.curve(t,e,n,s,i,r,o,a,l,h)}end(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null}resize(t){let e=this.canvas;var n=window.devicePixelRatio||1,s=Math.round(e.clientWidth*n),i=Math.round(e.clientHeight*n);if(e.width==s&&e.height==i||(e.width=s,e.height=i),this.context.gl.viewport(0,0,e.width,e.height),t===Kn.Expand)this.camera.setViewport(s,i);else if(t===Kn.Fit){let t=e.width,n=e.height,s=this.camera.viewportWidth,i=this.camera.viewportHeight,r=i/s,o=n/t,a=r<o?s/t:i/n;this.camera.setViewport(t*a,n*a)}this.camera.update()}enableRenderer(t){this.activeRenderer!==t&&(this.end(),t instanceof Vn?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(Rn.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):t instanceof Un?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(Rn.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)}}var Kn;let Jn,Qn;(function(t){t[t["Stretch"]=0]="Stretch",t[t["Expand"]=1]="Expand",t[t["Fit"]=2]="Fit"})(Kn||(Kn={}));let ts=0;const es=1,ns=1,ss=165,is=108,rs=163;class os{constructor(t){if((0,o.A)(this,"renderer",void 0),(0,o.A)(this,"logo",null),(0,o.A)(this,"spinner",null),(0,o.A)(this,"angle",0),(0,o.A)(this,"fadeOut",0),(0,o.A)(this,"fadeIn",0),(0,o.A)(this,"timeKeeper",new f),(0,o.A)(this,"backgroundColor",new l(.135,.135,.135,1)),(0,o.A)(this,"tempColor",new l),this.renderer=t,this.timeKeeper.maxDelta=9,!Qn){let t=navigator.userAgent.indexOf("Safari")>-1,e=()=>ts++;Qn=new Image,Qn.src=ls,t||(Qn.crossOrigin="anonymous"),Qn.onload=e,Jn=new Image,Jn.src=as,t||(Jn.crossOrigin="anonymous"),Jn.onload=e}}dispose(){this.logo?.dispose(),this.spinner?.dispose()}draw(t=!1){if(ts<2||t&&this.fadeOut>ns)return;this.timeKeeper.update();let e=Math.abs(Math.sin(this.timeKeeper.totalTime+.25));this.angle-=200*this.timeKeeper.delta*(1+1.5*Math.pow(e,5));let n=this.tempColor,s=this.renderer,i=s.canvas,r=s.context.gl;if(s.resize(Kn.Expand),s.camera.position.set(i.width/2,i.height/2,0),s.batcher.setBlendMode(Vt.Normal,!0),t){if(this.fadeOut+=this.timeKeeper.delta*(this.timeKeeper.totalTime<1?2:1),this.fadeOut>ns)return;n.setFromColor(this.backgroundColor),e=1-this.fadeOut/ns,e=1-(e-1)*(e-1),n.a*=e,n.a>0&&(s.camera.zoom=1,s.begin(),s.quad(!0,0,0,i.width,0,i.width,i.height,0,i.height,n,n,n,n),s.end())}else this.fadeIn+=this.timeKeeper.delta,this.backgroundColor.a>0&&(r.clearColor(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a),r.clear(r.COLOR_BUFFER_BIT)),e=1;e*=Math.min(this.fadeIn/es,1),n.set(e,e,e,e),this.logo||(this.logo=new sn(s.context,Qn),this.spinner=new sn(s.context,Jn)),s.camera.zoom=Math.max(1,rs/i.height),s.begin(),s.drawTexture(this.logo,(i.width-ss)/2,(i.height-is)/2,ss,is,n),this.spinner&&s.drawTextureRotated(this.spinner,(i.width-rs)/2,(i.height-rs)/2,rs,rs,rs/2,rs/2,this.angle,n),s.end()}}let as="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACjCAYAAADmbK6AAAALKElEQVR42u2de2iW5R/GPzuqcwfnnKfNmafl5tTNHWzqNi3DEMQykcAoJSsySkspjSIk0iD/07Kf4R+FnVBDUTshZGpWUEJaaiWFgZlUFmXmIe3HNXthyebeZ77P9H13ffBG8Y8H7ut7vff93N/7fu4vGGPiFZiez/Qtw9lytJajfzfw9z/j+efPOv7cV8W+lUNY2a8T/ayTCRsWFLJA5rtUO1LLkV5p9LJeJizQiHeqnlOtmVFtdTGrrZkJCxYXsTgaI6r9MY4/UpNItW4mFDaXsTlaM6qVZlBq3UwofFrJp0HMWJ9DvXUzobCznJ1BzFjWlTLrZkJh/TDWBzFjTgo51s2EgnKI0Rrx+FiOWzNzVaym91Syx5qZsGBWb2ZFa0ZN6dbMhAWTcpkUrRmXD2K5NTNhgVbH0Zpxbl/mWjMTFvRIo0e0ZpzcncnWzISKtvmiMWNRJ4qslwmVXRXsas2Ix8ZwzFqZsGFREYtaM+Oaa1ljrUzYkJ9G/ok6TlzKjJWZVFor0y7c1Zu7WjLiqiGsskamXdHopyT4vALmzS9k/t19uHtKHlOSIMn6xAtARjIZ1sFcUSZ0Y4La+G6M18hS2IlCn4a+WoC0JNL0d/dUupdnUj40g6EJ2VEdMnhrOG/p5f/jUXz8SgmvaGU6KpNRNsLVQV0OdXf24s63h/P2gWoOrBjMCr2GJFQnnxnIM3q5P1PPmaYv+4ev4/C6UtbpV2gzXCkgL5W8Bwt48OIc6ul6Tp+s4+SyASxLiI4+PYCn1bHzDZxvaQW6vZzto7MYnQIpNkf7kp5EuozYUroqEjcNKHHd0Tl9mBPN1pk+hFeieGBnBtog7UXjsj9pWg+m6duecw2cay1OC/uxMC47KmP9OIYfoz1YoC20J/rzRG4quTZK2EAyJGs20qwUbYw0aNRmUxtvfUW/uEtNzc1NB1/X8LVyd15hh82F43AvD+VlXcsSJEZa1CQ3ejleAO7oxR3RDP0XN91X4+NXYb8nkv7UNTwV7e0YTdu7I3g33t7tuaEbNwSZpps2fSyvs4M2Tjhot+jb0Xzbltj8r5j/xVt/6Z1Ob93U1ZYO691EhhzchcHeXosVjcNZysyezLw4xRZt05R+fTeuj8vOj+zKyG0j2aZcVVs6v+QalnjrMFZASQYl2nBoSyz06e3j/Xk8rgWYmMvEICu2pm1HOTuc7okV8FgRj0XukwzanhvCc/F+72TjoQjdObN1OFuDLmh0xP+WHtxiI10ukJlCprb4guiv1fP+avZrS1C7NAkliHZjDtZwMMgqbukAltpMlwuMy2FcEBPqvfLLar5Uqi0hBdEwryy+Mv5n6zkbjTBa+dlMlwvUZFETZKGiFM7tvbhdJ3gSVRO0wzIjnxmvl/J6a6JsGMYGrahtpssFeqbR841S3mhN80OjOaSDEdqd6SjaMKgzgzRK7q1ib3PT9sYyNo7JZoyNFNvRcVMZmy7WOvIuryv/Zvdmdt90+nY0bRp3AvROohFwdwW7dTG7RFlbwlqdrbOBYg005NAQmZU0HWt1rXMBH1Xw0dQ8pmqzoaPmdhun7bHZjNVe9qP9eFQfO1VkUmHjhAVUZ1GtnKFSbjrkrPfy4i4UW5t/6ZxM54J0CqxFe81KpGsQyE4h23oYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjLna+bdOy+IiFquIpGq16Pb79cNYv3IIK/X/ugx+Ui6TVKvYVU9Nc8gX8od8Ir/IN/KPfCQ/yVfyl/6/pfJvLChkQdD6wyqntquCXYuKWJSfRr6D0dEAxV3xlw/khyD+kd/ku/88cHo+09tS3LBpO1HHCVUqcIA6CqB4K+6X6x35L/JM2loXurlWmUmlA5XogOIcK8/If5HncrSWo7F6cKIWPjT/RXGOlWfkv8hzaWsN4uaaysE6WIkOKM6x8oz8F3kusXqo2vxC5jtYiQ4ozrH0TeS5qIZcrB7qkrwdA8U5Vp6R/yLPZV8V+2L14Cl5THGwEh1QnGPlGfkv8lyUlIzFQ1cNYVVHrcjZ0VCcFe9Y+Eb+izy3ceclUl43aFN52DXXssYpnY6a4qFS8ZcP2uIf+e7inRh6pdFrdTGrm8uiHx/L8T2V7NGWzvJBLJ/bl7mTuzO5qBNFDoiJID/IF/KHfCK/yDfyT3O7d/KbfNfS80hNIrU0g9L6HOq1x5iTQo6FNpeLfCQ/yVfyl3xmXYwxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHNk9z4JwJ0SqKTdQkbyEwhU393T6V7zzR6pieR3tE1ITeVXImhe6BXDGZFdRbVeank2TBhcaEMr0rwbixj49IBLL2/L/ffmMuNHfqO9tFZjJYBd1ewO3Lx+IcVfKhqna5nHZYR6XFPH+5R3eeI5t9fx/fvjeC9Jdew5OKZKqFR/RDVKL6vL/f9PJafmyvHsL+a/ff24V6NmjZQbGchVbY6UM2BluqHv1rCqzVZ1KQlkZboepCdQvacPsz5bjTfXao+yMEaDt7Wk9tSIMVGig3TejCtJSM2bSpkPjWPqd1S6Zao+lORSYWmgkOjORRNwZqd5ezMSiHLRooNr5XwWjS6/1XHX9vL2T67N7M1iyXa9JCrYjVrS1gbpJyw6hBfsmiNCYT0P9/A+Wj1/6qGr5YNYFlJBiWJogEzezLz/ZG8/9s4fgtSyuvNYbyp1IONFBtu7sHNv4/j9yAxUHWrdaWsG9+N8XHd+YxkMpSy+aySz841cC5oXbmHCnnI74yxAgZ3YbDeB4PEQCOpBpFNZWwa2ZWRcdnxLsl00crtRB0n2lLg8JNRfDKoM4NsolgBSmw/UMADba1+qpmqfyf6x1u/0a/og3I+aEunP6/i86osqmygcGarF4p54dex/Bo0LqfqOfVwIQ/HW5/RSkwV1oN2WLlHTc82TljAwM4M1O5LWwYKZTjibYXNS0N5KcjKTe10PadfLObFuJwK4ozp+UzXDBTUjL+M5ZcBnRkQV53dMIwNQTu6bSTbVEzbi5awuVByd2E/FgaN0Tc1fKOzBHHV2aAdVSdv6s5NNkp7cSH/++xAng2yyHx+CM/H21YhfdPp+0U1X0TbSZnXx8faG9Aop0MS0cToh1p+iLcpOkLj9t/JOk5eqoPHxnDsyf486an5yqCDK7XZ1O4oZ4dWyy3FSXHUAYq47uyYbMZoGmhpG3DlEFb6uNiVBhpyaHhnBO8oJmfqOROJjzIiP43hJ8UxITqqX56S2Hur2KsOnq3nrE6PPNKPRwrSKbAZrjTQNZmuE7oxYXMZmxWbw9dxWFu4W4ezVedOE6qzI7oyYkY+M7TPeWsPbk2UX1qioSN+E3OZqOR2cReKE+qQRFN0Pi7y73g/UawU1KzezJpXwLz5hczX1ueUPKYkNb6GJQZ+j7/aAfRZREsv+quGsMoamXZBW2Gt5eU0alorEzYsKmJRa/m4NdeyxlqZsCGa84DKnVorEzboC7podis69DfIJmwufHMc7famvvmxZiYsKOtKWbRm1OcW1syEBboSJFozLh/EcmtmwgIluaM14/phrLdmJixYXMTiaM24p5I91syEBTphFOR7Y2tmwgJNvUFOr+tov3UzoaAv44KYUatv62ZCoemdhtG0+hzqrZsJBR08DWLG0gxKrZu50qvpxos3U5NItW4mFPp1ot+lPlpq2lYXs9qamVBZUMiC1ox4pJYjvlfStAu6GmTLcLboMtPIV4/6im5fFfuUi9QIap2MiWP+D96R1vPmsD/fAAAAAElFTkSuQmCC",ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAABsCAYAAAALzHKmAAAQ7klEQVR42u3da4xdVRUA4D0zd2Y6nZY59DVtZ1puS9+lzC0YAi2UQ8AAQczFpPgA9VIeIQbirRqJ0cBUBVGjDr/QCKSNRSMmpuODxAdxqhgwxkhFjf6Sxh/+UUNVNGJCzR7uTvas7LXX2q9zzp3em6y0gTN3Zu75utZe5+yztxC9V+/Ve5X9En1Vjd7J6SFbLNF7naPw+l2jh7YHMBWssqMHtlsRdim4qsLtIawaPiHEQOLoNrA9iIkQDnRrVA1qD2LZ8ISoxYqKo13sQAtBWBayQWZUAXGRQM9JjCngDVY0UqJNDbQrMcaGmArdUKpIjbYiQLsCZCyIMQBy8QwnilR4Q5AuCpxFYvRFmBLbEiwKwpsSaWycVQGZBKMrwBjA9BhxDe57u2L2hOoKNCbOrgAZitEVYUxoKSMErQvSxYIzCkguRg5EF4AUhqUlhy/YUKSxcRaKsioYOQhD4I0yYxkR3PcJBcuFysmgsXAWBTMJyBCMIQh9kGGxXIXvexCQXbHGAMrBWTbM2CCpMSMLIxehC77lSJwXGth7M0FzoVJIXXDWQnGmhOkL0ic7YhhtWdGGkAuPAjUWGoF4faCmwBkbZmyUqUCyMqMLRA4+E6IsdTjidUHKBYrh9CnpRcH0ypKxsyOGEYNIIeTCOz91OIJ1QYoB5eAMyZo+MFNnyVTZ0YiRC9EGEMOyAgshxErHsL2XK1gOUgwohtM1a5YNM7Rsu4K0ZkcbRm4mpPBRwFZ5hg9eCqkrUB+csWGGogzNkqEgrdnRhpGLkINudaLgwvVB6oqzCjCTZElb2Y4B0gUjBtEG0ARnDRLjjoG9DwcshtQGlIPTljVjwUySLWNkyRCQVHa0ZUUTRAwgF91a33BEy0VKAcVwwqwZC2bqbOlUurllOxQkJzNyINoAYqjWhYYjWg5SCiiG05Q1U8FMjTIoS8YE6YORi1BHtJ4KIcQEEtTXUWAxpK44YVlPBdO1jCdFWTZIE8bVGEYMIRPcZGBw4HKQcoBiOE1ZMzbMgVQwU6JMAdKEEcuIJogUvg1YCCE2gsCO42DlIIVAKZwpYJaSLVNnSU6XjYHUmxhTmXaFaMO3EYkLqMC+FsLlIoVAKZzMrEnBhJeLfLNlKMrYWRIDCbOkFSSVHbHM6AKRC6/ODUewNqQ+OLlZkxpjUmV8MBbMUJSxyzY3Q1IgTRgxiBRCHdem0KDAUkBh9sRwwjEnAXMMgTnKhFlUtiwkS5rGka4g9SaGgxFmRC7AzTCEEBcyA36dDSsXqAtOLkysjGMwY5XxVChjZ0kuSCo7YlkRQsQQYtDEFsegsLoCxUp7Kpgps2UslFGzJGccSYHUmxhOZqwzEZqAbfUMCisHKIZzgsCpl3MTzMwTpi1bYp2477gyFKUxS7qWbdjY2EBS2dGE0QQRA7gNCyHEdhjE8RhUDlBT9tzgmjWZMFNlSy+Urk1OzCyJlW0XkK4YOQh1cDtcgwBrQmoDWkdgboBZE8mYsJSHlnFbJ+5bwmOPJ7lZkirbC8aRsMvmgtTHjBhGE0QbwJ2egUE1ITVlUC5OmDVdYNrKuN70xM6WoShjlW4464dbtiFIWK6x7GjESEHUUe0iYncnbMdQSE0Z1ITTNOb0hRmjjLtmS9dmJ2rp1jtuKktyyrb6YLEMCUHq2dGG0QQRQ7f72kzc+cJecerne8Wvv7JNPHPvenEkz8Sh3UtFc92QyGt9Yko/HgOLAIUZlItTz5ouMF3KuE+2jFLCQ1D6lm6fLMkBacuOJowYRBUXyfjuHjF3NhdnsfjvAfH6E9vFt9XxKgikEKgJZyyYalzOLeMu2bLbULI6bh+QGwmQ+rgRlumdGEQAao+K56bEL2woVUwOiev0r8OAUjiJrMmFCbvykGxZRAmPitK1dHM7bohyMsuyi/I8f0+e57fJYIKEZXpXo9E4mOf5XTKyLLvCBLETF8uY2SKepkC+dpX4T02Ivepr4HvZcOZ5fmee54fyPL+DmTUhzAs6n4n8bN5dr9f3YdkSg8nsxG0lPBVKVpNjG0/aGhzfLDmRZdnumZmZp8+c+cdZPV555fSr7Xb7s0jJ3i5Pcue4MxKkPPkvvXTqz/B92u32l0wYOzG1fkhcd/py8Rcbyq/vFM/KY1WA95h/3zzP71bfU6JsNpsfgj+P/FlbrdaDGExYyuXvLz8H+DudODH700ajcSM3W6Yu4alQ1spCOTd38jcKocTZbh9+9NixY99XJ8AEUkcpo9W64yH197m5k7+bnZ19QT+J09NHntQhwji/Jg58qi6++ofLxJ8gSFneVw2Ka4QQDfh1Ok4dZavVmtZ/nrm5k7/Vf55O1tRhboUw5+ZOvqyOl5+R/FyOHj32PYVU/tloNG5IXcKrhJIzngwp3fNjomazea/64BuNxts646f50lWv169utw9/DmtqdJQyZFaSJVuV6nq9fqMEof5/vV6/CYBqgJDlee+yAbF/+4i4ZWqZeNfaIfHWzn+Hx0KcEuU9+s8jv3ej0bhVlXOZydX/k0iRMeb8P0D5e6tj8zy/Xb9UJIc56h/yqVOnXul8lmuZ2bJslKmbHG7XrbpCmCXFRLvdfqQD6jTS3Jiy5I4OykM6ADV+1Eu1DmV6evopBORexzDi1L+X/HnGxsb2w3Hm9PSRJ9QxWPOTZdmlKht2hi+w6dkox5bqffI8fye3hDteGqKaHVsHXihKl0tB+h0cY+lute54AGRKDCW89LNTRynHb7ChUWVVjetOnJh9EYBUyPZeNCoOtsbFQwdXi4/esELcd+tq8cCHJ8UXp+viy9efLz7AgamjlKXc1AA1m83DoIRDlFubzeb96hhZLVTlgJ24gttutx+ONa50bHZKRenaeTs1OfpAfnr6yOOdE7EZdNwmlKocntXLNkA5JTGq47Ds+Lf94lWsyfnXleLfnIwJUN4DOnNYwuUxh2A3Ln9XULrfK8t3J27Tu3BVwiOjXJqoAy8UZej1yclGo3GTLN+gu3w+z/P3YaWbQqk3Ne12e4ZC+c8rxWsYytcPiP9RpZxCqWDKnxOiBNlyAUpOnGsoh4tA2Rm8X9xqtT6md5wyZmYe+0YRKL+1S/wYQ3n8zctBl5SBUv5djivfjMOPduIzcizeiYfr9foVvUwZG+XCuzibZKnSceZ5/v4QlKp8y7ElhnJlTeTP7BI/kllRYfzrfvHqFy4UX1vaL/aVlSmROzwbwdS29T2UcEwZF+V8ozM2lu1VY812u/15akypGh3TmFJesJbHHD167IdUxz3YJy5bNySuX1mbvy55CbMLtzU6tjGlsdFptVqfUMc0Go23F4wy1l2dSnbfvpMwVPe9WWVLDsrOJaF9MFu2Wq1PqmNkGce67xiXhTjdNwdlvV6/BgxfbPfBfVCetxi6b9/rlCup65QzM48dl2OjLMv26CibzeZ96sTIzEFdpwQXz9U1yrtVlpR/Zll2Fec65Y6l4pbbx8XHH9kknvzJlPjlHy8Tp29eKT5ou0aJoIT3w3dBlLDzVpfAJEZ1XOdaJZxnOSlvPMjPzxFljIvng914RwebsjYO7uhMyHu46sOfnf3Oz2TXDW6vvYxdFoIXz3Wc8J5zs9n8iOn2IrxTc2BM3Glqdp7dI553uaOjxrhwcob+MyuUpjs6WZZdon8OcigjPx8V+u+GTWFTSWEx3WYcdJ225jNDSE4q0GHCzlueHOyujn6bUWYgeb9ZZUaQPe+GzQ+Gc8+oOGhC+c1d4gfI16n3XDAhQ7+9qE9l01E2Go132GYKyXE1NiFDTcpoNpv3LOYJGWXNErJNW9sEp63p2RKiVPMn1bS1DgxsyhoGdGpmizj+xtXiDYnx7/vFmce3iWdW1cTVGEY4hQ2ZW0nNq8Qm/M6XbXm3S100lwGedFybuvNOibLI+ZS2ceU4eAxiEuvCkfmU8ycToDxETe6FgCBQHeqyAbFvfEhcO7BwDuXFCEbTZF840XeHK0jYcbs2OIGle0mVJ/mmnClEPQqxyTY5I8/zFhif7fSZee4bnrPOU4AssnRXHaVTCTd14dRDY3UbTIiSeFhsN/aMjgnqthFx880rxX3yATL5p3y4LPXzOaBkUyBjZMlYpbtQlIOBD475ZEusjMNSvkXe6VEoJVDkeZ2dzIfIFsRzU+JF2OyM9M9fTC/6SUYOyFQPjQ2nWiUjxnPfw5EeHqMWIqAeIFsAU847lJM2JM6xsewt1OIDLs99P7ZFHNdB/upS8XtPiD7PfLuCXJNolYyyFiNI/Zit65ItrOVafFbHcFohY7hPTN21Tjz4uc3iqfsnxKdX1MTl1OoYRFaMsToGB6Trw2JFP/OdZC2hJZ7ZkrMoAbbSGmelDJ91hFKuJeS7jlBMkJnrAqqJlgMUZS/dArPlGHNdSg5M3xXXtvquuEatvIYtDRhpxbUJuIgqsU5lGWtUploK0KuEU9mSW8YpmFQ556xNuYW7NiW13B+FkMiKHIy+C6eGgBxJvMR0oSv5hi6+z4HJyZoU0M2RVvDlrOQbcxVfX5AhZbuqy0v7ZstYMLHlAVlLTF9ALLbvu9Y5Zylpn/XOsd0ibIvxr2KCLHpp6SCUIdnSZSF+WzfOhem6GD+1KwR3Z4jNjrtDpNoZwmWd8yrupZN6Hx3fbMmFSe0Swdq2ZIPjxk1112Duo8OBGLrBkw/IoncdK2XHsdC9dHz204m50xh3tzFq1zFqtzHXrfCw7OgDsqyNnZLszVijsmXgrmNcmGtS78lIoMX2aJz03fKO2sDJddPQSCDPiQ1DfWBycY6XtXstc2PQKuxgG2McmXTPb9/9vmuJYXKyJrWjbeg+3xPM4O73nWqvbyw7xgZZSJbEUBa157cNJjdr2vb+5iA1YV3HxYscj30PDCEHIgcjtfm8K8hSsmRotkwFk5s1TTghUAopB6xrjHMBBkI0YYTZ0dZlxwLpkiWDULpmy5gwqayZgZNkA7oKQQCxctByYg0XIIEQQuRitGVHblMTA2ShKGPDpC6wu+DEgJqg2rDGDBtAF4Q6RAojp1xXGmSMbImVcR+YWNY04eQCtUG1ofUJ2/uvcETIgUhhdAE5GAlkKShjwHTNmhhODKgJqQ2sC14uOgyfD0IbRF+MlQaZAiZWyn2yJsTJATqGnHQO2Jhh+xlsACFCG0QbRtdyzQFZCZSxYPpmTS7Q5cjJHYNBYIkZpu99HoUQ/o4QIYSIZUZfjJ4ZMjZI32wZBDMU5yhy8pZTULl4XYP5fagMyEVoy4oupTpGduwnkloSlKEwY+AcQU4MhRTD6ovXBRwFzwWgCSEF0QVjJUGmgEllTS5OLlCIlIN1mS9mx/cZ5eLDALpCTI2RAhkTZQqYoTgpoCPECbaBHQ2ETL3PUl98ECAXYijG0OyYAmQoTG7W5ODkAF1CnVgm2JQx4okPA+gCMTbGskBGgRmaOblAh5GTORIrfKFx4VH4EIAxIXIxlg2SBbMvECY3e7oApbDaIgQu5/2HmeEKEINYiwSRi7EQkLFgumZOCuggctKGI4ULZN/vMeSLj0AYMytWEqMLzFg4fYDaoKaC6wvOFR4FkIPQFaILxrJAOsHsc/zlfYDWXE8qF22s8Pz5KHxcgEVALBtjJXBSSEOwFhk1Zgy4hitCT4hVw+gFs8/zwxqIBbUgyK7fcyA0PD9XX4iVxhiC0xdof6STWCsoBmKF7+cVCWFXQYyBMxRpf+STX1b0x45AhN0OMSrOGEirhrY/dfQAdjvS7oy+WCF6r1RIFxXWvlTRg1YVqFWBmxZbD99ig9pt0YPQw9rD1nstVri9V+/Ve3XrS/wfim4P5fIFxLoAAAAASUVORK5CYII=";class hs{constructor(t,e){(0,o.A)(this,"config",void 0),(0,o.A)(this,"parent",void 0),(0,o.A)(this,"dom",void 0),(0,o.A)(this,"canvas",null),(0,o.A)(this,"context",null),(0,o.A)(this,"sceneRenderer",null),(0,o.A)(this,"loadingScreen",null),(0,o.A)(this,"assetManager",null),(0,o.A)(this,"bg",new l),(0,o.A)(this,"bgFullscreen",new l),(0,o.A)(this,"playerControls",null),(0,o.A)(this,"timelineSlider",null),(0,o.A)(this,"playButton",null),(0,o.A)(this,"skinButton",null),(0,o.A)(this,"animationButton",null),(0,o.A)(this,"playTime",0),(0,o.A)(this,"selectedBones",[]),(0,o.A)(this,"cancelId",0),(0,o.A)(this,"popup",null),(0,o.A)(this,"error",!1),(0,o.A)(this,"skeleton",null),(0,o.A)(this,"animationState",null),(0,o.A)(this,"paused",!0),(0,o.A)(this,"speed",1),(0,o.A)(this,"time",new f),(0,o.A)(this,"stopRequestAnimationFrame",!1),(0,o.A)(this,"disposed",!1),(0,o.A)(this,"viewport",{}),(0,o.A)(this,"currentViewport",{}),(0,o.A)(this,"previousViewport",{}),(0,o.A)(this,"viewportTransitionStart",0),(0,o.A)(this,"eventListeners",[]),this.config=e;let n="string"===typeof t?document.getElementById(t):t;if(null==n)throw new Error("SpinePlayer parent not found: "+t);this.parent=n,void 0===e.showControls&&(e.showControls=!0);let s=e.showControls?'\n<div class="spine-player-controls spine-player-popup-parent spine-player-controls-hidden">\n<div class="spine-player-timeline"></div>\n<div class="spine-player-buttons">\n<button class="spine-player-button spine-player-button-icon-pause"></button>\n<div class="spine-player-button-spacer"></div>\n<button class="spine-player-button spine-player-button-icon-speed"></button>\n<button class="spine-player-button spine-player-button-icon-animations"></button>\n<button class="spine-player-button spine-player-button-icon-skins"></button>\n<button class="spine-player-button spine-player-button-icon-settings"></button>\n<button class="spine-player-button spine-player-button-icon-fullscreen"></button>\n<img class="spine-player-button-icon-spine-logo" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20104%2031.16%22%3E%3Cpath%20d%3D%22M104%2012.68a1.31%201.31%200%200%201-.37%201%201.28%201.28%200%200%201-.85.31H91.57a10.51%2010.51%200%200%200%20.29%202.55%204.92%204.92%200%200%200%201%202%204.27%204.27%200%200%200%201.64%201.26%206.89%206.89%200%200%200%202.6.44%2010.66%2010.66%200%200%200%202.17-.2%2012.81%2012.81%200%200%200%201.64-.44q.69-.25%201.14-.44a1.87%201.87%200%200%201%20.68-.2.44.44%200%200%201%20.27.04.43.43%200%200%201%20.16.2%201.38%201.38%200%200%201%20.09.37%204.89%204.89%200%200%201%200%20.58%204.14%204.14%200%200%201%200%20.43v.32a.83.83%200%200%201-.09.26%201.1%201.1%200%200%201-.17.22%202.77%202.77%200%200%201-.61.34%208.94%208.94%200%200%201-1.32.46%2018.54%2018.54%200%200%201-1.88.41%2013.78%2013.78%200%200%201-2.28.18%2010.55%2010.55%200%200%201-3.68-.59%206.82%206.82%200%200%201-2.66-1.74%207.44%207.44%200%200%201-1.63-2.89%2013.48%2013.48%200%200%201-.55-4%2012.76%2012.76%200%200%201%20.57-3.94%208.35%208.35%200%200%201%201.64-3%207.15%207.15%200%200%201%202.58-1.87%208.47%208.47%200%200%201%203.39-.65%208.19%208.19%200%200%201%203.41.64%206.46%206.46%200%200%201%202.32%201.73%207%207%200%200%201%201.3%202.54%2011.17%2011.17%200%200%201%20.43%203.13zm-3.14-.93a5.69%205.69%200%200%200-1.09-3.86%204.17%204.17%200%200%200-3.42-1.4%204.52%204.52%200%200%200-2%20.44%204.41%204.41%200%200%200-1.47%201.15A5.29%205.29%200%200%200%2092%209.75a7%207%200%200%200-.36%202zM80.68%2021.94a.42.42%200%200%201-.08.26.59.59%200%200%201-.25.18%201.74%201.74%200%200%201-.47.11%206.31%206.31%200%200%201-.76%200%206.5%206.5%200%200%201-.78%200%201.74%201.74%200%200%201-.47-.11.59.59%200%200%201-.25-.18.42.42%200%200%201-.08-.26V12a9.8%209.8%200%200%200-.23-2.35%204.86%204.86%200%200%200-.66-1.53%202.88%202.88%200%200%200-1.13-1%203.57%203.57%200%200%200-1.6-.34%204%204%200%200%200-2.35.83A12.71%2012.71%200%200%200%2069.11%2010v11.9a.42.42%200%200%201-.08.26.59.59%200%200%201-.25.18%201.74%201.74%200%200%201-.47.11%206.51%206.51%200%200%201-.78%200%206.31%206.31%200%200%201-.76%200%201.88%201.88%200%200%201-.48-.11.52.52%200%200%201-.25-.18.46.46%200%200%201-.07-.26v-17a.53.53%200%200%201%20.03-.21.5.5%200%200%201%20.23-.19%201.28%201.28%200%200%201%20.44-.11%208.53%208.53%200%200%201%201.39%200%201.12%201.12%200%200%201%20.43.11.6.6%200%200%201%20.22.19.47.47%200%200%201%20.07.26V7.2a10.46%2010.46%200%200%201%202.87-2.36%206.17%206.17%200%200%201%202.88-.75%206.41%206.41%200%200%201%202.87.58%205.16%205.16%200%200%201%201.88%201.54%206.15%206.15%200%200%201%201%202.26%2013.46%2013.46%200%200%201%20.31%203.11z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M43.35%202.86c.09%202.6%201.89%204%205.48%204.61%203%20.48%205.79.24%206.69-2.37%201.75-5.09-2.4-3.82-6-4.39s-6.31-2.03-6.17%202.15zm1.08%2010.69c.33%201.94%202.14%203.06%204.91%203s4.84-1.16%205.13-3.25c.53-3.88-2.53-2.38-5.3-2.3s-5.4-1.26-4.74%202.55zM48%2022.44c.55%201.45%202.06%202.06%204.1%201.63s3.45-1.11%203.33-2.76c-.21-3.06-2.22-2.1-4.26-1.66S47%2019.6%2048%2022.44zm1.78%206.78c.16%201.22%201.22%202%202.88%201.93s2.92-.67%203.13-2c.4-2.43-1.46-1.53-3.12-1.51s-3.17-.82-2.89%201.58z%22%20fill%3D%22%23ff4000%22%2F%3E%3Cpath%20d%3D%22M35.28%2013.16a15.33%2015.33%200%200%201-.48%204%208.75%208.75%200%200%201-1.42%203%206.35%206.35%200%200%201-2.32%201.91%207.14%207.14%200%200%201-3.16.67%206.1%206.1%200%200%201-1.4-.15%205.34%205.34%200%200%201-1.26-.47%207.29%207.29%200%200%201-1.24-.81q-.61-.49-1.29-1.15v8.51a.47.47%200%200%201-.08.26.56.56%200%200%201-.25.19%201.74%201.74%200%200%201-.47.11%206.47%206.47%200%200%201-.78%200%206.26%206.26%200%200%201-.76%200%201.89%201.89%200%200%201-.48-.11.49.49%200%200%201-.25-.19.51.51%200%200%201-.07-.26V4.91a.57.57%200%200%201%20.06-.27.46.46%200%200%201%20.23-.18%201.47%201.47%200%200%201%20.44-.1%207.41%207.41%200%200%201%201.3%200%201.45%201.45%200%200%201%20.43.1.52.52%200%200%201%20.24.18.51.51%200%200%201%20.07.27V7.2a18.06%2018.06%200%200%201%201.49-1.38%209%209%200%200%201%201.45-1%206.82%206.82%200%200%201%201.49-.59%207.09%207.09%200%200%201%204.78.52%206%206%200%200%201%202.13%202%208.79%208.79%200%200%201%201.2%202.9%2015.72%2015.72%200%200%201%20.4%203.51zm-3.28.36a15.64%2015.64%200%200%200-.2-2.53%207.32%207.32%200%200%200-.69-2.17%204.06%204.06%200%200%200-1.3-1.51%203.49%203.49%200%200%200-2-.57%204.1%204.1%200%200%200-1.2.18%204.92%204.92%200%200%200-1.2.57%208.54%208.54%200%200%200-1.28%201A15.77%2015.77%200%200%200%2022.76%2010v6.77a13.53%2013.53%200%200%200%202.46%202.4%204.12%204.12%200%200%200%202.44.83%203.56%203.56%200%200%200%202-.57A4.28%204.28%200%200%200%2031%2018a7.58%207.58%200%200%200%20.77-2.12%2011.43%2011.43%200%200%200%20.23-2.36zM12%2017.3a5.39%205.39%200%200%201-.48%202.33%204.73%204.73%200%200%201-1.37%201.72%206.19%206.19%200%200%201-2.12%201.06%209.62%209.62%200%200%201-2.71.36%2010.38%2010.38%200%200%201-3.21-.5A7.63%207.63%200%200%201%201%2021.82a3.25%203.25%200%200%201-.66-.43%201.09%201.09%200%200%201-.3-.53%203.59%203.59%200%200%201-.04-.93%204.06%204.06%200%200%201%200-.61%202%202%200%200%201%20.09-.4.42.42%200%200%201%20.16-.22.43.43%200%200%201%20.24-.07%201.35%201.35%200%200%201%20.61.26q.41.26%201%20.56a9.22%209.22%200%200%200%201.41.55%206.25%206.25%200%200%200%201.87.26%205.62%205.62%200%200%200%201.44-.17%203.48%203.48%200%200%200%201.12-.5%202.23%202.23%200%200%200%20.73-.84%202.68%202.68%200%200%200%20.26-1.21%202%202%200%200%200-.37-1.21%203.55%203.55%200%200%200-1-.87%208.09%208.09%200%200%200-1.36-.66l-1.56-.61a16%2016%200%200%201-1.57-.73%206%206%200%200%201-1.37-1%204.52%204.52%200%200%201-1-1.4%204.69%204.69%200%200%201-.37-2%204.88%204.88%200%200%201%20.39-1.87%204.46%204.46%200%200%201%201.16-1.61%205.83%205.83%200%200%201%201.94-1.11A8.06%208.06%200%200%201%206.53%204a8.28%208.28%200%200%201%201.36.11%209.36%209.36%200%200%201%201.23.28%205.92%205.92%200%200%201%20.94.37%204.09%204.09%200%200%201%20.59.35%201%201%200%200%201%20.26.26.83.83%200%200%201%20.09.26%201.32%201.32%200%200%200%20.06.35%203.87%203.87%200%200%201%200%20.51%204.76%204.76%200%200%201%200%20.56%201.39%201.39%200%200%201-.09.39.5.5%200%200%201-.16.22.35.35%200%200%201-.21.07%201%201%200%200%201-.49-.21%207%207%200%200%200-.83-.44%209.26%209.26%200%200%200-1.2-.44%205.49%205.49%200%200%200-1.58-.16%204.93%204.93%200%200%200-1.4.18%202.69%202.69%200%200%200-1%20.51%202.16%202.16%200%200%200-.59.83%202.43%202.43%200%200%200-.2%201%202%202%200%200%200%20.38%201.24%203.6%203.6%200%200%200%201%20.88%208.25%208.25%200%200%200%201.38.68l1.58.62q.8.32%201.59.72a6%206%200%200%201%201.39%201%204.37%204.37%200%200%201%201%201.36%204.46%204.46%200%200%201%20.37%201.8z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E">\n</div></div>':"";this.parent.appendChild(this.dom=ps(`<div class="spine-player" style="position:relative;height:100%"><canvas class="spine-player-canvas" style="display:block;width:100%;height:100%"></canvas>${s}</div>`));try{this.validateConfig(e)}catch(i){this.showError(i.message,i)}this.initialize(),this.addEventListener(window,"resize",(()=>this.drawFrame(!1))),requestAnimationFrame((()=>this.drawFrame()))}dispose(){this.sceneRenderer?.dispose(),this.loadingScreen?.dispose(),this.assetManager?.dispose();for(var t=0;t<this.eventListeners.length;t++){var e=this.eventListeners[t];e.target.removeEventListener(e.event,e.func)}this.parent.removeChild(this.dom),this.disposed=!0}addEventListener(t,e,n){this.eventListeners.push({target:t,event:e,func:n}),t.addEventListener(e,n)}validateConfig(t){if(!t)throw new Error("A configuration object must be passed to to new SpinePlayer().");if(t.skelUrl&&(t.skeleton=t.skelUrl),!t.skeleton&&!t.jsonUrl&&!t.binaryUrl)throw new Error("A URL must be specified for the skeleton JSON or binary file.");if(t.scale||(t.scale=1),!t.atlas&&!t.atlasUrl)throw new Error("A URL must be specified for the atlas file.");if(t.jsonUrl&&!t.skeleton&&(t.skeleton=t.jsonUrl),t.binaryUrl&&!t.skeleton&&(t.skeleton=t.binaryUrl),t.atlasUrl&&!t.atlas&&(t.atlas=t.atlasUrl),t.backgroundColor||(t.backgroundColor=t.alpha?"00000000":"000000"),t.fullScreenBackgroundColor||(t.fullScreenBackgroundColor=t.backgroundColor),t.backgroundImage&&!t.backgroundImage.url&&(t.backgroundImage=void 0),void 0===t.premultipliedAlpha&&(t.premultipliedAlpha=!0),void 0===t.preserveDrawingBuffer&&(t.preserveDrawingBuffer=!1),void 0===t.mipmaps&&(t.mipmaps=!0),t.debug||(t.debug={bones:!1,clipping:!1,bounds:!1,hulls:!1,meshes:!1,paths:!1,points:!1,regions:!1}),t.animations&&t.animation&&t.animations.indexOf(t.animation)<0)throw new Error("Animation '"+t.animation+"' is not in the config animation list: "+gs(t.animations));if(t.skins&&t.skin&&t.skins.indexOf(t.skin)<0)throw new Error("Default skin '"+t.skin+"' is not in the config skins list: "+gs(t.skins));t.viewport||(t.viewport={}),t.viewport.animations||(t.viewport.animations={}),void 0===t.viewport.debugRender&&(t.viewport.debugRender=!1),void 0===t.viewport.transitionTime&&(t.viewport.transitionTime=.25),t.controlBones||(t.controlBones=[]),void 0===t.showLoading&&(t.showLoading=!0),void 0===t.defaultMix&&(t.defaultMix=.25)}initialize(){let t=this.config,e=this.dom;if(!t.alpha){let e=t.backgroundColor;this.dom.style.backgroundColor=("#"==e.charAt(0)?e:"#"+e).substr(0,7)}try{this.canvas=fs(e,"spine-player-canvas"),this.context=new nn(this.canvas,{alpha:t.alpha,preserveDrawingBuffer:t.preserveDrawingBuffer}),this.sceneRenderer=new Zn(this.canvas,this.context,!0),t.showLoading&&(this.loadingScreen=new os(this.sceneRenderer))}catch(n){return this.showError("Sorry, your browser does not support WebG, or you have disabled WebGL in your browser settings.\nPlease use the latest version of Firefox, Chrome, Edge, or Safari.",n),null}if(this.assetManager=new rn(this.context,"",t.downloader),t.rawDataURIs)for(let s in t.rawDataURIs)this.assetManager.setRawDataURI(s,t.rawDataURIs[s]);if(t.skeleton.endsWith(".json")?this.assetManager.loadJson(t.skeleton):this.assetManager.loadBinary(t.skeleton),this.assetManager.loadTextureAtlas(t.atlas),t.backgroundImage&&this.assetManager.loadTexture(t.backgroundImage.url),this.bg.setFromString(t.backgroundColor),this.bgFullscreen.setFromString(t.fullScreenBackgroundColor),t.showControls){this.playerControls=e.children[1];let t=this.playerControls.children,n=t[0],s=t[1].children;this.playButton=s[0];let i=s[2];this.animationButton=s[3],this.skinButton=s[4];let r=s[5],o=s[6],a=s[7];this.timelineSlider=new ds,n.appendChild(this.timelineSlider.create()),this.timelineSlider.change=t=>{this.pause();let e=this.animationState.getCurrent(0).animation.duration,n=e*t;this.animationState.update(n-this.playTime),this.animationState.apply(this.skeleton),this.skeleton.update(n-this.playTime),this.skeleton.updateWorldTransform(Xt.update),this.playTime=n},this.playButton.onclick=()=>this.paused?this.play():this.pause(),i.onclick=()=>this.showSpeedDialog(i),this.animationButton.onclick=()=>this.showAnimationsDialog(this.animationButton),this.skinButton.onclick=()=>this.showSkinsDialog(this.skinButton),r.onclick=()=>this.showSettingsDialog(r);let l=this.canvas.clientWidth,h=this.canvas.clientHeight,c=this.canvas.style.width,u=this.canvas.style.height,d=!1;o.onclick=()=>{let t=()=>{d=!d,d||(this.canvas.style.width=l+"px",this.canvas.style.height=h+"px",this.drawFrame(!1),requestAnimationFrame((()=>{this.canvas.style.width=c,this.canvas.style.height=u})))},n=e;n.onfullscreenchange=t,n.onwebkitfullscreenchange=t;let s=document;s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement?s.exitFullscreen?s.exitFullscreen():s.mozCancelFullScreen?s.mozCancelFullScreen():s.webkitExitFullscreen?s.webkitExitFullscreen():s.msExitFullscreen&&s.msExitFullscreen():(l=this.canvas.clientWidth,h=this.canvas.clientHeight,c=this.canvas.style.width,u=this.canvas.style.height,n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullScreen?n.webkitRequestFullScreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen())},a.onclick=()=>window.open("http://esotericsoftware.com")}return e}loadSkeleton(){if(this.error)return;this.assetManager.hasErrors()&&this.showError("Error: Assets could not be loaded.\n"+gs(this.assetManager.getErrors()));let t,e=this.config,n=this.assetManager.require(e.atlas),s=this.context.gl,i=s.getExtension("EXT_texture_filter_anisotropic"),r=-1!=s.getParameter(s.VERSION).indexOf("WebGL 1.0");for(let d of n.pages){let t=d.minFilter;var o=e.mipmaps,a=h.isPowerOfTwo(d.width)&&h.isPowerOfTwo(d.height);r&&!a&&(o=!1),o&&(i?(s.texParameterf(s.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,8),t=At.MipMapLinearLinear):t=At.Linear,d.texture.setFilters(t,At.Nearest)),t!=At.Nearest&&t!=At.Linear&&d.texture.update(!0)}try{let s,i,r=new Lt(n);if(e.skeleton.endsWith(".json")){if(i=this.assetManager.remove(e.skeleton),!i)throw new Error("Empty JSON data.");if(e.jsonField&&(i=i[e.jsonField],!i))throw new Error("JSON field does not exist: "+e.jsonField);s=new Ze(r)}else i=this.assetManager.remove(e.skeleton),s=new le(r);s.scale=e.scale,t=s.readSkeletonData(i)}catch(u){return void this.showError(`Error: Could not load skeleton data.\n${u.message}`,u)}this.skeleton=new Qt(t);let l=new vt(t);l.defaultMix=e.defaultMix,this.animationState=new at(l),e.controlBones.forEach((e=>{t.findBone(e)||this.showError(`Error: Control bone does not exist in skeleton: ${e}`)})),!e.skin&&t.skins.length&&(e.skin=t.skins[0].name),e.skins&&e.skin.length&&e.skins.forEach((t=>{this.skeleton.data.findSkin(t)||this.showError(`Error: Skin in config list does not exist in skeleton: ${t}`)})),e.skin&&(this.skeleton.data.findSkin(e.skin)||this.showError(`Error: Skin does not exist in skeleton: ${e.skin}`),this.skeleton.setSkinByName(e.skin),this.skeleton.setSlotsToSetupPose()),Object.getOwnPropertyNames(e.viewport.animations).forEach((e=>{t.findAnimation(e)||this.showError(`Error: Animation for which a viewport was specified does not exist in skeleton: ${e}`)})),e.animations&&e.animations.length&&(e.animations.forEach((t=>{this.skeleton.data.findAnimation(t)||this.showError(`Error: Animation in config list does not exist in skeleton: ${t}`)})),e.animation||(e.animation=e.animations[0])),e.animation&&!t.findAnimation(e.animation)&&this.showError(`Error: Animation does not exist in skeleton: ${e.animation}`),this.setupInput(),e.showControls&&((1==t.skins.length||e.skins&&1==e.skins.length)&&this.skinButton.classList.add("spine-player-hidden"),(1==t.animations.length||e.animations&&1==e.animations.length)&&this.animationButton.classList.add("spine-player-hidden")),e.success&&e.success(this);let c=this.animationState.getCurrent(0);c?this.currentViewport||(this.setViewport(c.animation),this.play()):e.animation?(c=this.setAnimation(e.animation),this.play()):(c=this.animationState.setEmptyAnimation(0),c.trackEnd=1e8,this.skeleton.updateWorldTransform(Xt.update),this.setViewport(c.animation),this.pause())}setupInput(){let t=this.config,e=t.controlBones;if(!e.length&&!t.showControls)return;let n=this.selectedBones=new Array(e.length),s=this.canvas,i=null,r=new d,o=new on,a=new on,l=new d,c=this.skeleton,u=this.sceneRenderer,f=function(t,i){a.set(t,s.clientHeight-i,0),r.x=r.y=0;let l=24,h=0,d=null;for(let f=0;f<e.length;f++){n[f]=null;let t=c.findBone(e[f]);if(!t)continue;let i=u.camera.worldToScreen(o.set(t.worldX,t.worldY,0),s.clientWidth,s.clientHeight).distance(a);i<l&&(l=i,d=t,h=f,r.x=o.x-a.x,r.y=o.y-a.y)}return d&&(n[h]=d),d};if(new Cn(s).addListener({down:(t,e)=>{i=f(t,e)},up:()=>{i?i=null:t.showControls&&(this.paused?this.play():this.pause())},dragged:(t,e)=>{i&&(t=h.clamp(t+r.x,0,s.clientWidth),e=h.clamp(e-r.y,0,s.clientHeight),u.camera.screenToWorld(o.set(t,e,0),s.clientWidth,s.clientHeight),i.parent?(i.parent.worldToLocal(l.set(o.x-c.x,o.y-c.y)),i.x=l.x,i.y=l.y):(i.x=o.x-c.x,i.y=o.y-c.y))},moved:(t,e)=>f(t,e)}),t.showControls){this.addEventListener(document,"mousemove",(t=>{t instanceof MouseEvent&&i(t.clientX,t.clientY)})),this.addEventListener(document,"touchmove",(t=>{if(t instanceof TouchEvent){let e=t.changedTouches;if(e.length){let t=e[0];i(t.clientX,t.clientY)}}}));let t=(t,e,n)=>{let s=t-n.left,i=e-n.top;return s>=0&&s<=n.width&&i>=0&&i<=n.height},e=!0,n=!1,i=(i,r)=>{let o=fs(this.dom,"spine-player-popup");e=t(i,r,this.playerControls.getBoundingClientRect()),n=t(i,r,s.getBoundingClientRect()),clearTimeout(this.cancelId);let a=!o&&!e&&!n&&!this.paused;a?this.playerControls.classList.add("spine-player-controls-hidden"):this.playerControls.classList.remove("spine-player-controls-hidden"),e||o||this.paused||(this.cancelId=setTimeout((()=>{this.paused||this.playerControls.classList.add("spine-player-controls-hidden")}),1e3))}}}play(){this.paused=!1;let t=this.config;t.showControls&&(this.cancelId=setTimeout((()=>{this.paused||this.playerControls.classList.add("spine-player-controls-hidden")}),1e3),this.playButton.classList.remove("spine-player-button-icon-play"),this.playButton.classList.add("spine-player-button-icon-pause"),t.animation||(t.animations&&t.animations.length?t.animation=t.animations[0]:this.skeleton.data.animations.length&&(t.animation=this.skeleton.data.animations[0].name),t.animation&&this.setAnimation(t.animation)))}pause(){this.paused=!0,this.config.showControls&&(this.playerControls.classList.remove("spine-player-controls-hidden"),clearTimeout(this.cancelId),this.playButton.classList.remove("spine-player-button-icon-pause"),this.playButton.classList.add("spine-player-button-icon-play"))}setAnimation(t,e=!0){return t=this.setViewport(t),this.animationState.setAnimationWith(0,t,e)}addAnimation(t,e=!0,n=0){return t=this.setViewport(t),this.animationState.addAnimationWith(0,t,e,n)}setViewport(t){if("string"==typeof t){let e=this.skeleton.data.findAnimation(t);if(!e)throw new Error("Animation not found: "+t);t=e}this.previousViewport=this.currentViewport;let e=this.config.viewport,n=this.currentViewport={padLeft:void 0!==e.padLeft?e.padLeft:"10%",padRight:void 0!==e.padRight?e.padRight:"10%",padTop:void 0!==e.padTop?e.padTop:"10%",padBottom:void 0!==e.padBottom?e.padBottom:"10%"};void 0!==e.x&&void 0!==e.y&&e.width&&e.height?(n.x=e.x,n.y=e.y,n.width=e.width,n.height=e.height):this.calculateAnimationViewport(t,n);let s=this.config.viewport.animations[t.name];return s&&(void 0!==s.x&&void 0!==s.y&&s.width&&s.height&&(n.x=s.x,n.y=s.y,n.width=s.width,n.height=s.height),void 0!==s.padLeft&&(n.padLeft=s.padLeft),void 0!==s.padRight&&(n.padRight=s.padRight),void 0!==s.padTop&&(n.padTop=s.padTop),void 0!==s.padBottom&&(n.padBottom=s.padBottom)),n.padLeft=this.percentageToWorldUnit(n.width,n.padLeft),n.padRight=this.percentageToWorldUnit(n.width,n.padRight),n.padBottom=this.percentageToWorldUnit(n.height,n.padBottom),n.padTop=this.percentageToWorldUnit(n.height,n.padTop),this.viewportTransitionStart=performance.now(),t}percentageToWorldUnit(t,e){return"string"===typeof e?t*parseFloat(e.substr(0,e.length-1))/100:e}calculateAnimationViewport(t,e){this.skeleton.setToSetupPose();let n=100,s=t.duration?t.duration/n:0,i=0,r=1e8,o=-1e8,a=1e8,l=-1e8,h=new d,c=new d;const u=new Array(2);for(let d=0;d<n;d++,i+=s)t.apply(this.skeleton,i,i,!1,[],1,b.setup,w.mixIn),this.skeleton.updateWorldTransform(Xt.update),this.skeleton.getBounds(h,c,u,this.sceneRenderer.skeletonRenderer.getSkeletonClipping()),isNaN(h.x)||isNaN(h.y)||isNaN(c.x)||isNaN(c.y)?this.showError("Animation bounds are invalid: "+t.name):(r=Math.min(h.x,r),o=Math.max(h.x+c.x,o),a=Math.min(h.y,a),l=Math.max(h.y+c.y,l));e.x=r,e.y=a,e.width=o-r,e.height=l-a}drawFrame(t=!0){try{if(this.error)return;if(this.disposed)return;t&&!this.stopRequestAnimationFrame&&requestAnimationFrame((()=>this.drawFrame()));let e=document,n=e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement,s=n?this.bgFullscreen:this.bg;this.time.update();let i=this.time.delta,r=!this.assetManager.isLoadingComplete();this.skeleton||r||this.loadSkeleton();let o=this.skeleton,a=this.config;if(o){let t=this.sceneRenderer;t.resize(Kn.Expand);let e=this.paused?0:i*this.speed;if(a.frame&&a.frame(this,e),!this.paused&&(o.update(e),this.animationState.update(e),this.animationState.apply(o),a.updateWorldTransform?a.updateWorldTransform(this,e):o.updateWorldTransform(Xt.update),a.showControls)){this.playTime+=e;let t=this.animationState.getCurrent(0);if(t){let e=t.animation.duration;while(this.playTime>=e&&0!=e)this.playTime-=e;this.playTime=Math.max(0,Math.min(this.playTime,e)),this.timelineSlider.setValue(this.playTime/e)}}let n=this.viewport;if(n.x=this.currentViewport.x-this.currentViewport.padLeft,n.y=this.currentViewport.y-this.currentViewport.padBottom,n.width=this.currentViewport.width+this.currentViewport.padLeft+this.currentViewport.padRight,n.height=this.currentViewport.height+this.currentViewport.padBottom+this.currentViewport.padTop,this.previousViewport){let t=(performance.now()-this.viewportTransitionStart)/1e3/a.viewport.transitionTime;if(t<1){let e=this.previousViewport.x-this.previousViewport.padLeft,s=this.previousViewport.y-this.previousViewport.padBottom,i=this.previousViewport.width+this.previousViewport.padLeft+this.previousViewport.padRight,r=this.previousViewport.height+this.previousViewport.padBottom+this.previousViewport.padTop;n.x=e+(n.x-e)*t,n.y=s+(n.y-s)*t,n.width=i+(n.width-i)*t,n.height=r+(n.height-r)*t}}t.camera.zoom=this.canvas.height/this.canvas.width>n.height/n.width?n.width/this.canvas.width:n.height/this.canvas.height,t.camera.position.x=n.x+n.width/2,t.camera.position.y=n.y+n.height/2;let r=this.context.gl;r.clearColor(s.r,s.g,s.b,s.a),r.clear(r.COLOR_BUFFER_BIT),a.update&&a.update(this,e),t.begin();let h=a.backgroundImage;if(h){let e=this.assetManager.require(h.url);void 0!==h.x&&void 0!==h.y&&h.width&&h.height?t.drawTexture(e,h.x,h.y,h.width,h.height):t.drawTexture(e,n.x,n.y,n.width,n.height)}t.drawSkeleton(o,a.premultipliedAlpha),Number(t.skeletonDebugRenderer.drawBones=a.debug.bones??!1)+Number(t.skeletonDebugRenderer.drawBoundingBoxes=a.debug.bounds??!1)+Number(t.skeletonDebugRenderer.drawClipping=a.debug.clipping??!1)+Number(t.skeletonDebugRenderer.drawMeshHull=a.debug.hulls??!1)+Number(t.skeletonDebugRenderer.drawPaths=a.debug.paths??!1)+Number(t.skeletonDebugRenderer.drawRegionAttachments=a.debug.regions??!1)+Number(t.skeletonDebugRenderer.drawMeshTriangles=a.debug.meshes??!1)>0&&t.drawSkeletonDebug(o,a.premultipliedAlpha);let c=a.controlBones;if(c.length){let e=this.selectedBones;r.lineWidth(2);for(let n=0;n<c.length;n++){let s=o.findBone(c[n]);if(!s)continue;let i=e[n]?ys:bs,r=e[n]?vs:ws;t.circle(!0,o.x+s.worldX,o.y+s.worldY,20,i),t.circle(!1,o.x+s.worldX,o.y+s.worldY,20,r)}}a.viewport.debugRender&&(r.lineWidth(1),t.rect(!1,this.currentViewport.x,this.currentViewport.y,this.currentViewport.width,this.currentViewport.height,l.GREEN),t.rect(!1,n.x,n.y,n.width,n.height,l.RED)),t.end(),a.draw&&a.draw(this,e)}a.showLoading&&(this.loadingScreen.backgroundColor.setFromColor(s),this.loadingScreen.draw(!r)),r&&a.loading&&a.loading(this,i)}catch(e){this.showError(`Error: Unable to render skeleton.\n${e.message}`,e)}}startRendering(){this.stopRequestAnimationFrame=!1,requestAnimationFrame((()=>this.drawFrame()))}stopRendering(){this.stopRequestAnimationFrame=!0}hidePopup(t){return null!=this.popup&&this.popup.hide(t)}showSpeedDialog(t){let e="speed";if(this.hidePopup(e))return;let n=new cs(e,t,this,this.playerControls,'\n<div class="spine-player-popup-title">Speed</div>\n<hr>\n<div class="spine-player-row" style="align-items:center;padding:8px">\n<div class="spine-player-column">\n\t<div class="spine-player-speed-slider" style="margin-bottom:4px"></div>\n\t<div class="spine-player-row" style="justify-content:space-between"><div>0.1x</div><div>1x</div><div>2x</div></div>\n</div>\n</div>'),s=new ds(2,.1,!0);fs(n.dom,"spine-player-speed-slider").appendChild(s.create()),s.setValue(this.speed/2),s.change=t=>this.speed=2*t,n.show()}showAnimationsDialog(t){let e="animations";if(this.hidePopup(e))return;if(!this.skeleton||!this.skeleton.data.animations.length)return;let n=new cs(e,t,this,this.playerControls,'<div class="spine-player-popup-title">Animations</div><hr><ul class="spine-player-list"></ul>'),s=fs(n.dom,"spine-player-list");this.skeleton.data.animations.forEach((t=>{if(this.config.animations&&this.config.animations.indexOf(t.name)<0)return;let e=ps('<li class="spine-player-list-item selectable"><div class="selectable-circle"></div><div class="selectable-text"></div></li>');t.name==this.config.animation&&e.classList.add("selected"),fs(e,"selectable-text").innerText=t.name,s.appendChild(e),e.onclick=()=>{ms(s.children,"selected"),e.classList.add("selected"),this.config.animation=t.name,this.playTime=0,this.setAnimation(t.name),this.play()}})),n.show()}showSkinsDialog(t){let e="skins";if(this.hidePopup(e))return;if(!this.skeleton||!this.skeleton.data.animations.length)return;let n=new cs(e,t,this,this.playerControls,'<div class="spine-player-popup-title">Skins</div><hr><ul class="spine-player-list"></ul>'),s=fs(n.dom,"spine-player-list");this.skeleton.data.skins.forEach((t=>{if(this.config.skins&&this.config.skins.indexOf(t.name)<0)return;let e=ps('<li class="spine-player-list-item selectable"><div class="selectable-circle"></div><div class="selectable-text"></div></li>');t.name==this.config.skin&&e.classList.add("selected"),fs(e,"selectable-text").innerText=t.name,s.appendChild(e),e.onclick=()=>{ms(s.children,"selected"),e.classList.add("selected"),this.config.skin=t.name,this.skeleton.setSkinByName(this.config.skin),this.skeleton.setSlotsToSetupPose()}})),n.show()}showSettingsDialog(t){let e="settings";if(this.hidePopup(e))return;if(!this.skeleton||!this.skeleton.data.animations.length)return;let n=new cs(e,t,this,this.playerControls,'<div class="spine-player-popup-title">Debug</div><hr><ul class="spine-player-list"></li>'),s=fs(n.dom,"spine-player-list"),i=(t,e)=>{let n=ps('<li class="spine-player-list-item"></li>'),i=new us(t);n.appendChild(i.create());let r=this.config.debug;i.setEnabled(r[e]),i.change=t=>r[e]=t,s.appendChild(n)};i("Bones","bones"),i("Regions","regions"),i("Meshes","meshes"),i("Bounds","bounds"),i("Paths","paths"),i("Clipping","clipping"),i("Points","points"),i("Hulls","hulls"),n.show()}showError(t,e){if(!this.error)throw this.error=!0,this.dom.appendChild(ps('<div class="spine-player-error" style="background:#000;color:#fff;position:absolute;top:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;overflow:auto;z-index:999">'+t.replace("\n","<br><br>")+"</div>")),this.config.error&&this.config.error(this,t),e||new Error(t);if(e)throw e}}class cs{constructor(t,e,n,s,i){(0,o.A)(this,"id",void 0),(0,o.A)(this,"button",void 0),(0,o.A)(this,"player",void 0),(0,o.A)(this,"dom",void 0),(0,o.A)(this,"className",void 0),(0,o.A)(this,"windowClickListener",void 0),this.id=t,this.button=e,this.player=n,this.dom=ps('<div class="spine-player-popup spine-player-hidden"></div>'),this.dom.innerHTML=i,s.appendChild(this.dom),this.className="spine-player-button-icon-"+t+"-selected"}dispose(){}hide(t){return this.dom.remove(),this.button.classList.remove(this.className),this.id==t&&(this.player.popup=null,!0)}show(){this.player.popup=this,this.button.classList.add(this.className),this.dom.classList.remove("spine-player-hidden");let t=!1,e=()=>{t||requestAnimationFrame(e);let n=this.player.dom,s=Math.abs(n.getBoundingClientRect().bottom-n.getBoundingClientRect().bottom),i=Math.abs(n.getBoundingClientRect().right-n.getBoundingClientRect().right);this.dom.style.maxHeight=n.clientHeight-s-i+"px"};requestAnimationFrame(e);let n=!0,s=e=>{n||this.player.popup!=this?n=!1:this.dom.contains(e.target)||(this.dom.remove(),window.removeEventListener("click",s),this.button.classList.remove(this.className),this.player.popup=null,t=!0)};this.player.addEventListener(window,"click",s)}}class us{constructor(t){(0,o.A)(this,"text",void 0),(0,o.A)(this,"switch",null),(0,o.A)(this,"enabled",!1),(0,o.A)(this,"change",(()=>{})),this.text=t}create(){return this.switch=ps(`\n<div class="spine-player-switch">\n\t<span class="spine-player-switch-text">${this.text}</span>\n\t<div class="spine-player-switch-knob-area">\n\t\t<div class="spine-player-switch-knob"></div>\n\t</div>\n</div>`),this.switch.addEventListener("click",(()=>{this.setEnabled(!this.enabled),this.change&&this.change(this.enabled)})),this.switch}setEnabled(t){t?this.switch?.classList.add("active"):this.switch?.classList.remove("active"),this.enabled=t}isEnabled(){return this.enabled}}class ds{constructor(t=0,e=.1,n=!1){(0,o.A)(this,"snaps",void 0),(0,o.A)(this,"snapPercentage",void 0),(0,o.A)(this,"big",void 0),(0,o.A)(this,"slider",null),(0,o.A)(this,"value",null),(0,o.A)(this,"knob",null),(0,o.A)(this,"change",(()=>{})),this.snaps=t,this.snapPercentage=e,this.big=n}create(){this.slider=ps(`\n<div class="spine-player-slider ${this.big?"big":""}">\n\t<div class="spine-player-slider-value"></div>\n\t\x3c!--<div class="spine-player-slider-knob"></div>--\x3e\n</div>`),this.value=fs(this.slider,"spine-player-slider-value"),this.setValue(0);let t=!1;return new Cn(this.slider).addListener({down:(e,n)=>{t=!0,this.value?.classList.add("hovering")},up:(e,n)=>{t=!1,this.change&&this.change(this.setValue(e/this.slider.clientWidth)),this.value?.classList.remove("hovering")},moved:(e,n)=>{t&&this.change&&this.change(this.setValue(e/this.slider.clientWidth))},dragged:(t,e)=>{this.change&&this.change(this.setValue(t/this.slider.clientWidth))}}),this.slider}setValue(t){if(t=Math.max(0,Math.min(1,t)),this.snaps){let e=1/this.snaps,n=t%e;n<e*this.snapPercentage?t-=n:n>e-e*this.snapPercentage&&(t=t-n+e),t=Math.max(0,Math.min(1,t))}return this.value.style.width=100*t+"%",t}}function fs(t,e){return t.getElementsByClassName(e)[0]}function ps(t){let e=document.createElement("div");return e.innerHTML=t,e.children[0]}function ms(t,e){for(let n=0;n<t.length;n++)t[n].classList.remove(e)}function gs(t){return JSON.stringify(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").replace(/'/g,"&#39;")}const ys=new l(.478,0,0,.25),vs=new l(1,1,1,1),bs=new l(.478,0,0,.5),ws=new l(1,0,0,.8);function xs(t){return new Promise(((e,n)=>{const s=document.createElement("script");s.src=t,s.onload=()=>e(),s.onerror=()=>n(new Error(`Script load error for ${t}`)),document.head.appendChild(s)}))}function As(t){return new Promise(((e,n)=>{const s=document.createElement("link");s.href=t,s.rel="stylesheet",s.onload=()=>e(),s.onerror=()=>n(new Error(`CSS load error for ${t}`)),document.head.appendChild(s)}))}class Es{constructor(t){(0,o.A)(this,"parent",void 0),(0,o.A)(this,"prefix","<html>\n<head>\n<style>\nbody { margin: 0px; }\n</style>\n</head>\n<body>".trim()),(0,o.A)(this,"postfix","</body>"),(0,o.A)(this,"code",void 0),(0,o.A)(this,"player",void 0),(0,o.A)(this,"timerId",0),this.parent=t,this.load()}async load(){await Promise.all([xs("https://www.unpkg.com/codemirror@5.51.0/lib/codemirror.js"),As("https://www.unpkg.com/codemirror@5.51.0/lib/codemirror.css")]),this.render(this.parent)}render(t){let e='\n\t\t\t\t<div style="display: flex; flex-direction: column; width: 100%; height: 100%;">\n\t\t\t\t\t<div style="width: 100%; height: 50%"></div>\n\t\t\t\t\t<iframe style="width: 100%; height: 50%; outline: none; border: none;"></iframe>\n\t\t\t\t</div>\n\t\t\t';t.innerHTML=e;let n=t.children[0].children[0];this.player=t.children[0].children[1],requestAnimationFrame((()=>{this.code=CodeMirror(n,{lineNumbers:!0,tabSize:3,indentUnit:3,indentWithTabs:!0,scrollBarStyle:"native",mode:"htmlmixed",theme:"monokai"}),this.code.on("change",(()=>{this.startPlayer()})),n.children[0].style.height="100%",this.setCode(Es.DEFAULT_CODE)}))}setPreAndPostfix(t,e){this.prefix=t,this.postfix=e,this.startPlayer()}setCode(t){this.code.setValue(t),this.startPlayer()}startPlayer(){clearTimeout(this.timerId),this.timerId=setTimeout((()=>{let t=this.code.getDoc().getValue();t=this.prefix+t+this.postfix,t=window.btoa(t),this.player.src="",this.player.src="data:text/html;base64,"+t}),500)}}(0,o.A)(Es,"DEFAULT_CODE",'\n<script src="https://esotericsoftware.com/files/spine-player/4.1/spine-player.js"><\/script>\n<link rel="stylesheet" href="https://esotericsoftware.com/files/spine-player/4.1/spine-player.css">\n\n<div id="player-container" style="width: 100vw; height: 100vh;"></div>\n\n<script>\nnew spine.SpinePlayer("player-container", {\n\tjsonUrl: "https://esotericsoftware.com/files/examples/4.1/spineboy/export/spineboy-pro.json",\n\tatlasUrl: "https://esotericsoftware.com/files/examples/4.1/spineboy/export/spineboy-pma.atlas"\n});\n<\/script>\n\t\t'.trim())},5234:function(t,e,n){"use strict";n.d(e,{Ey:function(){return S},nY:function(){return X}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(4603),n(7566),n(8721);var s=n(144),i=!1;function r(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}var o=n(6768);
/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */
let a;const l=t=>a=t,h=Symbol();function c(t){return t&&"object"===typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!==typeof t.toJSON}var u;(function(t){t["direct"]="direct",t["patchObject"]="patch object",t["patchFunction"]="patch function"})(u||(u={}));const d="undefined"!==typeof window,f=(()=>"object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof global&&global.global===global?global:"object"===typeof globalThis?globalThis:{HTMLElement:null})();function p(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function m(t,e,n){const s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){w(s.response,e,n)},s.onerror=function(){console.error("could not download file")},s.send()}function g(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function y(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const v="object"===typeof navigator?navigator:{userAgent:""},b=(()=>/Macintosh/.test(v.userAgent)&&/AppleWebKit/.test(v.userAgent)&&!/Safari/.test(v.userAgent))(),w=d?"undefined"!==typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!b?x:"msSaveOrOpenBlob"in v?A:E:()=>{};function x(t,e="download",n){const s=document.createElement("a");s.download=e,s.rel="noopener","string"===typeof t?(s.href=t,s.origin!==location.origin?g(s.href)?m(t,e,n):(s.target="_blank",y(s)):y(s)):(s.href=URL.createObjectURL(t),setTimeout((function(){URL.revokeObjectURL(s.href)}),4e4),setTimeout((function(){y(s)}),0))}function A(t,e="download",n){if("string"===typeof t)if(g(t))m(t,e,n);else{const e=document.createElement("a");e.href=t,e.target="_blank",setTimeout((function(){y(e)}))}else navigator.msSaveOrOpenBlob(p(t,n),e)}function E(t,e,n,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),"string"===typeof t)return m(t,e,n);const i="application/octet-stream"===t.type,r=/constructor/i.test(String(f.HTMLElement))||"safari"in f,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&r||b)&&"undefined"!==typeof FileReader){const e=new FileReader;e.onloadend=function(){let t=e.result;if("string"!==typeof t)throw s=null,new Error("Wrong reader.result type");t=o?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location.assign(t),s=null},e.readAsDataURL(t)}else{const e=URL.createObjectURL(t);s?s.location.assign(e):location.href=e,s=null,setTimeout((function(){URL.revokeObjectURL(e)}),4e4)}}const{assign:k}=Object;function S(){const t=(0,s.uY)(!0),e=t.run((()=>(0,s.KR)({})));let n=[],r=[];const o=(0,s.IG)({install(t){l(o),i||(o._a=t,t.provide(h,o),t.config.globalProperties.$pinia=o,r.forEach((t=>n.push(t))),r=[])},use(t){return this._a||i?n.push(t):r.push(t),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const C=()=>{};function T(t,e,n,i=C){t.push(e);const r=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i())};return!n&&(0,s.o5)()&&(0,s.jr)(r),r}function R(t,...e){t.slice().forEach((t=>{t(...e)}))}const I=t=>t(),M=Symbol(),_=Symbol();function F(t,e){t instanceof Map&&e instanceof Map?e.forEach(((e,n)=>t.set(n,e))):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],r=t[n];c(r)&&c(i)&&t.hasOwnProperty(n)&&!(0,s.i9)(i)&&!(0,s.g8)(i)?t[n]=F(r,i):t[n]=i}return t}const O=Symbol(),L=new WeakMap;function B(t){return i?!L.has(t):!c(t)||!t.hasOwnProperty(O)}const{assign:P}=Object;function Y(t){return!(!(0,s.i9)(t)||!t.effect)}function N(t,e,n,a){const{state:h,actions:c,getters:u}=e,d=n.state.value[t];let f;function p(){d||(i?r(n.state.value,t,h?h():{}):n.state.value[t]=h?h():{});const e=(0,s.QW)(n.state.value[t]);return P(e,c,Object.keys(u||{}).reduce(((e,r)=>(e[r]=(0,s.IG)((0,o.EW)((()=>{l(n);const e=n._s.get(t);if(!i||e._r)return u[r].call(e,e)}))),e)),{}))}return f=D(t,p,e,n,a,!0),f}function D(t,e,n={},a,h,c){let d;const f=P({actions:{}},n);const p={deep:!0};let m,g;let y,v=[],b=[];const w=a.state.value[t];c||w||(i?r(a.state.value,t,{}):a.state.value[t]={});(0,s.KR)({});let x;function A(e){let n;m=g=!1,"function"===typeof e?(e(a.state.value[t]),n={type:u.patchFunction,storeId:t,events:y}):(F(a.state.value[t],e),n={type:u.patchObject,payload:e,storeId:t,events:y});const s=x=Symbol();(0,o.dY)().then((()=>{x===s&&(m=!0)})),g=!0,R(v,n,a.state.value[t])}const E=c?function(){const{state:t}=n,e=t?t():{};this.$patch((t=>{P(t,e)}))}:C;function k(){d.stop(),v=[],b=[],a._s.delete(t)}const S=(e,n="")=>{if(M in e)return e[_]=n,e;const s=function(){l(a);const n=Array.from(arguments),i=[],r=[];function o(t){i.push(t)}function h(t){r.push(t)}let c;R(b,{args:n,name:s[_],store:L,after:o,onError:h});try{c=e.apply(this&&this.$id===t?this:L,n)}catch(u){throw R(r,u),u}return c instanceof Promise?c.then((t=>(R(i,t),t))).catch((t=>(R(r,t),Promise.reject(t)))):(R(i,c),c)};return s[M]=!0,s[_]=n,s},O={_p:a,$id:t,$onAction:T.bind(null,b),$patch:A,$reset:E,$subscribe(e,n={}){const s=T(v,e,n.detached,(()=>i())),i=d.run((()=>(0,o.wB)((()=>a.state.value[t]),(s=>{("sync"===n.flush?g:m)&&e({storeId:t,type:u.direct,events:y},s)}),P({},p,n))));return s},$dispose:k};i&&(O._r=!1);const L=(0,s.Kh)(O);a._s.set(t,L);const N=a._a&&a._a.runWithContext||I,D=N((()=>a._e.run((()=>(d=(0,s.uY)()).run((()=>e({action:S})))))));for(const o in D){const e=D[o];if((0,s.i9)(e)&&!Y(e)||(0,s.g8)(e))c||(w&&B(e)&&((0,s.i9)(e)?e.value=w[o]:F(e,w[o])),i?r(a.state.value[t],o,e):a.state.value[t][o]=e);else if("function"===typeof e){const t=S(e,o);i?r(D,o,t):D[o]=t,f.actions[o]=e}else 0}return i?Object.keys(D).forEach((t=>{r(L,t,D[t])})):(P(L,D),P((0,s.ux)(L),D)),Object.defineProperty(L,"$state",{get:()=>a.state.value[t],set:t=>{A((e=>{P(e,t)}))}}),i&&(L._r=!0),a._p.forEach((t=>{P(L,d.run((()=>t({store:L,app:a._a,pinia:a,options:f}))))})),w&&c&&n.hydrate&&n.hydrate(L.$state,w),m=!0,g=!0,L}function X(t,e,n){let s,i;const r="function"===typeof e;function c(t,n){const c=(0,o.PS)();t=t||(c?(0,o.WQ)(h,null):null),t&&l(t),t=a,t._s.has(s)||(r?D(s,e,i,t):N(s,i,t));const u=t._s.get(s);return u}return"string"===typeof t?(s=t,i=r?n:e):(i=t,s=t.id),c.$id=s,c}},7910:function(t,e,n){"use strict";n.d(e,{io:function(){return Gt}});var s={};n.r(s),n.d(s,{Decoder:function(){return Dt},Encoder:function(){return Yt},PacketType:function(){return Pt},protocol:function(){return Bt}});n(4114),n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);const i=Object.create(null);i["open"]="0",i["close"]="1",i["ping"]="2",i["pong"]="3",i["message"]="4",i["upgrade"]="5",i["noop"]="6";const r=Object.create(null);Object.keys(i).forEach((t=>{r[i[t]]=t}));const o={type:"error",data:"parser error"},a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),l="function"===typeof ArrayBuffer,h=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,c=({type:t,data:e},n,s)=>a&&e instanceof Blob?n?s(e):u(e,s):l&&(e instanceof ArrayBuffer||h(e))?n?s(e):u(new Blob([e]),s):s(i[t]+(e||"")),u=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function d(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let f;function p(t,e){return a&&t.data instanceof Blob?t.data.arrayBuffer().then(d).then(e):l&&(t.data instanceof ArrayBuffer||h(t.data))?e(d(t.data)):void c(t,!1,(t=>{f||(f=new TextEncoder),e(f.encode(t))}))}const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let $t=0;$t<m.length;$t++)g[m.charCodeAt($t)]=$t;const y=t=>{let e,n,s,i,r,o=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);const h=new ArrayBuffer(o),c=new Uint8Array(h);for(e=0;e<a;e+=4)n=g[t.charCodeAt(e)],s=g[t.charCodeAt(e+1)],i=g[t.charCodeAt(e+2)],r=g[t.charCodeAt(e+3)],c[l++]=n<<2|s>>4,c[l++]=(15&s)<<4|i>>2,c[l++]=(3&i)<<6|63&r;return h},v="function"===typeof ArrayBuffer,b=(t,e)=>{if("string"!==typeof t)return{type:"message",data:x(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:w(t.substring(1),e)};const s=r[n];return s?t.length>1?{type:r[n],data:t.substring(1)}:{type:r[n]}:o},w=(t,e)=>{if(v){const n=y(t);return x(n,e)}return{base64:!0,data:t}},x=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},A=String.fromCharCode(30),E=(t,e)=>{const n=t.length,s=new Array(n);let i=0;t.forEach(((t,r)=>{c(t,!1,(t=>{s[r]=t,++i===n&&e(s.join(A))}))}))},k=(t,e)=>{const n=t.split(A),s=[];for(let i=0;i<n.length;i++){const t=b(n[i],e);if(s.push(t),"error"===t.type)break}return s};function S(){return new TransformStream({transform(t,e){p(t,(n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,s)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(s))}t.data&&"string"!==typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(n)}))}})}let C;function T(t){return t.reduce(((t,e)=>t+e.length),0)}function R(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let i=0;i<e;i++)n[i]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function I(t,e){C||(C=new TextDecoder);const n=[];let s=0,i=-1,r=!1;return new TransformStream({transform(a,l){n.push(a);while(1){if(0===s){if(T(n)<1)break;const t=R(n,1);r=128===(128&t[0]),i=127&t[0],s=i<126?3:126===i?1:2}else if(1===s){if(T(n)<2)break;const t=R(n,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),s=3}else if(2===s){if(T(n)<8)break;const t=R(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),r=e.getUint32(0);if(r>Math.pow(2,21)-1){l.enqueue(o);break}i=r*Math.pow(2,32)+e.getUint32(4),s=3}else{if(T(n)<i)break;const t=R(n,i);l.enqueue(b(r?t:C.decode(t),e)),s=0}if(0===i||i>t){l.enqueue(o);break}}}})}const M=4;function _(t){if(t)return F(t)}function F(t){for(var e in _.prototype)t[e]=_.prototype[e];return t}_.prototype.on=_.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},_.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},_.prototype.off=_.prototype.removeListener=_.prototype.removeAllListeners=_.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+t];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<s.length;i++)if(n=s[i],n===e||n.fn===e){s.splice(i,1);break}return 0===s.length&&delete this._callbacks["$"+t],this},_.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);s=0;for(var i=n.length;s<i;++s)n[s].apply(this,e)}return this},_.prototype.emitReserved=_.prototype.emit,_.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},_.prototype.hasListeners=function(t){return!!this.listeners(t).length};const O=(()=>"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")())();function L(t,...e){return e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const B=O.setTimeout,P=O.clearTimeout;function Y(t,e){e.useNativeTimers?(t.setTimeoutFn=B.bind(O),t.clearTimeoutFn=P.bind(O)):(t.setTimeoutFn=O.setTimeout.bind(O),t.clearTimeoutFn=O.clearTimeout.bind(O))}const N=1.33;function D(t){return"string"===typeof t?X(t):Math.ceil((t.byteLength||t.size)*N)}function X(t){let e=0,n=0;for(let s=0,i=t.length;s<i;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function V(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function U(t){let e={},n=t.split("&");for(let s=0,i=n.length;s<i;s++){let t=n[s].split("=");e[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return e}class j extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class W extends _{constructor(t){super(),this.writable=!1,Y(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new j(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=b(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=V(t);return e.length?"?"+e:""}}const q="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),z=64,G={};let H,$=0,Z=0;function K(t){let e="";do{e=q[t%z]+e,t=Math.floor(t/z)}while(t>0);return e}function J(){const t=K(+new Date);return t!==H?($=0,H=t):t+"."+K($++)}for(;Z<z;Z++)G[q[Z]]=Z;let Q=!1;try{Q="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Ht){}const tt=Q;function et(t){const e=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!e||tt))return new XMLHttpRequest}catch(n){}if(!e)try{return new(O[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function nt(){}function st(){}const it=function(){const t=new et({xdomain:!1});return null!=t.responseType}();class rt extends W{constructor(t){if(super(t),this.polling=!1,"undefined"!==typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!==typeof location&&t.hostname!==location.hostname||n!==t.port}const e=t&&t.forceBase64;this.supportsBinary=it&&!e,this.opts.withCredentials&&(this.cookieJar=nt())}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};k(t,this.socket.binaryType).forEach(e),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,E(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=J()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ot(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class ot extends _{constructor(t,e){super(),Y(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=void 0!==e.data?e.data:null,this.create()}create(){var t;const e=L(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const n=this.xhr=new et(e);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(s){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{n.setRequestHeader("Accept","*/*")}catch(s){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(s){return void this.setTimeoutFn((()=>{this.onError(s)}),0)}"undefined"!==typeof document&&(this.index=ot.requestsCount++,ot.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=st,t)try{this.xhr.abort()}catch(e){}"undefined"!==typeof document&&delete ot.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(ot.requestsCount=0,ot.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",at);else if("function"===typeof addEventListener){const t="onpagehide"in O?"pagehide":"unload";addEventListener(t,at,!1)}function at(){for(let t in ot.requests)ot.requests.hasOwnProperty(t)&&ot.requests[t].abort()}const lt=(()=>{const t="function"===typeof Promise&&"function"===typeof Promise.resolve;return t?t=>Promise.resolve().then(t):(t,e)=>e(t,0)})(),ht=O.WebSocket||O.MozWebSocket,ct=!0,ut="arraybuffer",dt="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ft extends W{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=dt?{}:L(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=ct&&!dt?e?new ht(t,e):new ht(t):new ht(t,e,n)}catch(Ht){return this.emitReserved("error",Ht)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],s=e===t.length-1;c(n,this.supportsBinary,(t=>{const e={};if(!ct&&(n.options&&(e.compress=n.options.compress),this.opts.perMessageDeflate)){const n="string"===typeof t?Buffer.byteLength(t):t.length;n<this.opts.perMessageDeflate.threshold&&(e.compress=!1)}try{ct?this.ws.send(t):this.ws.send(t,e)}catch(i){}s&&lt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=J()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!ht}}class pt extends W{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const e=I(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),s=S();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter();const i=()=>{n.read().then((({done:t,value:e})=>{t||(this.onPacket(e),i())})).catch((t=>{}))};i();const r={type:"open"};this.query.sid&&(r.data=`{"sid":"${this.query.sid}"}`),this.writer.write(r).then((()=>this.onOpen()))}))})))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],s=e===t.length-1;this.writer.write(n).then((()=>{s&&lt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}}const mt={websocket:ft,webtransport:pt,polling:rt},gt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function vt(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");-1!=n&&-1!=s&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let i=gt.exec(t||""),r={},o=14;while(o--)r[yt[o]]=i[o]||"";return-1!=n&&-1!=s&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=bt(r,r["path"]),r.queryKey=wt(r,r["query"]),r}function bt(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||s.splice(0,1),"/"==e.slice(-1)&&s.splice(s.length-1,1),s}function wt(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,s){e&&(n[e]=s)})),n}class xt extends _{constructor(t,e={}){super(),this.binaryType=ut,this.writeBuffer=[],t&&"object"===typeof t&&(e=t,t=null),t?(t=vt(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=vt(e.host).host),Y(this,e),this.secure=null!=e.secure?e.secure:"undefined"!==typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=U(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=M,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new mt[t](n)}open(){let t;if(this.opts.rememberUpgrade&&xt.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),n=!1;xt.priorWebsocketSuccess=!1;const s=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;xt.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){n||(n=!0,h(),e.close(),e=null)}const r=t=>{const n=new Error("probe error: "+t);n.transport=e.name,i(),this.emitReserved("upgradeError",n)};function o(){r("transport closed")}function a(){r("socket closed")}function l(t){e&&t.name!==e.name&&i()}const h=()=>{e.removeListener("open",s),e.removeListener("error",r),e.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};e.once("open",s),e.once("error",r),e.once("close",o),this.once("close",a),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||e.open()}),200):e.open()}onOpen(){if(this.readyState="open",xt.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){const t=this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1;if(!t)return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const t=this.writeBuffer[n].data;if(t&&(e+=D(t)),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,s){if("function"===typeof e&&(s=e,e=void 0),"function"===typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;n=n||{},n.compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){xt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const s=t.length;for(;n<s;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}xt.protocol=M;xt.protocol;function At(t,e="",n){let s=t;n=n||"undefined"!==typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof n?n.protocol+"//"+t:"https://"+t),s=vt(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=-1!==s.host.indexOf(":"),r=i?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+e,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}n(9479);const Et="function"===typeof ArrayBuffer,kt=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,St=Object.prototype.toString,Ct="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===St.call(Blob),Tt="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===St.call(File);function Rt(t){return Et&&(t instanceof ArrayBuffer||kt(t))||Ct&&t instanceof Blob||Tt&&t instanceof File}function It(t,e){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(It(t[e]))return!0;return!1}if(Rt(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return It(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&It(t[n]))return!0;return!1}function Mt(t){const e=[],n=t.data,s=t;return s.data=_t(n,e),s.attachments=e.length,{packet:s,buffers:e}}function _t(t,e){if(!t)return t;if(Rt(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=_t(t[s],e);return n}if("object"===typeof t&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=_t(t[s],e));return n}return t}function Ft(t,e){return t.data=Ot(t.data,e),delete t.attachments,t}function Ot(t,e){if(!t)return t;if(t&&!0===t._placeholder){const n="number"===typeof t.num&&t.num>=0&&t.num<e.length;if(n)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Ot(t[n],e);else if("object"===typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Ot(t[n],e));return t}const Lt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Bt=5;var Pt;(function(t){t[t["CONNECT"]=0]="CONNECT",t[t["DISCONNECT"]=1]="DISCONNECT",t[t["EVENT"]=2]="EVENT",t[t["ACK"]=3]="ACK",t[t["CONNECT_ERROR"]=4]="CONNECT_ERROR",t[t["BINARY_EVENT"]=5]="BINARY_EVENT",t[t["BINARY_ACK"]=6]="BINARY_ACK"})(Pt||(Pt={}));class Yt{constructor(t){this.replacer=t}encode(t){return t.type!==Pt.EVENT&&t.type!==Pt.ACK||!It(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Pt.EVENT?Pt.BINARY_EVENT:Pt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==Pt.BINARY_EVENT&&t.type!==Pt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=Mt(t),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}}function Nt(t){return"[object Object]"===Object.prototype.toString.call(t)}class Dt extends _{constructor(t){super(),this.reviver=t}add(t){let e;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===Pt.BINARY_EVENT;n||e.type===Pt.BINARY_ACK?(e.type=n?Pt.EVENT:Pt.ACK,this.reconstructor=new Xt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Rt(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===Pt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Pt.BINARY_EVENT||n.type===Pt.BINARY_ACK){const s=e+1;while("-"!==t.charAt(++e)&&e!=t.length);const i=t.substring(s,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){const s=e+1;while(++e){const n=t.charAt(e);if(","===n)break;if(e===t.length)break}n.nsp=t.substring(s,e)}else n.nsp="/";const s=t.charAt(e+1);if(""!==s&&Number(s)==s){const s=e+1;while(++e){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(s,e+1))}if(t.charAt(++e)){const s=this.tryParse(t.substr(e));if(!Dt.isPayloadValid(n.type,s))throw new Error("invalid payload");n.data=s}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}static isPayloadValid(t,e){switch(t){case Pt.CONNECT:return Nt(e);case Pt.DISCONNECT:return void 0===e;case Pt.CONNECT_ERROR:return"string"===typeof e||Nt(e);case Pt.EVENT:case Pt.BINARY_EVENT:return Array.isArray(e)&&("number"===typeof e[0]||"string"===typeof e[0]&&-1===Lt.indexOf(e[0]));case Pt.ACK:case Pt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Xt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=Ft(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Vt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Ut=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jt extends _{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Vt(t,"open",this.onopen.bind(this)),Vt(t,"packet",this.onpacket.bind(this)),Vt(t,"error",this.onerror.bind(this)),Vt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io["_reconnecting"]||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(Ut.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const n={type:Pt.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"===typeof e[e.length-1]){const t=this.ids++,s=e.pop();this._registerAckCallback(t,s),n.id=t}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,i=this.flags.volatile&&(!s||!this.connected);return i||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){var n;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),s),r=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,t)};r.withError=!0,this.acks[t]=r}emitWithAck(t,...e){return new Promise(((n,s)=>{const i=(t,e)=>t?s(t):n(e);i.withError=!0,e.push(i),this.emit(t,...e)}))}_addToQueue(t){let e;"function"===typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...s)=>{if(n!==this._queue[0])return;const i=null!==t;return i?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...s)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Pt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{const e=this.sendBuffer.some((e=>String(e.id)===t));if(!e){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){const e=t.nsp===this.nsp;if(e)switch(t.type){case Pt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pt.EVENT:case Pt.BINARY_EVENT:this.onevent(t);break;case Pt.ACK:case Pt.BINARY_ACK:this.onack(t);break;case Pt.DISCONNECT:this.ondisconnect();break;case Pt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e);break}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"===typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...s){n||(n=!0,e.packet({type:Pt.ACK,id:t,data:s}))}}onack(t){const e=this.acks[t.id];"function"===typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io["_destroy"](this)}disconnect(){return this.connected&&this.packet({type:Pt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function Wt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Wt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Wt.prototype.reset=function(){this.attempts=0},Wt.prototype.setMin=function(t){this.ms=t},Wt.prototype.setMax=function(t){this.max=t},Wt.prototype.setJitter=function(t){this.jitter=t};class qt extends _{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Y(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Wt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const i=e.parser||s;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xt(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Vt(e,"open",(function(){n.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},r=Vt(e,"error",i);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{s(),i(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(s),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Vt(t,"ping",this.onping.bind(this)),Vt(t,"data",this.ondata.bind(this)),Vt(t,"error",this.onerror.bind(this)),Vt(t,"close",this.onclose.bind(this)),Vt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){lt((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new jt(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e){const t=this.nsps[n];if(t.active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const zt={};function Gt(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};const n=At(t,e.path||"/socket.io"),s=n.source,i=n.id,r=n.path,o=zt[i]&&r in zt[i]["nsps"],a=e.forceNew||e["force new connection"]||!1===e.multiplex||o;let l;return a?l=new qt(s,e):(zt[i]||(zt[i]=new qt(s,e)),l=zt[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Gt,{Manager:qt,Socket:jt,io:Gt,connect:Gt})},1387:function(t,e,n){"use strict";n.d(e,{LA:function(){return at},aE:function(){return se}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var s=n(6768),i=n(144);
/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */
const r="undefined"!==typeof document;function o(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function l(t,e){const n={};for(const s in e){const i=e[s];n[s]=c(i)?i.map(t):t(i)}return n}const h=()=>{},c=Array.isArray;const u=/#/g,d=/&/g,f=/\//g,p=/=/g,m=/\?/g,g=/\+/g,y=/%5B/g,v=/%5D/g,b=/%5E/g,w=/%60/g,x=/%7B/g,A=/%7C/g,E=/%7D/g,k=/%20/g;function S(t){return encodeURI(""+t).replace(A,"|").replace(y,"[").replace(v,"]")}function C(t){return S(t).replace(x,"{").replace(E,"}").replace(b,"^")}function T(t){return S(t).replace(g,"%2B").replace(k,"+").replace(u,"%23").replace(d,"%26").replace(w,"`").replace(x,"{").replace(E,"}").replace(b,"^")}function R(t){return T(t).replace(p,"%3D")}function I(t){return S(t).replace(u,"%23").replace(m,"%3F")}function M(t){return null==t?"":I(t).replace(f,"%2F")}function _(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}const F=/\/$/,O=t=>t.replace(F,"");function L(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=U(null!=s?s:e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:_(o)}}function B(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function P(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function Y(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&N(e.matched[s],n.matched[i])&&D(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function N(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function D(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!X(t[n],e[n]))return!1;return!0}function X(t,e){return c(t)?V(t,e):c(e)?V(e,t):t===e}function V(t,e){return c(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function U(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];".."!==i&&"."!==i||s.push("");let r,o,a=n.length-1;for(r=0;r<s.length;r++)if(o=s[r],"."!==o){if(".."!==o)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+s.slice(r).join("/")}const j={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var W,q;(function(t){t["pop"]="pop",t["push"]="push"})(W||(W={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(q||(q={}));function z(t){if(!t)if(r){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),O(t)}const G=/^[^#]+#/;function H(t,e){return t.replace(G,"#")+e}function $(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Z=()=>({left:window.scrollX,top:window.scrollY});function K(t){let e;if("el"in t){const n=t.el,s="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=$(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}function J(t,e){const n=history.state?history.state.position-e:-1;return n+t}const Q=new Map;function tt(t,e){Q.set(t,e)}function et(t){const e=Q.get(t);return Q.delete(t),e}let nt=()=>location.protocol+"//"+location.host;function st(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let e=i.includes(t.slice(r))?t.slice(r).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),P(n,"")}const o=P(n,t);return o+s+i}function it(t,e,n,s){let i=[],r=[],o=null;const l=({state:r})=>{const a=st(t,location),l=n.value,h=e.value;let c=0;if(r){if(n.value=a,e.value=r,o&&o===l)return void(o=null);c=h?r.position-h.position:0}else s(a);i.forEach((t=>{t(n.value,l,{delta:c,type:W.pop,direction:c?c>0?q.forward:q.back:q.unknown})}))};function h(){o=n.value}function c(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return r.push(e),e}function u(){const{history:t}=window;t.state&&t.replaceState(a({},t.state,{scroll:Z()}),"")}function d(){for(const t of r)t();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:h,listen:c,destroy:d}}function rt(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Z():null}}function ot(t){const{history:e,location:n}=window,s={value:st(t,n)},i={value:e.state};function r(s,r,o){const a=t.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+s:nt()+t+s;try{e[o?"replaceState":"pushState"](r,"",l),i.value=r}catch(h){console.error(h),n[o?"replace":"assign"](l)}}function o(t,n){const o=a({},e.state,rt(i.value.back,t,i.value.forward,!0),n,{position:i.value.position});r(t,o,!0),s.value=t}function l(t,n){const o=a({},i.value,e.state,{forward:t,scroll:Z()});r(o.current,o,!0);const l=a({},rt(s.value,t,null),{position:o.position+1},n);r(t,l,!1),s.value=t}return i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:s,state:i,push:l,replace:o}}function at(t){t=z(t);const e=ot(t),n=it(t,e.state,e.location,e.replace);function s(t,e=!0){e||n.pauseListeners(),history.go(t)}const i=a({location:"",base:t,go:s,createHref:H.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function lt(t){return"string"===typeof t||t&&"object"===typeof t}function ht(t){return"string"===typeof t||"symbol"===typeof t}const ct=Symbol("");var ut;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(ut||(ut={}));function dt(t,e){return a(new Error,{type:t,[ct]:!0},e)}function ft(t,e){return t instanceof Error&&ct in t&&(null==e||!!(t.type&e))}const pt="[^/]+?",mt={sensitive:!1,strict:!1,start:!0,end:!0},gt=/[.+*?^${}()[\]/\\]/g;function yt(t,e){const n=a({},mt,e),s=[];let i=n.start?"^":"";const r=[];for(const a of t){const t=a.length?[]:[90];n.strict&&!a.length&&(i+="/");for(let e=0;e<a.length;e++){const s=a[e];let o=40+(n.sensitive?.25:0);if(0===s.type)e||(i+="/"),i+=s.value.replace(gt,"\\$&"),o+=40;else if(1===s.type){const{value:t,repeatable:n,optional:l,regexp:h}=s;r.push({name:t,repeatable:n,optional:l});const c=h||pt;if(c!==pt){o+=10;try{new RegExp(`(${c})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${t}" (${c}): `+u.message)}}let d=n?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;e||(d=l&&a.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),i+=d,o+=20,l&&(o+=-8),n&&(o+=-20),".*"===c&&(o+=-50)}t.push(o)}s.push(t)}if(n.strict&&n.end){const t=s.length-1;s[t][s[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(t){const e=t.match(o),n={};if(!e)return null;for(let s=1;s<e.length;s++){const t=e[s]||"",i=r[s-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n}function h(e){let n="",s=!1;for(const i of t){s&&n.endsWith("/")||(n+="/"),s=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:r,repeatable:o,optional:a}=t,l=r in e?e[r]:"";if(c(l)&&!o)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const h=c(l)?l.join("/"):l;if(!h){if(!a)throw new Error(`Missing required param "${r}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):s=!0)}n+=h}}return n||"/"}return{re:o,score:s,keys:r,parse:l,stringify:h}}function vt(t,e){let n=0;while(n<t.length&&n<e.length){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function bt(t,e){let n=0;const s=t.score,i=e.score;while(n<s.length&&n<i.length){const t=vt(s[n],i[n]);if(t)return t;n++}if(1===Math.abs(i.length-s.length)){if(wt(s))return 1;if(wt(i))return-1}return i.length-s.length}function wt(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xt={type:0,value:""},At=/[a-zA-Z0-9_]/;function Et(t){if(!t)return[[]];if("/"===t)return[[xt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${h}": ${t}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a,l=0,h="",c="";function u(){h&&(0===n?r.push({type:0,value:h}):1===n||2===n||3===n?(r.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),h="")}function d(){h+=a}while(l<t.length)if(a=t[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(h&&u(),o()):":"===a?(u(),n=1):d();break;case 4:d(),n=s;break;case 1:"("===a?n=2:At.test(a)?d():(u(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:u(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,c="";break;default:e("Unknown state");break}else s=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${h}"`),u(),o(),i}function kt(t,e,n){const s=yt(Et(t.path),n);const i=a(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf===!e.record.aliasOf&&e.children.push(i),i}function St(t,e){const n=[],s=new Map;function i(t){return s.get(t)}function r(t,n,s){const i=!s,l=Tt(t);l.aliasOf=s&&s.record;const u=_t(e,t),d=[l];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)d.push(a({},l,{components:s?s.record.components:l.components,path:t,aliasOf:s?s.record:l}))}let f,p;for(const e of d){const{path:a}=e;if(n&&"/"!==a[0]){const t=n.record.path,s="/"===t[t.length-1]?"":"/";e.path=n.record.path+(a&&s+a)}if(f=kt(e,n,u),s?s.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),i&&t.name&&!It(f)&&o(t.name)),Lt(f)&&c(f),l.children){const t=l.children;for(let e=0;e<t.length;e++)r(t[e],f,s&&s.children[e])}s=s||f}return p?()=>{o(p)}:h}function o(t){if(ht(t)){const e=s.get(t);e&&(s.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&s.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function l(){return n}function c(t){const e=Ft(t,n);n.splice(e,0,t),t.record.name&&!It(t)&&s.set(t.record.name,t)}function u(t,e){let i,r,o,l={};if("name"in t&&t.name){if(i=s.get(t.name),!i)throw dt(1,{location:t});0,o=i.record.name,l=a(Ct(e.params,i.keys.filter((t=>!t.optional)).concat(i.parent?i.parent.keys.filter((t=>t.optional)):[]).map((t=>t.name))),t.params&&Ct(t.params,i.keys.map((t=>t.name)))),r=i.stringify(l)}else if(null!=t.path)r=t.path,i=n.find((t=>t.re.test(r))),i&&(l=i.parse(r),o=i.record.name);else{if(i=e.name?s.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw dt(1,{location:t,currentLocation:e});o=i.record.name,l=a({},e.params,t.params),r=i.stringify(l)}const h=[];let c=i;while(c)h.unshift(c.record),c=c.parent;return{name:o,path:r,params:l,matched:h,meta:Mt(h)}}function d(){n.length=0,s.clear()}return e=_t({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>r(t))),{addRoute:r,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:l,getRecordMatcher:i}}function Ct(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Tt(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Rt(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Rt(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]="object"===typeof n?n[s]:n;return e}function It(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Mt(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function _t(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Ft(t,e){let n=0,s=e.length;while(n!==s){const i=n+s>>1,r=bt(t,e[i]);r<0?s=i:n=i+1}const i=Ot(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function Ot(t){let e=t;while(e=e.parent)if(Lt(e)&&0===bt(t,e))return e}function Lt({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Bt(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],s=(n?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const t=s[i].replace(g," "),n=t.indexOf("="),r=_(n<0?t:t.slice(0,n)),o=n<0?null:_(t.slice(n+1));if(r in e){let t=e[r];c(t)||(t=e[r]=[t]),t.push(o)}else e[r]=o}return e}function Pt(t){let e="";for(let n in t){const s=t[n];if(n=R(n),null==s){void 0!==s&&(e+=(e.length?"&":"")+n);continue}const i=c(s)?s.map((t=>t&&T(t))):[s&&T(s)];i.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Yt(t){const e={};for(const n in t){const s=t[n];void 0!==s&&(e[n]=c(s)?s.map((t=>null==t?null:""+t)):null==s?s:""+s)}return e}const Nt=Symbol(""),Dt=Symbol(""),Xt=Symbol(""),Vt=Symbol(""),Ut=Symbol("");function jt(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Wt(t,e,n,s,i,r=t=>t()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise(((a,l)=>{const h=t=>{!1===t?l(dt(4,{from:n,to:e})):t instanceof Error?l(t):lt(t)?l(dt(2,{from:e,to:t})):(o&&s.enterCallbacks[i]===o&&"function"===typeof t&&o.push(t),a())},c=r((()=>t.call(s&&s.instances[i],e,n,h)));let u=Promise.resolve(c);t.length<3&&(u=u.then(h)),u.catch((t=>l(t)))}))}function qt(t,e,n,s,i=t=>t()){const r=[];for(const a of t){0;for(const t in a.components){let l=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if(zt(l)){const o=l.__vccOpts||l,h=o[e];h&&r.push(Wt(h,n,s,a,t,i))}else{let h=l();0,r.push((()=>h.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${a.path}"`));const l=o(r)?r.default:r;a.components[t]=l;const h=l.__vccOpts||l,c=h[e];return c&&Wt(c,n,s,a,t,i)()}))))}}}return r}function zt(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function Gt(t){const e=(0,s.WQ)(Xt),n=(0,s.WQ)(Vt);const r=(0,s.EW)((()=>{const n=(0,i.R1)(t.to);return e.resolve(n)})),o=(0,s.EW)((()=>{const{matched:t}=r.value,{length:e}=t,s=t[e-1],i=n.matched;if(!s||!i.length)return-1;const o=i.findIndex(N.bind(null,s));if(o>-1)return o;const a=Jt(t[e-2]);return e>1&&Jt(s)===a&&i[i.length-1].path!==a?i.findIndex(N.bind(null,t[e-2])):o})),a=(0,s.EW)((()=>o.value>-1&&Kt(n.params,r.value.params))),l=(0,s.EW)((()=>o.value>-1&&o.value===n.matched.length-1&&D(n.params,r.value.params)));function c(n={}){return Zt(n)?e[(0,i.R1)(t.replace)?"replace":"push"]((0,i.R1)(t.to)).catch(h):Promise.resolve()}return{route:r,href:(0,s.EW)((()=>r.value.href)),isActive:a,isExactActive:l,navigate:c}}const Ht=(0,s.pM)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gt,setup(t,{slots:e}){const n=(0,i.Kh)(Gt(t)),{options:r}=(0,s.WQ)(Xt),o=(0,s.EW)((()=>({[Qt(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Qt(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=e.default&&e.default(n);return t.custom?i:(0,s.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),$t=Ht;function Zt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Kt(t,e){for(const n in e){const s=e[n],i=t[n];if("string"===typeof s){if(s!==i)return!1}else if(!c(i)||i.length!==s.length||s.some(((t,e)=>t!==i[e])))return!1}return!0}function Jt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Qt=(t,e,n)=>null!=t?t:null!=e?e:n,te=(0,s.pM)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=(0,s.WQ)(Ut),o=(0,s.EW)((()=>t.route||r.value)),l=(0,s.WQ)(Dt,0),h=(0,s.EW)((()=>{let t=(0,i.R1)(l);const{matched:e}=o.value;let n;while((n=e[t])&&!n.components)t++;return t})),c=(0,s.EW)((()=>o.value.matched[h.value]));(0,s.Gt)(Dt,(0,s.EW)((()=>h.value+1))),(0,s.Gt)(Nt,c),(0,s.Gt)(Ut,o);const u=(0,i.KR)();return(0,s.wB)((()=>[u.value,c.value,t.name]),(([t,e,n],[s,i,r])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===s&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&N(e,i)&&s||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=o.value,r=t.name,l=c.value,h=l&&l.components[r];if(!h)return ee(n.default,{Component:h,route:i});const d=l.props[r],f=d?!0===d?i.params:"function"===typeof d?d(i):d:null,p=t=>{t.component.isUnmounted&&(l.instances[r]=null)},m=(0,s.h)(h,a({},f,e,{onVnodeUnmounted:p,ref:u}));return ee(n.default,{Component:m,route:i})||m}}});function ee(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const ne=te;function se(t){const e=St(t.routes,t),n=t.parseQuery||Bt,o=t.stringifyQuery||Pt,u=t.history;const d=jt(),f=jt(),p=jt(),m=(0,i.IJ)(j);let g=j;r&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=l.bind(null,(t=>""+t)),v=l.bind(null,M),b=l.bind(null,_);function w(t,n){let s,i;return ht(t)?(s=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,s)}function x(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function A(){return e.getRoutes().map((t=>t.record))}function E(t){return!!e.getRecordMatcher(t)}function k(t,s){if(s=a({},s||m.value),"string"===typeof t){const i=L(n,t,s.path),r=e.resolve({path:i.path},s),o=u.createHref(i.fullPath);return a(i,r,{params:b(r.params),hash:_(i.hash),redirectedFrom:void 0,href:o})}let i;if(null!=t.path)i=a({},t,{path:L(n,t.path,s.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];i=a({},t,{params:v(e)}),s.params=v(s.params)}const r=e.resolve(i,s),l=t.hash||"";r.params=y(b(r.params));const h=B(o,a({},t,{hash:C(l),path:r.path})),c=u.createHref(h);return a({fullPath:h,hash:l,query:o===Pt?Yt(t.query):t.query||{}},r,{redirectedFrom:void 0,href:c})}function S(t){return"string"===typeof t?L(n,t,m.value.path):a({},t)}function T(t,e){if(g!==t)return dt(8,{from:e,to:t})}function R(t){return O(t)}function I(t){return R(a(S(t),{replace:!0}))}function F(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let s="function"===typeof n?n(t):n;return"string"===typeof s&&(s=s.includes("?")||s.includes("#")?s=S(s):{path:s},s.params={}),a({query:t.query,hash:t.hash,params:null!=s.path?{}:t.params},s)}}function O(t,e){const n=g=k(t),s=m.value,i=t.state,r=t.force,l=!0===t.replace,h=F(n);if(h)return O(a(S(h),{state:"object"===typeof h?a({},i,h.state):i,force:r,replace:l}),e||n);const c=n;let u;return c.redirectedFrom=e,!r&&Y(o,s,n)&&(u=dt(16,{to:c,from:s}),st(s,s,!0,!1)),(u?Promise.resolve(u):D(c,s)).catch((t=>ft(t)?ft(t,2)?t:nt(t):$(t,c,s))).then((t=>{if(t){if(ft(t,2))return O(a({replace:l},S(t.to),{state:"object"===typeof t.to?a({},i,t.to.state):i,force:r}),e||c)}else t=V(c,s,!0,l,i);return X(c,s,t),t}))}function P(t,e){const n=T(t,e);return n?Promise.reject(n):Promise.resolve()}function N(t){const e=ot.values().next().value;return e&&"function"===typeof e.runWithContext?e.runWithContext(t):t()}function D(t,e){let n;const[s,i,r]=ie(t,e);n=qt(s.reverse(),"beforeRouteLeave",t,e);for(const a of s)a.leaveGuards.forEach((s=>{n.push(Wt(s,t,e))}));const o=P.bind(null,t,e);return n.push(o),lt(n).then((()=>{n=[];for(const s of d.list())n.push(Wt(s,t,e));return n.push(o),lt(n)})).then((()=>{n=qt(i,"beforeRouteUpdate",t,e);for(const s of i)s.updateGuards.forEach((s=>{n.push(Wt(s,t,e))}));return n.push(o),lt(n)})).then((()=>{n=[];for(const s of r)if(s.beforeEnter)if(c(s.beforeEnter))for(const i of s.beforeEnter)n.push(Wt(i,t,e));else n.push(Wt(s.beforeEnter,t,e));return n.push(o),lt(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=qt(r,"beforeRouteEnter",t,e,N),n.push(o),lt(n)))).then((()=>{n=[];for(const s of f.list())n.push(Wt(s,t,e));return n.push(o),lt(n)})).catch((t=>ft(t,8)?t:Promise.reject(t)))}function X(t,e,n){p.list().forEach((s=>N((()=>s(t,e,n)))))}function V(t,e,n,s,i){const o=T(t,e);if(o)return o;const l=e===j,h=r?history.state:{};n&&(s||l?u.replace(t.fullPath,a({scroll:l&&h&&h.scroll},i)):u.push(t.fullPath,i)),m.value=t,st(t,e,n,l),nt()}let U;function q(){U||(U=u.listen(((t,e,n)=>{if(!at.listening)return;const s=k(t),i=F(s);if(i)return void O(a(i,{replace:!0}),s).catch(h);g=s;const o=m.value;r&&tt(J(o.fullPath,n.delta),Z()),D(s,o).catch((t=>ft(t,12)?t:ft(t,2)?(O(t.to,s).then((t=>{ft(t,20)&&!n.delta&&n.type===W.pop&&u.go(-1,!1)})).catch(h),Promise.reject()):(n.delta&&u.go(-n.delta,!1),$(t,s,o)))).then((t=>{t=t||V(s,o,!1),t&&(n.delta&&!ft(t,8)?u.go(-n.delta,!1):n.type===W.pop&&ft(t,20)&&u.go(-1,!1)),X(s,o,t)})).catch(h)})))}let z,G=jt(),H=jt();function $(t,e,n){nt(t);const s=H.list();return s.length?s.forEach((s=>s(t,e,n))):console.error(t),Promise.reject(t)}function Q(){return z&&m.value!==j?Promise.resolve():new Promise(((t,e)=>{G.add([t,e])}))}function nt(t){return z||(z=!t,q(),G.list().forEach((([e,n])=>t?n(t):e())),G.reset()),t}function st(e,n,i,o){const{scrollBehavior:a}=t;if(!r||!a)return Promise.resolve();const l=!i&&et(J(e.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return(0,s.dY)().then((()=>a(e,n,l))).then((t=>t&&K(t))).catch((t=>$(t,e,n)))}const it=t=>u.go(t);let rt;const ot=new Set,at={currentRoute:m,listening:!0,addRoute:w,removeRoute:x,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:A,resolve:k,options:t,push:R,replace:I,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:d.add,beforeResolve:f.add,afterEach:p.add,onError:H.add,isReady:Q,install(t){const e=this;t.component("RouterLink",$t),t.component("RouterView",ne),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.R1)(m)}),r&&!rt&&m.value===j&&(rt=!0,R(u.location).catch((t=>{0})));const n={};for(const i in j)Object.defineProperty(n,i,{get:()=>m.value[i],enumerable:!0});t.provide(Xt,e),t.provide(Vt,(0,i.Gc)(n)),t.provide(Ut,m);const s=t.unmount;ot.add(t),t.unmount=function(){ot.delete(t),ot.size<1&&(g=j,U&&U(),U=null,m.value=j,rt=!1,z=!1),s()}}};function lt(t){return t.reduce(((t,e)=>t.then((()=>N(e)))),Promise.resolve())}return at}function ie(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const r=e.matched[o];r&&(t.matched.find((t=>N(t,r)))?s.push(r):n.push(r));const a=t.matched[o];a&&(e.matched.find((t=>N(t,a)))||i.push(a))}return[n,s,i]}}}]);
//# sourceMappingURL=chunk-vendors.b76dc843.js.map